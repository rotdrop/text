{"version":3,"file":"editor.js?v=ba41b756e72ee096fab1","mappings":"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AAQ,GAAG,SAAW,uUAAuU,eAAiB,CAAC,44CAA44C,WAAa,MAEtqF,4FCJIqa,QAA0B,GAA4B,KAE1DA,EAAwB1G,KAAK,CAAC2G,EAAOta,GAAI,y4BAA04B,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,2CAA2C,MAAQ,GAAG,SAAW,0TAA0T,eAAiB,CAAC,klCAAklC,WAAa,MAE17E,QAAe,cAAuB,sBCPtC,IAAIqN,EAAM,CACT,OAAQ,CACP,MACA,gBAED,UAAW,CACV,MACA,gBAED,SAAU,CACT,KACA,kBAED,YAAa,CACZ,KACA,kBAED,cAAe,CACd,MACA,uBAED,iBAAkB,CACjB,MACA,uBAED,iBAAkB,CACjB,MACA,0BAED,oBAAqB,CACpB,MACA,0BAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,gBAAiB,CAChB,MACA,yBAED,mBAAoB,CACnB,MACA,yBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,gBAAiB,CAChB,KACA,yBAED,mBAAoB,CACnB,KACA,yBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,YAAa,CACZ,KACA,qBAED,eAAgB,CACf,KACA,qBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,aAAc,CACb,MACA,sBAED,gBAAiB,CAChB,MACA,sBAED,YAAa,CACZ,MACA,qBAED,eAAgB,CACf,MACA,qBAED,eAAgB,CACf,MACA,wBAED,kBAAmB,CAClB,MACA,wBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,cAAe,CACd,MACA,uBAED,iBAAkB,CACjB,MACA,uBAED,MAAO,CACN,MACA,eAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,SAAU,CACT,MACA,eAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,cAAe,CACd,MACA,uBAED,iBAAkB,CACjB,MACA,uBAED,WAAY,CACX,KACA,oBAED,cAAe,CACd,KACA,oBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,YAAa,CACZ,MACA,qBAED,iBAAkB,CACjB,MACA,0BAED,oBAAqB,CACpB,MACA,0BAED,eAAgB,CACf,MACA,qBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,iBAAkB,CACjB,KACA,0BAED,oBAAqB,CACpB,KACA,0BAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,YAAa,CACZ,MACA,qBAED,eAAgB,CACf,MACA,qBAED,WAAY,CACX,IACA,oBAED,cAAe,CACd,IACA,oBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,MAAO,CACN,MACA,eAED,SAAU,CACT,MACA,eAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,eAAgB,CACf,MACA,wBAED,kBAAmB,CAClB,MACA,wBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,aAAc,CACb,MACA,sBAED,gBAAiB,CAChB,MACA,sBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,QAAS,CACR,IACA,iBAED,WAAY,CACX,IACA,iBAED,WAAY,CACX,MACA,oBAED,gBAAiB,CAChB,MACA,yBAED,mBAAoB,CACnB,MACA,yBAED,cAAe,CACd,MACA,oBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,YAAa,CACZ,MACA,qBAED,eAAgB,CACf,MACA,qBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,SAAU,CACT,KACA,kBAED,YAAa,CACZ,KACA,kBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,YAAa,CACZ,MACA,qBAED,eAAgB,CACf,MACA,qBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,OAAQ,CACP,MACA,gBAED,UAAW,CACV,MACA,gBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,eAAgB,CACf,MACA,wBAED,kBAAmB,CAClB,MACA,wBAED,YAAa,CACZ,MACA,qBAED,eAAgB,CACf,MACA,qBAED,SAAU,CACT,IACA,kBAED,YAAa,CACZ,IACA,kBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,aAAc,CACb,MACA,sBAED,gBAAiB,CAChB,MACA,sBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,OAAQ,CACP,MACA,gBAED,UAAW,CACV,MACA,gBAED,YAAa,CACZ,MACA,qBAED,eAAgB,CACf,MACA,qBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,eAAgB,CACf,MACA,wBAED,kBAAmB,CAClB,MACA,wBAED,cAAe,CACd,MACA,uBAED,iBAAkB,CACjB,MACA,uBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,UAAW,CACV,MACA,mBAED,eAAgB,CACf,MACA,wBAED,kBAAmB,CAClB,MACA,wBAED,aAAc,CACb,MACA,mBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,UAAW,CACV,IACA,mBAED,aAAc,CACb,IACA,mBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,SAAU,CACT,KACA,kBAED,YAAa,CACZ,KACA,kBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,mBAAoB,CACnB,MACA,4BAED,sBAAuB,CACtB,MACA,4BAED,eAAgB,CACf,MACA,wBAED,kBAAmB,CAClB,MACA,wBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,aAAc,CACb,MACA,sBAED,gBAAiB,CAChB,MACA,sBAED,aAAc,CACb,MACA,sBAED,gBAAiB,CAChB,MACA,sBAED,gBAAiB,CAChB,MACA,yBAED,mBAAoB,CACnB,MACA,yBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,YAAa,CACZ,MACA,qBAED,eAAgB,CACf,MACA,qBAED,YAAa,CACZ,MACA,qBAED,eAAgB,CACf,MACA,qBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,gBAAiB,CAChB,MACA,yBAED,mBAAoB,CACnB,MACA,yBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,eAAgB,CACf,MACA,wBAED,kBAAmB,CAClB,MACA,wBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,cAAe,CACd,MACA,uBAED,iBAAkB,CACjB,MACA,uBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,eAAgB,CACf,MACA,wBAED,kBAAmB,CAClB,MACA,wBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,aAAc,CACb,MACA,sBAED,gBAAiB,CAChB,MACA,sBAED,YAAa,CACZ,MACA,qBAED,eAAgB,CACf,MACA,qBAED,YAAa,CACZ,KACA,qBAED,eAAgB,CACf,KACA,qBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,OAAQ,CACP,MACA,gBAED,UAAW,CACV,MACA,gBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,QAAS,CACR,MACA,iBAED,iBAAkB,CACjB,MACA,0BAED,oBAAqB,CACpB,MACA,0BAED,WAAY,CACX,MACA,iBAED,cAAe,CACd,MACA,uBAED,iBAAkB,CACjB,MACA,uBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,eAAgB,CACf,MACA,wBAED,kBAAmB,CAClB,MACA,wBAED,eAAgB,CACf,MACA,wBAED,kBAAmB,CAClB,MACA,wBAED,YAAa,CACZ,KACA,qBAED,eAAgB,CACf,KACA,qBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,eAAgB,CACf,MACA,wBAED,kBAAmB,CAClB,MACA,wBAED,aAAc,CACb,KACA,sBAED,gBAAiB,CAChB,KACA,sBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,cAAe,CACd,MACA,uBAED,iBAAkB,CACjB,MACA,uBAED,WAAY,CACX,MACA,oBAED,gBAAiB,CAChB,MACA,yBAED,mBAAoB,CACnB,MACA,yBAED,cAAe,CACd,MACA,oBAED,MAAO,CACN,MACA,eAED,SAAU,CACT,MACA,eAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,MAAO,CACN,MACA,eAED,SAAU,CACT,MACA,eAED,aAAc,CACb,MACA,sBAED,gBAAiB,CAChB,MACA,sBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,aAAc,CACb,MACA,sBAED,gBAAiB,CAChB,MACA,sBAED,aAAc,CACb,MACA,sBAED,gBAAiB,CAChB,MACA,sBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,kBAAmB,CAClB,MACA,2BAED,qBAAsB,CACrB,MACA,2BAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,UAAW,CACV,KACA,mBAED,aAAc,CACb,KACA,mBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,cAAe,CACd,MACA,uBAED,iBAAkB,CACjB,MACA,uBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,aAAc,CACb,MACA,sBAED,gBAAiB,CAChB,MACA,sBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,YAAa,CACZ,MACA,qBAED,eAAgB,CACf,MACA,qBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,iBAAkB,CACjB,MACA,0BAED,oBAAqB,CACpB,MACA,0BAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,OAAQ,CACP,MACA,gBAED,UAAW,CACV,MACA,gBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,eAAgB,CACf,MACA,wBAED,kBAAmB,CAClB,MACA,wBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,UAAW,CACV,MACA,mBAED,aAAc,CACb,MACA,mBAED,aAAc,CACb,MACA,sBAED,kBAAmB,CAClB,KACA,2BAED,qBAAsB,CACrB,KACA,2BAED,gBAAiB,CAChB,MACA,sBAED,YAAa,CACZ,MACA,qBAED,eAAgB,CACf,MACA,qBAED,SAAU,CACT,MACA,kBAED,YAAa,CACZ,MACA,kBAED,QAAS,CACR,KACA,iBAED,WAAY,CACX,KACA,iBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,OAAQ,CACP,IACA,gBAED,UAAW,CACV,IACA,gBAED,QAAS,CACR,MACA,iBAED,WAAY,CACX,MACA,iBAED,WAAY,CACX,MACA,oBAED,cAAe,CACd,MACA,oBAED,SAAU,CACT,MACA,k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EA,kBAhCA,WAiCA,mFAEA,WAnCA,WAmCA,WACA,mBACA,mCAGA,sBAxCA,WAyCA,0DAEA,SA3CA,WA4CA,mHAEA,aA9CA,WA+CA,mCAEA,cAjDA,WAkDA,oFAEA,iBApDA,WAqDA,yBACA,mDACA,KAEA,UAzDA,WA0DA,0CAGA,OACA,gBADA,WAEA,wDAEA,UAJA,WAIA,WACA,2BACA,6CAIA,QA5JA,WA6JA,yCACA,mBAEA,wCAEA,QAlKA,WAkKA,WACA,+CACA,4BACA,MAEA,cAvKA,WAwKA,cAEA,SACA,MADA,WACA,+IACA,oCACA,iCAFA,0CAIA,sBAJA,OAKA,sBACA,mBANA,kFAWA,GAXA,0OAaA,sBAdA,WAeA,gBACA,6EAGA,YAnBA,WAmBA,WACA,+BAIA,2EACA,wBACA,2BACA,2BACA,YACA,iCACA,sBACA,uBACA,sCAEA,qBAIA,sDACA,mBACA,aACA,sBACA,wDACA,2DAEA,uDACA,iFAIA,4BACA,aAEA,iBACA,6CAPA,+BASA,gDACA,wBACA,qBACA,cACA,yBACA,+DACA,mBACA,UACA,oCACA,4BACA,2BAEA,oCACA,6BAEA,YACA,gBAGA,kCACA,6BAEA,SA1PA,IA2PA,kCACA,eACA,2BAGA,wDACA,8BACA,qBAGA,eACA,EACA,qDACA,yCAEA,8DACA,kBAGA,gBACA,mBAEA,OADA,sBACA,KAGA,gBACA,6BACA,kBACA,0DACA,+BAEA,iBACA,0DACA,iEAIA,iCACA,YACA,sCAEA,gCACA,oBAEA,+BACA,mBAEA,yCAGA,kDACA,wBACA,IACA,yFACA,gBACA,yBACA,QACA,kBAEA,mCACA,0BACA,SACA,4DAGA,gBAEA,0BACA,mCACA,2EACA,oBACA,aACA,OACA,SAGA,gDACA,wBAEA,kEACA,aACA,qCAGA,yBACA,yBAEA,oBAEA,8BACA,sCACA,oBACA,aACA,oBAEA,iBACA,6BAEA,kDACA,oBAGA,sBACA,sBACA,UACA,cACA,+CAEA,2BACA,uBACA,mBACA,6BACA,mBACA,2BAGA,uBACA,qCACA,mBACA,2BAGA,2BApLA,sDAuLA,sBA5MA,WA6MA,6BACA,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","sources":["webpack:///text/src/helpers/links.js","webpack:///text/src/marks/Link.js","webpack:///text/src/marks/Strike.js","webpack:///text/src/marks/Strong.js","webpack:///text/src/marks/Underline.js","webpack:///text/src/marks/index.js","webpack:///text/src/nodes/ImageView.vue","webpack:///text/src/nodes/ImageView.vue?vue&type=script&lang=js&","webpack://text/./src/nodes/ImageView.vue?ac90","webpack://text/./src/nodes/ImageView.vue?efcd","webpack:///text/src/nodes/ImageView.vue?vue&type=template&id=9d231158&scoped=true&","webpack:///text/src/nodes/Image.js","webpack:///text/src/nodes/PlainTextDocument.js","webpack:///text/src/nodes/ListItem.js","webpack:///text/src/commands/listInputRule.js","webpack:///text/src/nodes/BulletList.js","webpack:///text/src/nodes/TrailingNode.js","webpack:///text/src/EditorFactory.js","webpack:///text/src/extensions/Markdown.js","webpack:///text/src/extensions/Emoji.js","webpack:///text/src/extensions/Keymap.js","webpack:///text/src/extensions/tracking/models.js","webpack:///text/src/extensions/tracking/TrackState.js","webpack:///text/src/extensions/UserColor.js","webpack:///text/src/extensions/Collaboration.js","webpack:///text/src/helpers/index.js","webpack:///text/src/markdownit/index.js","webpack:///text/src/markdownit/underline.js","webpack:///text/src/mixins/isMobile.js","webpack:///text/src/mixins/store.js","webpack:///text/src/store.js","webpack:///text/src/components/CollisionResolveDialog.vue?vue&type=style&index=0&id=4a5d4c0f&scoped=true&lang=scss&","webpack:///text/src/components/EditorWrapper.vue?vue&type=style&index=0&id=79f22b78&scoped=true&lang=scss&","webpack:///text/src/components/EditorWrapper.vue?vue&type=style&index=1&lang=scss&","webpack:///text/src/components/ReadOnlyEditor.vue?vue&type=style&index=0&lang=scss&","webpack:///text/src/components/ReadOnlyEditor.vue?vue&type=style&index=1&lang=scss&","webpack:///text/src/nodes/ImageView.vue?vue&type=style&index=0&id=9d231158&scoped=true&lang=scss&","webpack:///text/src/views/DirectEditing.vue?vue&type=style&index=0&id=8decc61c&scoped=true&lang=scss&","webpack:///text/node_modules/highlight.js/lib/languages|lazy|/^\\.\\/.*$/|chunkName: highlight/[request]|groupOptions: {}|namespace object","webpack:///text/node_modules/moment/locale|sync|/^\\.\\/.*$","webpack:///text/src/components/CollisionResolveDialog.vue","webpack:///text/src/components/CollisionResolveDialog.vue?vue&type=script&lang=js&","webpack://text/./src/components/CollisionResolveDialog.vue?d090","webpack://text/./src/components/CollisionResolveDialog.vue?6ed8","webpack:///text/src/components/CollisionResolveDialog.vue?vue&type=template&id=4a5d4c0f&scoped=true&","webpack:///text/src/components/EditorWrapper.vue?vue&type=template&id=79f22b78&scoped=true&","webpack:///text/src/services/PollingBackend.js","webpack:///text/src/services/SyncService.js","webpack:///text/src/helpers/mappings.js","webpack:///text/src/components/EditorWrapper.vue","webpack:///text/src/components/EditorWrapper.vue?vue&type=script&lang=js&","webpack://text/./src/components/EditorWrapper.vue?53ad","webpack://text/./src/components/EditorWrapper.vue?973c","webpack://text/./src/components/EditorWrapper.vue?c069","webpack:///text/src/components/ReadOnlyEditor.vue?vue&type=template&id=50fe6c2c&","webpack:///text/src/components/ReadOnlyEditor.vue","webpack:///text/src/components/ReadOnlyEditor.vue?vue&type=script&lang=js&","webpack://text/./src/components/ReadOnlyEditor.vue?5123","webpack://text/./src/components/ReadOnlyEditor.vue?fcc9","webpack://text/./src/components/ReadOnlyEditor.vue?4b7c","webpack:///text/src/views/DirectEditing.vue?vue&type=template&id=8decc61c&scoped=true&","webpack:///text/src/views/DirectEditing.vue","webpack:///text/src/views/DirectEditing.vue?vue&type=script&lang=js&","webpack://text/./src/views/DirectEditing.vue?2527","webpack://text/./src/views/DirectEditing.vue?50c1"],"sourcesContent":["/*\n * @copyright Copyright (c) 2020 Azul <azul@riseup.net>\n *\n * @author Azul <azul@riseup.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { generateUrl } from '@nextcloud/router'\n\nconst absolutePath = function(base, rel) {\n\tif (!rel) {\n\t\treturn base\n\t}\n\tif (rel[0] === '/') {\n\t\treturn rel\n\t}\n\tbase = base.split('/')\n\trel = rel.split('/')\n\twhile (rel[0] === '..' || rel[0] === '.') {\n\t\tif (rel[0] === '..') {\n\t\t\tbase.pop()\n\t\t}\n\t\trel.shift()\n\t}\n\treturn base.concat(rel).join('/')\n}\n\nconst basedir = function(file) {\n\tconst end = file.lastIndexOf('/')\n\treturn (end > 0)\n\t\t? file.slice(0, end)\n\t\t: file.slice(0, end + 1) // basedir('/toplevel') should return '/'\n}\n\nconst domHref = function(node) {\n\tconst ref = node.attrs.href\n\tif (!ref) {\n\t\treturn ref\n\t}\n\tif (ref.match(/^[a-zA-Z]*:/)) {\n\t\treturn ref\n\t}\n\tconst match = ref.match(/^([^?]*)\\?fileId=(\\d+)/)\n\tif (match) {\n\t\tconst [, relPath, id] = match\n\t\tconst currentDir = basedir(OCA.Viewer.file)\n\t\tconst dir = absolutePath(currentDir, basedir(relPath))\n\t\treturn generateUrl(`/apps/files/?dir=${dir}&openfile=${id}#relPath=${relPath}`)\n\t}\n}\n\nconst parseHref = function(dom) {\n\tconst ref = dom.getAttribute('href')\n\tif (!ref) {\n\t\treturn ref\n\t}\n\tconst match = ref.match(/\\?dir=([^&]*)&openfile=([^&]*)#relPath=([^&]*)/)\n\tif (match) {\n\t\tconst [, , id, path] = match\n\t\treturn `${path}?fileId=${id}`\n\t}\n\treturn ref\n}\n\nexport {\n\tdomHref,\n\tparseHref,\n}\n","/*\n * @copyright Copyright (c) 2019 Azul <azul@riseup.net>\n *\n * @author Azul <azul@riseup.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport TipTapLink from '@tiptap/extension-link'\nimport { Plugin } from 'prosemirror-state'\nimport { domHref, parseHref } from './../helpers/links'\nimport markdownit from './../markdownit'\n\nconst Link = TipTapLink.extend({\n\n\tattrs: {\n\t\thref: {\n\t\t\tdefault: null,\n\t\t},\n\t},\n\n\tinclusive: false,\n\n\tparseDOM: [\n\t\t{\n\t\t\ttag: 'a[href]',\n\t\t\tgetAttrs: dom => ({\n\t\t\t\thref: parseHref(dom),\n\t\t\t}),\n\t\t},\n\t],\n\n\ttoDOM: node => ['a', {\n\t\t...node.attrs,\n\t\thref: domHref(node),\n\t\ttitle: node.attrs.href,\n\t\trel: 'noopener noreferrer nofollow',\n\t}, 0],\n\n\taddProseMirrorPlugins() {\n\t\tif (!this.options.openOnClick) {\n\t\t\treturn []\n\t\t}\n\t\treturn [\n\t\t\tnew Plugin({\n\t\t\t\tprops: {\n\t\t\t\t\thandleClick: (view, pos, event) => {\n\t\t\t\t\t\tconst attrs = this.editor.getAttributes('link')\n\n\t\t\t\t\t\tconst isLink = event.target instanceof HTMLAnchorElement || event.target.parentElement instanceof HTMLAnchorElement\n\t\t\t\t\t\tif (attrs.href && isLink) {\n\t\t\t\t\t\t\tconst linkElement = event.target.parentElement instanceof HTMLAnchorElement ? event.target.parentElement : event.target\n\t\t\t\t\t\t\tevent.stopPropagation()\n\t\t\t\t\t\t\tconst htmlHref = linkElement.href\n\t\t\t\t\t\t\tif (event.button === 0 && !event.ctrlKey && htmlHref.startsWith(window.location.origin)) {\n\t\t\t\t\t\t\t\tconst query = OC.parseQueryString(htmlHref)\n\t\t\t\t\t\t\t\tconst fragment = OC.parseQueryString(htmlHref.split('#').pop())\n\t\t\t\t\t\t\t\tif (query.dir && fragment.relPath) {\n\t\t\t\t\t\t\t\t\tconst filename = fragment.relPath.split('/').pop()\n\t\t\t\t\t\t\t\t\tconst path = `${query.dir}/${filename}`\n\t\t\t\t\t\t\t\t\tdocument.title = `${filename} - ${OC.theme.title}`\n\t\t\t\t\t\t\t\t\tif (window.location.pathname.match(/apps\\/files\\/$/)) {\n\t\t\t\t\t\t\t\t\t\t// The files app still lacks a popState handler\n\t\t\t\t\t\t\t\t\t\t// to allow for using the back button\n\t\t\t\t\t\t\t\t\t\t// OC.Util.History.pushState('', htmlHref)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tOCA.Viewer.open({ path })\n\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!markdownit.validateLink(htmlHref)) {\n\t\t\t\t\t\t\t\tconsole.error('Invalid link', htmlHref)\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\twindow.open(htmlHref)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}),\n\t\t]\n\t},\n})\n\nexport default Link\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport TipTapStrike from '@tiptap/extension-strike'\n\nexport default TipTapStrike.extend({\n\n\tparseHTML() {\n\t\treturn [\n\t\t\t{\n\t\t\t\ttag: 's',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttag: 'del',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttag: 'strike',\n\t\t\t},\n\t\t\t{\n\t\t\t\tstyle: 'text-decoration',\n\t\t\t\tgetAttrs: value => value === 'line-through',\n\t\t\t},\n\t\t]\n\t},\n\n\trenderHTML() {\n\t\treturn ['s', 0]\n\t},\n\n\t/** Strike is currently unsupported by prosemirror-markdown */\n\ttoMarkdown: {\n\t\topen: '~~',\n\t\tclose: '~~',\n\t\tmixable: true,\n\t\texpelEnclosingWhitespace: true,\n\t},\n})\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { markInputRule, markPasteRule } from '@tiptap/core'\nimport { Bold, starInputRegex, starPasteRegex } from '@tiptap/extension-bold'\n\nconst Strong = Bold.extend({\n\tname: 'strong',\n\n\taddInputRules() {\n\t\treturn [\n\t\t\tmarkInputRule({\n\t\t\t\tfind: starInputRegex,\n\t\t\t\ttype: this.type,\n\t\t\t}),\n\t\t]\n\t},\n\n\taddPasteRules() {\n\t\treturn [\n\t\t\tmarkPasteRule({\n\t\t\t\tfind: starPasteRegex,\n\t\t\t\ttype: this.type,\n\t\t\t}),\n\t\t]\n\t},\n})\n\nexport default Strong\n","/*\n * @copyright Copyright (c) 2022 Max <max@nextcloud.com>\n *\n * @author Max <max@nextcloud.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport TipTapUnderline from '@tiptap/extension-underline'\nimport { markInputRule, markPasteRule } from '@tiptap/core'\nimport { underscoreInputRegex, underscorePasteRegex } from '@tiptap/extension-bold'\n\nconst Underline = TipTapUnderline.extend({\n\n\tparseHTML() {\n\t\treturn [\n\t\t\t{\n\t\t\t\ttag: 'u',\n\t\t\t},\n\t\t\t{\n\t\t\t\tstyle: 'text-decoration',\n\t\t\t\tgetAttrs: value => value === 'underline',\n\t\t\t},\n\t\t]\n\t},\n\n\trenderHTML() {\n\t\treturn ['u', 0]\n\t},\n\n\ttoMarkdown: {\n\t\topen: '__',\n\t\tclose: '__',\n\t\tmixable: true,\n\t\texpelEnclosingWhitespace: true,\n\t},\n\n\taddInputRules() {\n\t\treturn [\n\t\t\tmarkInputRule({\n\t\t\t\tfind: underscoreInputRegex,\n\t\t\t\ttype: this.type,\n\t\t\t}),\n\t\t]\n\t},\n\n\taddPasteRules() {\n\t\treturn [\n\t\t\tmarkPasteRule({\n\t\t\t\tfind: underscorePasteRegex,\n\t\t\t\ttype: this.type,\n\t\t\t}),\n\t\t]\n\t},\n\n})\n\nexport default Underline\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport TipTapItalic from '@tiptap/extension-italic'\nimport Link from './Link'\nimport Strike from './Strike'\nimport Strong from './Strong'\nimport Underline from './Underline'\n\nconst Italic = TipTapItalic.extend({\n\tname: 'em',\n})\n\nexport {\n\tStrong,\n\tItalic,\n\tStrike,\n\tLink,\n\tUnderline,\n}\n","<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<NodeViewWrapper>\n\t\t<div class=\"image\" :class=\"{'icon-loading': !loaded}\" :data-src=\"src\">\n\t\t\t<div v-if=\"imageLoaded && isSupportedImage\"\n\t\t\t\tv-click-outside=\"() => showIcons = false\"\n\t\t\t\tclass=\"image__view\"\n\t\t\t\t@click=\"showIcons = true\"\n\t\t\t\t@mouseover=\"showIcons = true\"\n\t\t\t\t@mouseleave=\"showIcons = false\">\n\t\t\t\t<transition name=\"fade\">\n\t\t\t\t\t<img v-show=\"loaded\"\n\t\t\t\t\t\t:src=\"imageUrl\"\n\t\t\t\t\t\tclass=\"image__main\"\n\t\t\t\t\t\t@load=\"onLoaded\">\n\t\t\t\t</transition>\n\t\t\t\t<transition name=\"fade\">\n\t\t\t\t\t<div v-show=\"loaded\" class=\"image__caption\">\n\t\t\t\t\t\t<input ref=\"altInput\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t:value=\"alt\"\n\t\t\t\t\t\t\t@keyup.enter=\"updateAlt()\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"showIcons\"\n\t\t\t\t\t\t\tclass=\"trash-icon\"\n\t\t\t\t\t\t\ttitle=\"Delete this image\"\n\t\t\t\t\t\t\t@click=\"deleteImage\">\n\t\t\t\t\t\t\t<TrashCanIcon />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</transition>\n\t\t\t</div>\n\t\t\t<div v-else>\n\t\t\t\t<transition name=\"fade\">\n\t\t\t\t\t<div v-show=\"loaded\">\n\t\t\t\t\t\t<a :href=\"internalLinkOrImage\" target=\"_blank\">\n\t\t\t\t\t\t\t<span v-if=\"!isSupportedImage\">{{ alt }}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</transition>\n\t\t\t\t<transition v-if=\"isSupportedImage\" name=\"fade\">\n\t\t\t\t\t<div v-show=\"loaded\" class=\"image__caption\">\n\t\t\t\t\t\t<input ref=\"altInput\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t:value=\"alt\"\n\t\t\t\t\t\t\t@keyup.enter=\"updateAlt()\">\n\t\t\t\t\t</div>\n\t\t\t\t</transition>\n\t\t\t</div>\n\t\t</div>\n\t</NodeViewWrapper>\n</template>\n\n<script>\nimport path from 'path'\nimport { generateUrl, generateRemoteUrl } from '@nextcloud/router'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { NodeViewWrapper } from '@tiptap/vue-2'\nimport ClickOutside from 'vue-click-outside'\nimport TrashCanIcon from 'vue-material-design-icons/TrashCan.vue'\nimport store from './../mixins/store'\n\nconst imageMimes = [\n\t'image/png',\n\t'image/jpeg',\n\t'image/jpg',\n\t'image/gif',\n\t'image/x-xbitmap',\n\t'image/x-ms-bmp',\n\t'image/bmp',\n\t'image/svg+xml',\n\t'image/webp',\n]\n\nconst getQueryVariable = (src, variable) => {\n\tconst query = src.split('?')[1]\n\tif (typeof query === 'undefined') {\n\t\treturn\n\t}\n\tconst vars = query.split(/[&#]/)\n\tif (typeof vars === 'undefined') {\n\t\treturn\n\t}\n\tfor (let i = 0; i < vars.length; i++) {\n\t\tconst pair = vars[i].split('=')\n\t\tif (decodeURIComponent(pair[0]) === variable) {\n\t\t\treturn decodeURIComponent(pair[1])\n\t\t}\n\t}\n}\n\nexport default {\n\tname: 'ImageView',\n\tcomponents: {\n\t\tTrashCanIcon,\n\t\tNodeViewWrapper,\n\t},\n\tdirectives: {\n\t\tClickOutside,\n\t},\n\tmixins: [\n\t\tstore,\n\t],\n\tprops: ['node', 'extension', 'updateAttributes', 'getPos'], // eslint-disable-line\n\tdata() {\n\t\treturn {\n\t\t\timageLoaded: false,\n\t\t\tloaded: false,\n\t\t\tfailed: false,\n\t\t\tshowIcons: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tcurrentSession() {\n\t\t\treturn this.$store.state.currentSession\n\t\t},\n\t\tdavUrl() {\n\t\t\tif (getCurrentUser()) {\n\t\t\t\tconst uid = getCurrentUser().uid\n\t\t\t\tconst encoded = encodeURI(this.filePath)\n\t\t\t\treturn generateRemoteUrl(`dav/files/${uid}${encoded}`)\n\t\t\t} else {\n\t\t\t\treturn generateUrl('/s/{token}/download?path={dirname}&files={basename}',\n\t\t\t\t\t{\n\t\t\t\t\t\ttoken: this.token,\n\t\t\t\t\t\tdirname: this.extension.options.currentDirectory,\n\t\t\t\t\t\tbasename: this.basename,\n\t\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\timageUrl() {\n\t\t\tif (this.src.startsWith('text://')) {\n\t\t\t\tconst documentId = this.currentSession?.documentId\n\t\t\t\tconst sessionId = this.currentSession?.id\n\t\t\t\tconst sessionToken = this.currentSession?.token\n\t\t\t\tconst imageFileName = getQueryVariable(this.src, 'imageFileName')\n\t\t\t\tif (getCurrentUser() || !this.token) {\n\t\t\t\t\treturn generateUrl('/apps/text/image?documentId={documentId}&sessionId={sessionId}&sessionToken={sessionToken}&imageFileName={imageFileName}',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdocumentId,\n\t\t\t\t\t\t\tsessionId,\n\t\t\t\t\t\t\tsessionToken,\n\t\t\t\t\t\t\timageFileName,\n\t\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\treturn generateUrl('/apps/text/image?documentId={documentId}&sessionId={sessionId}&sessionToken={sessionToken}&imageFileName={imageFileName}&shareToken={shareToken}',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdocumentId,\n\t\t\t\t\t\t\tsessionId,\n\t\t\t\t\t\t\tsessionToken,\n\t\t\t\t\t\t\timageFileName,\n\t\t\t\t\t\t\tshareToken: this.token,\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.isRemoteUrl || this.isPreviewUrl) {\n\t\t\t\treturn this.src\n\t\t\t}\n\t\t\tif (this.hasPreview && this.mime !== 'image/gif') {\n\t\t\t\treturn this.previewUrl\n\t\t\t}\n\t\t\treturn this.davUrl\n\t\t},\n\t\tisRemoteUrl() {\n\t\t\treturn this.src.startsWith('http://')\n\t\t\t\t|| this.src.startsWith('https://')\n\t\t},\n\t\tisPreviewUrl() {\n\t\t\treturn this.src.match(/^(\\/index.php)?\\/core\\/preview/)\n\t\t\t\t|| this.src.match(/^(\\/index.php)?\\/apps\\/files_sharing\\/publicpreview\\//)\n\t\t},\n\t\tbasename() {\n\t\t\treturn decodeURI(this.src.split('?')[0])\n\t\t},\n\t\tfileId() {\n\t\t\treturn getQueryVariable(this.src, 'fileId')\n\t\t},\n\t\tfilePath() {\n\t\t\tconst f = [\n\t\t\t\tthis.extension.options.currentDirectory,\n\t\t\t\tthis.basename,\n\t\t\t].join('/')\n\t\t\treturn path.normalize(f)\n\t\t},\n\t\thasPreview() {\n\t\t\treturn getQueryVariable(this.src, 'hasPreview') === 'true'\n\t\t},\n\t\tpreviewUrl() {\n\t\t\tconst fileQuery = (this.fileId)\n\t\t\t\t? `?fileId=${this.fileId}&file=${encodeURIComponent(this.filePath)}`\n\t\t\t\t: `?file=${encodeURIComponent(this.filePath)}`\n\t\t\tconst query = fileQuery + '&x=1024&y=1024&a=true'\n\n\t\t\tif (getCurrentUser()) {\n\t\t\t\treturn generateUrl('/core/preview') + query\n\t\t\t} else {\n\t\t\t\treturn generateUrl(`/apps/files_sharing/publicpreview/${this.token}${query}`)\n\t\t\t}\n\t\t},\n\t\tmime() {\n\t\t\treturn getQueryVariable(this.src, 'mimetype')\n\t\t},\n\t\tmimeIcon() {\n\t\t\tif (this.mime) {\n\t\t\t\tconst mimeIconUrl = window.OC.MimeType.getIconUrl(this.mime)\n\t\t\t\treturn { backgroundImage: `url(${mimeIconUrl})` }\n\t\t\t}\n\t\t\treturn {}\n\t\t},\n\t\tisSupportedImage() {\n\t\t\treturn typeof this.mime === 'undefined'\n\t\t\t\t|| imageMimes.indexOf(this.mime) !== -1\n\t\t},\n\t\tinternalLinkOrImage() {\n\t\t\tconst fileId = getQueryVariable(this.src, 'fileId')\n\t\t\tif (fileId) {\n\t\t\t\treturn generateUrl('/f/' + fileId)\n\t\t\t}\n\t\t\treturn this.src\n\t\t},\n\t\tsrc: {\n\t\t\tget() {\n\t\t\t\treturn this.node.attrs.src || ''\n\t\t\t},\n\t\t\tset(src) {\n\t\t\t\tthis.updateAttributes({\n\t\t\t\t\tsrc,\n\t\t\t\t})\n\t\t\t},\n\t\t},\n\t\talt: {\n\t\t\tget() {\n\t\t\t\treturn this.node.attrs.alt ? this.node.attrs.alt : ''\n\t\t\t},\n\t\t\tset(alt) {\n\t\t\t\tthis.updateAttributes({\n\t\t\t\t\talt,\n\t\t\t\t})\n\t\t\t},\n\t\t},\n\t\tt() {\n\t\t\treturn (a, s) => window.t(a, s)\n\t\t},\n\t\ttoken() {\n\t\t\treturn document.getElementById('sharingToken')\n\t\t\t\t&& document.getElementById('sharingToken').value\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tif (!this.isSupportedImage) {\n\t\t\t// TODO check if hasPreview and render a file preview if available\n\t\t\tthis.failed = true\n\t\t\tthis.imageLoaded = false\n\t\t\tthis.loaded = true\n\t\t\treturn\n\t\t}\n\t\tconst img = new Image()\n\t\timg.src = this.imageUrl\n\t\timg.onload = () => {\n\t\t\tthis.imageLoaded = true\n\t\t}\n\t\timg.onerror = () => {\n\t\t\tthis.failed = true\n\t\t\tthis.imageLoaded = false\n\t\t\tthis.loaded = true\n\t\t}\n\t},\n\tmethods: {\n\t\tupdateAlt() {\n\t\t\tthis.alt = this.$refs.altInput.value\n\t\t},\n\t\tonLoaded() {\n\t\t\tthis.loaded = true\n\t\t},\n\t\tdeleteImage() {\n\t\t\tconst tr = this.view.state.tr\n\t\t\tconst pos = this.getPos()\n\t\t\ttr.delete(pos, pos + this.node.nodeSize)\n\t\t\tthis.view.dispatch(tr)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t.image {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t.image__caption {\n\t\ttext-align: center;\n\t\tcolor: var(--color-text-lighter);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tinput[type='text'] {\n\t\t\tmax-width: 80%;\n\t\t\tborder: none;\n\t\t\ttext-align: center;\n\t\t}\n\t}\n\n\t.image__loading {\n\t\theight: 100px;\n\t}\n\n\t.image__view {\n\t\ttext-align: center;\n\t\tposition: relative;\n\n\t\timg {\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n\n\t.image__main {\n\t\tmax-height: calc(100vh - 50px - 50px);\n\t}\n\n\t.fade-enter-active {\n\t\ttransition: opacity .3s ease-in-out;\n\t}\n\n\t.fade-enter-to {\n\t\topacity: 1;\n\t}\n\n\t.fade-enter {\n\t\topacity: 0;\n\t}\n\n\t.trash-icon {\n\t\tposition: absolute;\n\t\tright: 0;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\talign-items: center;\n\t\tsvg {\n\t\t\tcursor: pointer;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageView.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageView.vue?vue&type=style&index=0&id=9d231158&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageView.vue?vue&type=style&index=0&id=9d231158&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ImageView.vue?vue&type=template&id=9d231158&scoped=true&\"\nimport script from \"./ImageView.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageView.vue?vue&type=style&index=0&id=9d231158&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d231158\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('NodeViewWrapper',[_c('div',{staticClass:\"image\",class:{'icon-loading': !_vm.loaded},attrs:{\"data-src\":_vm.src}},[(_vm.imageLoaded && _vm.isSupportedImage)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(function () { return _vm.showIcons = false; }),expression:\"() => showIcons = false\"}],staticClass:\"image__view\",on:{\"click\":function($event){_vm.showIcons = true},\"mouseover\":function($event){_vm.showIcons = true},\"mouseleave\":function($event){_vm.showIcons = false}}},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loaded),expression:\"loaded\"}],staticClass:\"image__main\",attrs:{\"src\":_vm.imageUrl},on:{\"load\":_vm.onLoaded}})]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loaded),expression:\"loaded\"}],staticClass:\"image__caption\"},[_c('input',{ref:\"altInput\",attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.alt},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateAlt()}}}),_vm._v(\" \"),(_vm.showIcons)?_c('div',{staticClass:\"trash-icon\",attrs:{\"title\":\"Delete this image\"},on:{\"click\":_vm.deleteImage}},[_c('TrashCanIcon')],1):_vm._e()])])],1):_c('div',[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loaded),expression:\"loaded\"}]},[_c('a',{attrs:{\"href\":_vm.internalLinkOrImage,\"target\":\"_blank\"}},[(!_vm.isSupportedImage)?_c('span',[_vm._v(_vm._s(_vm.alt))]):_vm._e()])])]),_vm._v(\" \"),(_vm.isSupportedImage)?_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loaded),expression:\"loaded\"}],staticClass:\"image__caption\"},[_c('input',{ref:\"altInput\",attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.alt},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateAlt()}}})])]):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport TiptapImage from '@tiptap/extension-image'\nimport ImageView from './ImageView'\nimport { VueNodeViewRenderer } from '@tiptap/vue-2'\n\nconst Image = TiptapImage.extend({\n\n\tselectable: false,\n\n\taddOptions() {\n\t\treturn {\n\t\t\t...this.parent?.(),\n\t\t\tcurrentDirectory: undefined,\n\t\t}\n\t},\n\n\taddNodeView() {\n\t\treturn VueNodeViewRenderer(ImageView)\n\t},\n\n})\n\nexport default Image\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { Node } from '@tiptap/core'\n\nexport default Node.create({\n\tname: 'doc',\n\tcontent: 'block',\n\taddKeyboardShortcuts() {\n\t\treturn {\n\t\t\tTab: () => this.editor.commands.insertContent('\\t'),\n\t\t}\n\t},\n\n})\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport TipTapListItem from '@tiptap/extension-list-item'\nimport { wrappingInputRule, mergeAttributes } from '@tiptap/core'\nimport { Plugin } from 'prosemirror-state'\nimport { findParentNode, findParentNodeClosestToPos } from 'prosemirror-utils'\nimport { listInputRule } from '../commands'\n\nconst TYPES = {\n\tBULLET: 0,\n\tCHECKBOX: 1,\n}\n\nconst getParentList = (schema, selection) => {\n\treturn findParentNode(function(node) {\n\t\treturn node.type === schema.nodes.listItem\n\t})(selection)\n}\n\nconst ListItem = TipTapListItem.extend({\n\n\taddOptions() {\n\t\treturn {\n\t\t\tnested: true,\n\t\t}\n\t},\n\n\taddAttributes() {\n\t\treturn {\n\t\t\tdone: {\n\t\t\t\tdefault: false,\n\t\t\t},\n\t\t\ttype: {\n\t\t\t\tdefault: TYPES.BULLET,\n\t\t\t},\n\t\t}\n\t},\n\n\tdraggable: false,\n\n\tcontent: 'paragraph block*',\n\n\trenderHTML({ node, HTMLAttributes }) {\n\t\tif (node.attrs.type === TYPES.BULLET) {\n\t\t\treturn ['li', HTMLAttributes, 0]\n\t\t}\n\t\tconst listAttributes = { class: 'checkbox-item' }\n\t\tconst checkboxAttributes = { type: 'checkbox', class: '', contenteditable: false }\n\t\tif (node.attrs.done) {\n\t\t\tcheckboxAttributes.checked = true\n\t\t\tlistAttributes.class += ' checked'\n\t\t}\n\t\treturn [\n\t\t\t'li',\n\t\t\tmergeAttributes(HTMLAttributes, listAttributes),\n\t\t\t[\n\t\t\t\t'input',\n\t\t\t\tcheckboxAttributes,\n\t\t\t],\n\t\t\t[\n\t\t\t\t'label',\n\t\t\t\t0,\n\t\t\t],\n\t\t]\n\t},\n\n\tparseHTML: [\n\t\t{\n\t\t\tpriority: 100,\n\t\t\ttag: 'li',\n\t\t\tgetAttrs: el => {\n\t\t\t\tconst checkbox = el.querySelector('input[type=checkbox]')\n\t\t\t\treturn { done: checkbox && checkbox.checked, type: checkbox ? TYPES.CHECKBOX : TYPES.BULLET }\n\t\t\t},\n\t\t},\n\t],\n\n\ttoMarkdown: (state, node) => {\n\t\tif (node.attrs.type === TYPES.CHECKBOX) {\n\t\t\tstate.write(`[${node.attrs.done ? 'x' : ' '}] `)\n\t\t}\n\t\tstate.renderContent(node)\n\t},\n\n\taddCommands() {\n\t\treturn {\n\t\t\tbulletListItem: () => ({ commands }) => {\n\t\t\t\treturn commands.toggleList('bulletList', 'listItem')\n\t\t\t},\n\t\t\t// TODO: understand this, maybe fix it and / or tweak it.\n\t\t\ttodo_item: () => ({ chain, commands, state }) => {\n\t\t\t\tconst schema = state.schema\n\t\t\t\tconst selection = state.selection\n\t\t\t\tconst $from = selection.$from\n\t\t\t\tconst $to = selection.$to\n\t\t\t\tconst range = $from.blockRange($to)\n\n\t\t\t\tif (!range) {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\n\t\t\t\tlet parentList = getParentList(schema, selection)\n\n\t\t\t\tconst start = (typeof parentList === 'undefined')\n\t\t\t\t\t? chain().bulletListItem()\n\t\t\t\t\t: chain()\n\n\t\t\t\tstart\n\t\t\t\t\t.command(({ tr }) => {\n\t\t\t\t\t\tif (typeof parentList === 'undefined') {\n\t\t\t\t\t\t\tparentList = getParentList(schema, tr.selection)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof parentList === 'undefined') {\n\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (parentList.node.attrs.type === TYPES.CHECKBOX) {\n\t\t\t\t\t\t\treturn commands.toggleList('bulletList', 'listItem')\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttr.doc.nodesBetween(tr.selection.from, tr.selection.to, (node, pos) => {\n\t\t\t\t\t\t\tif (node.type === schema.nodes.listItem) {\n\t\t\t\t\t\t\t\ttr.setNodeMarkup(pos, node.type, {\n\t\t\t\t\t\t\t\t\ttype: parentList.node.attrs.type === TYPES.CHECKBOX ? TYPES.BULLET : TYPES.CHECKBOX,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\ttr.scrollIntoView()\n\t\t\t\t\t})\n\t\t\t\t\t.run()\n\t\t\t\treturn true\n\t\t\t},\n\t\t}\n\t},\n\n\taddInputRules() {\n\t\treturn [\n\t\t\twrappingInputRule({\n\t\t\t\tfind: /^\\s*([-+*])\\s(\\[(x|X| ?)\\])\\s$/,\n\t\t\t\ttype: this.type,\n\t\t\t\tgetAttributes: match => ({\n\t\t\t\t\ttype: TYPES.CHECKBOX,\n\t\t\t\t\tdone: 'xX'.includes(match[match.length - 1]),\n\t\t\t\t}),\n\t\t\t}),\n\t\t\tlistInputRule(\n\t\t\t\t/^\\s*([-+*])\\s([^\\s[])$/,\n\t\t\t\tthis.type,\n\t\t\t\t_match => ({ type: TYPES.BULLET }),\n\t\t\t),\n\t\t]\n\t},\n\n\taddProseMirrorPlugins() {\n\t\treturn [\n\t\t\tnew Plugin({\n\t\t\t\tprops: {\n\t\t\t\t\thandleClick: (view, pos, event) => {\n\t\t\t\t\t\tconst state = view.state\n\t\t\t\t\t\tconst schema = state.schema\n\n\t\t\t\t\t\tconst coordinates = view.posAtCoords({ left: event.clientX, top: event.clientY })\n\t\t\t\t\t\tconst position = state.doc.resolve(coordinates.pos)\n\t\t\t\t\t\tconst parentList = findParentNodeClosestToPos(position, function(node) {\n\t\t\t\t\t\t\treturn node.type === schema.nodes.listItem\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconst isListClicked = event.target.tagName.toLowerCase() === 'li'\n\t\t\t\t\t\tif (typeof parentList === 'undefined' || parentList.node.attrs.type !== TYPES.CHECKBOX || !isListClicked) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst tr = state.tr\n\t\t\t\t\t\ttr.setNodeMarkup(parentList.pos, schema.nodes.listItem, { done: !parentList.node.attrs.done, type: TYPES.CHECKBOX })\n\t\t\t\t\t\tview.dispatch(tr)\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}),\n\t\t]\n\t},\n\n})\n\nexport default ListItem\n","/*\n * @copyright Copyright (c) 2021 Jonas Meurer <jonas@freesources.org>\n *\n * @author Jonas Meurer <jonas@freesources.org>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { InputRule, wrappingInputRule } from '@tiptap/core'\n\n/**\n * Wrapping input handler that will append the content of the last match\n *\n * @param {RegExp} find find param for the wrapping input rule\n * @param {object} type Node Type object\n * @param {*} getAttributes handler to get the attributes\n */\nexport default function(find, type, getAttributes) {\n\tconst handler = ({ state, range, match }) => {\n\t\tconst wrap = wrappingInputRule({ find, type, getAttributes })\n\t\twrap.handler({ state, range, match })\n\t\t// Insert the first character after bullet if there is one\n\t\tif (match.length >= 3) {\n\t\t\tstate.tr.insertText(match[2])\n\t\t}\n\t}\n\treturn new InputRule({ find, handler })\n}\n","/*\n * @copyright Copyright (c) 2020 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport TiptapBulletList from '@tiptap/extension-bullet-list'\n\n/* We want to allow for mixed lists with todo items and bullet points.\n * Therefore the list input rules are handled in the ListItem node.\n * This way we can make sure that \"- [ ]\" can still trigger todo list items\n * even inside a list with bullet points.\n */\nconst BulletList = TiptapBulletList.extend({\n\n\taddInputRules() {\n\t\treturn []\n\t},\n\n})\n\nexport default BulletList\n","/*\n * @copyright Copyright (c) 2021, überdosis GbR\n *\n * @license MIT\n *\n */\n\nimport { Extension } from '@tiptap/core'\nimport { PluginKey, Plugin } from 'prosemirror-state'\n\n/**\n * @param {object} args Arguments as deconstructable object\n * @param {Array | object} args.types possible types\n * @param {object} args.node node to check\n */\nfunction nodeEqualsType({ types, node }) {\n\treturn (Array.isArray(types) && types.includes(node.type)) || node.type === types\n}\n\n/**\n * Extension based on:\n * - https://github.com/ueberdosis/tiptap/tree/main/demos/src/Experiments/TrailingNode\n * - https://github.com/ueberdosis/tiptap/blob/v1/packages/tiptap-extensions/src/extensions/TrailingNode.js\n * - https://github.com/remirror/remirror/blob/e0f1bec4a1e8073ce8f5500d62193e52321155b9/packages/prosemirror-trailing-node/src/trailing-node-plugin.ts\n */\n\nconst TrailingNode = Extension.create({\n\tname: 'trailingNode',\n\n\taddOptions() {\n\t\treturn {\n\t\t\tnode: 'paragraph',\n\t\t\tnotAfter: ['paragraph'],\n\t\t}\n\t},\n\n\taddProseMirrorPlugins() {\n\t\tconst plugin = new PluginKey(this.name)\n\t\tconst disabledNodes = Object.entries(this.editor.schema.nodes)\n\t\t\t.map(([, value]) => value)\n\t\t\t.filter(node => this.options.notAfter.includes(node.name))\n\n\t\treturn [\n\t\t\tnew Plugin({\n\t\t\t\tkey: plugin,\n\t\t\t\tappendTransaction: (_, __, state) => {\n\t\t\t\t\tconst { doc, tr, schema } = state\n\t\t\t\t\tconst shouldInsertNodeAtEnd = plugin.getState(state)\n\t\t\t\t\tconst endPosition = doc.content.size\n\t\t\t\t\tconst type = schema.nodes[this.options.node]\n\n\t\t\t\t\tif (!shouldInsertNodeAtEnd) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\treturn tr.insert(endPosition, type.create())\n\t\t\t\t},\n\t\t\t\tstate: {\n\t\t\t\t\tinit: (_, state) => {\n\t\t\t\t\t\tconst lastNode = state.tr.doc.lastChild\n\t\t\t\t\t\treturn !nodeEqualsType({ node: lastNode, types: disabledNodes })\n\t\t\t\t\t},\n\t\t\t\t\tapply: (tr, value) => {\n\t\t\t\t\t\tif (!tr.docChanged) {\n\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst lastNode = tr.doc.lastChild\n\t\t\t\t\t\treturn !nodeEqualsType({ node: lastNode, types: disabledNodes })\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}),\n\t\t]\n\t},\n})\n\nexport default TrailingNode\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n*/\nimport Document from '@tiptap/extension-document'\nimport Paragraph from '@tiptap/extension-paragraph'\nimport Text from '@tiptap/extension-text'\nimport Heading from '@tiptap/extension-heading'\nimport History from '@tiptap/extension-history'\nimport Blockquote from '@tiptap/extension-blockquote'\nimport Codeblock from '@tiptap/extension-code-block'\nimport Placeholder from '@tiptap/extension-placeholder'\nimport OrderedList from '@tiptap/extension-ordered-list'\nimport { Editor } from '@tiptap/core'\nimport { Strong, Italic, Strike, Link, Underline } from './marks'\nimport {\n\tImage,\n\tPlainTextDocument,\n\tListItem,\n\tBulletList,\n\tTrailingNode,\n} from './nodes'\nimport { Markdown, Emoji } from './extensions'\nimport { translate as t } from '@nextcloud/l10n'\n\nimport 'proxy-polyfill'\n\nconst loadSyntaxHighlight = async (language) => {\n\tconst languages = [language]\n\tconst modules = {}\n\tfor (let i = 0; i < languages.length; i++) {\n\t\ttry {\n\t\t\tconst lang = await import(/* webpackChunkName: \"highlight/[request]\" */'highlight.js/lib/languages/' + languages[i])\n\t\t\tmodules[languages[i]] = lang.default\n\t\t} catch (e) {\n\t\t\t// No matching highlighing found, fallback to none\n\t\t\treturn undefined\n\t\t}\n\t}\n\tif (Object.keys(modules).length === 0 && modules.constructor === Object) {\n\t\treturn undefined\n\t}\n\treturn { languages: modules }\n}\n\nconst createEditor = ({ content, onCreate, onUpdate, extensions, enableRichEditing, languages, currentDirectory }) => {\n\tlet richEditingExtensions = []\n\tif (enableRichEditing) {\n\t\trichEditingExtensions = [\n\t\t\tMarkdown,\n\t\t\tDocument,\n\t\t\tParagraph,\n\t\t\tHeading,\n\t\t\tStrong,\n\t\t\tItalic,\n\t\t\tStrike,\n\t\t\tLink.configure({ openOnClick: true }),\n\t\t\tBlockquote,\n\t\t\tCodeblock,\n\t\t\tBulletList,\n\t\t\tOrderedList,\n\t\t\tListItem,\n\t\t\tUnderline,\n\t\t\tImage.configure({ currentDirectory, inline: true }),\n\t\t\tEmoji,\n\t\t\tPlaceholder.configure({\n\t\t\t\temptyNodeClass: 'is-empty',\n\t\t\t\tplaceholder: t('text', 'Add notes, lists or links …'),\n\t\t\t\tshowOnlyWhenEditable: true,\n\t\t\t}),\n\t\t\tTrailingNode,\n\t\t]\n\t} else {\n\t\trichEditingExtensions = [\n\t\t\tPlainTextDocument,\n\t\t\tCodeblock,\n\t\t\t// FIXME: Do we want to use CodeBlockLowlight instead?\n\t\t\t// new CodeBlockHighlight({ ...languages, }),\n\t\t]\n\t}\n\textensions = extensions || []\n\treturn new Editor({\n\t\tcontent,\n\t\tonCreate,\n\t\tonUpdate,\n\t\textensions: [\n\t\t\tText,\n\t\t\tHistory,\n\t\t\t...richEditingExtensions,\n\t\t].concat(extensions),\n\t})\n}\n\nconst SerializeException = function(message) {\n\tthis.message = message\n}\n\nconst serializePlainText = (tiptap) => {\n\tconst doc = tiptap.getJSON()\n\n\tif (doc.content.length !== 1 || typeof doc.content[0].content === 'undefined' || doc.content[0].content.length !== 1) {\n\t\tif (doc.content[0].type === 'code_block' && typeof doc.content[0].content === 'undefined') {\n\t\t\treturn ''\n\t\t}\n\t\tthrow new SerializeException('Failed to serialize document to plain text')\n\t}\n\tconst codeBlock = doc.content[0].content[0]\n\tif (codeBlock.type !== 'text') {\n\t\tthrow new SerializeException('Failed to serialize document to plain text')\n\t}\n\treturn codeBlock.text\n}\n\nexport default createEditor\nexport { createEditor, serializePlainText, loadSyntaxHighlight }\n","/*\n * @copyright Copyright (c) 2022 Max <max@nextcloud.com>\n *\n * @author Max <max@nextcloud.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/*\n * Tiptap extension to ease customize the serialization to markdown\n *\n * Most markdown serialization can be handled by `prosemirror-markdown`.\n * In order to make it easier to add custom markdown rendering\n * this extension will extend the prosemirror schema for nodes and marks\n * with a `toMarkdown` specification if that is defined in a tiptap extension.\n *\n * For nodes `toMarkown` should be function\n * that take a serializer state and such a node, and serializes the node.\n *\n * For marks `toMarkdown` is an object with open and close properties,\n * which hold the strings that should appear before and after.\n *\n * For more details see\n * https://github.com/ProseMirror/prosemirror-markdown#class-markdownserializer\n */\n\nimport { Extension, getExtensionField } from '@tiptap/core'\nimport { MarkdownSerializer, defaultMarkdownSerializer } from 'prosemirror-markdown'\n\nconst Markdown = Extension.create({\n\n\tname: 'markdown',\n\n\textendMarkSchema(extension) {\n\t\tconst context = {\n\t\t\tname: extension.name,\n\t\t\toptions: extension.options,\n\t\t\tstorage: extension.storage,\n\t\t}\n\t\treturn {\n\t\t\ttoMarkdown: getExtensionField(extension, 'toMarkdown', context),\n\t\t}\n\t},\n\n\textendNodeSchema(extension) {\n\t\tconst context = {\n\t\t\tname: extension.name,\n\t\t\toptions: extension.options,\n\t\t\tstorage: extension.storage,\n\t\t}\n\t\treturn {\n\t\t\ttoMarkdown: getExtensionField(extension, 'toMarkdown', context),\n\t\t}\n\t},\n\n})\n\nconst createMarkdownSerializer = ({ nodes, marks }) => {\n\tconst defaultNodes = convertNames(defaultMarkdownSerializer.nodes)\n\tconst defaultMarks = convertNames(defaultMarkdownSerializer.marks)\n\treturn {\n\t\tserializer: new MarkdownSerializer(\n\t\t\t{ ...defaultNodes, ...extractToMarkdown(nodes) },\n\t\t\t{ ...defaultMarks, ...extractToMarkdown(marks) }\n\t\t),\n\t\tserialize(content, options) {\n\t\t\treturn this.serializer.serialize(content, { ...options, tightLists: true })\n\t\t\t\t.split('\\\\[').join('[')\n\t\t\t\t.split('\\\\]').join(']')\n\t\t},\n\t}\n}\n\nconst extractToMarkdown = (nodesOrMarks) => {\n\treturn Object\n\t\t.entries(nodesOrMarks)\n\t\t.map(([name, nodeOrMark]) => [name, nodeOrMark.spec.toMarkdown])\n\t\t.filter(([, toMarkdown]) => toMarkdown)\n\t\t.reduce((items, [name, toMarkdown]) => ({\n\t\t\t...items,\n\t\t\t[name]: toMarkdown,\n\t\t}), {})\n}\n\nconst convertNames = (object) => {\n\tconst convert = (name) => {\n\t\treturn name.replace(/_(\\w)/g, (_m, letter) => letter.toUpperCase())\n\t}\n\treturn Object.fromEntries(\n\t\tObject.entries(object)\n\t\t\t.map(([name, value]) => [convert(name), value])\n\t)\n}\n\nexport { createMarkdownSerializer }\nexport default Markdown\n","/*\n * @copyright Copyright (c) 2021 Jonas Meurer <jonas@freesources.org>\n *\n * @author Jonas Meurer <jonas@freesources.org>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { Extension } from '@tiptap/core'\n\nconst Emoji = Extension.create({\n\n\tget name() {\n\t\treturn 'emoji'\n\t},\n\n\taddCommands() {\n\t\treturn {\n\t\t\temoji: (emoji) => ({ commands }) => {\n\t\t\t\treturn commands.insertContent(emoji)\n\t\t\t},\n\t\t}\n\t},\n\n})\n\nexport default Emoji\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { Extension } from '@tiptap/core'\nimport { Plugin } from 'prosemirror-state'\n\nconst Keymap = Extension.create({\n\n\tname: 'customkeymap',\n\n\taddKeyboardShortcuts() {\n\t\treturn this.options\n\t},\n\n\taddProseMirrorPlugins() {\n\t\treturn [\n\t\t\tnew Plugin({\n\t\t\t\tprops: {\n\t\t\t\t\thandleKeyDown(view, event) {\n\t\t\t\t\t\tconst key = event.key || event.keyCode\n\t\t\t\t\t\tif ((event.ctrlKey || event.metaKey) && !event.shiftKey && (key === 'f' || key === 70)) {\n\t\t\t\t\t\t\t// We need to stop propagation and dispatch the event on the window\n\t\t\t\t\t\t\t// in order to force triggering the browser native search in the text editor\n\t\t\t\t\t\t\tevent.stopPropagation()\n\t\t\t\t\t\t\twindow.dispatchEvent(event)\n\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}),\n\t\t]\n\t},\n\n})\n\nexport default Keymap\n","/*\n * @copyright Copyright (c) 2020 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport class Span {\n\n\tconstructor(from, to, author) {\n\t\tthis.from = from\n\t\tthis.to = to\n\t\tthis.author = author\n\t}\n\n}\n","/*\n * @copyright Copyright (c) 2021 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { Span } from './models'\n\n/*\n * This code is heavily inspired by the change tracking example of prosemirror\n * https://github.com/ProseMirror/website/blob/master/example/track/index.js\n */\n\n/**\n * @param {Array} map List of document ranges and corresponding authors\n * @param {object} transform ProseMirror transform object\n * @param {Array} clientIDs List of client IDs\n */\nfunction updateBlameMap(map, transform, clientIDs) {\n\tconst result = []\n\tconst mapping = transform.mapping\n\tfor (let i = 0; i < map.length; i++) {\n\t\tconst span = map[i]\n\t\tconst from = mapping.map(span.from, 1)\n\t\tconst to = mapping.map(span.to, -1)\n\t\tif (from < to) result.push(new Span(from, to, span.author))\n\t}\n\n\tfor (let i = 0; i < mapping.maps.length; i++) {\n\t\tconst map = mapping.maps[i]; const after = mapping.slice(i + 1)\n\t\tmap.forEach((_s, _e, start, end) => {\n\t\t\tinsertIntoBlameMap(result, after.map(start, 1), after.map(end, -1), clientIDs[i])\n\t\t})\n\t}\n\n\treturn result\n}\n\n/**\n * @param {Array} map List of document ranges and corresponding authors\n * @param {number} from The lower bound of the selection's main range\n * @param {number} to The upper bound of the selection's main range\n * @param {number} author ClientID of the author\n */\nfunction insertIntoBlameMap(map, from, to, author) {\n\tif (from >= to) {\n\t\treturn\n\t}\n\tlet pos = 0\n\tlet next\n\tfor (; pos < map.length; pos++) {\n\t\tnext = map[pos]\n\t\tif (next.author === author) {\n\t\t\tif (next.to >= from) break\n\t\t} else if (next.to > from) { // Different author, not before\n\t\t\tif (next.from < from) { // Sticks out to the left (loop below will handle right side)\n\t\t\t\tconst left = new Span(next.from, from, next.author)\n\t\t\t\tif (next.to > to) map.splice(pos++, 0, left)\n\t\t\t\telse map[pos++] = left\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\n\t// eslint-ignore\n\twhile ((next = map[pos])) {\n\t\tif (next.author === author) {\n\t\t\tif (next.from > to) break\n\t\t\tfrom = Math.min(from, next.from)\n\t\t\tto = Math.max(to, next.to)\n\t\t\tmap.splice(pos, 1)\n\t\t} else {\n\t\t\tif (next.from >= to) break\n\t\t\tif (next.to > to) {\n\t\t\t\tmap[pos] = new Span(to, next.to, next.author)\n\t\t\t\tbreak\n\t\t\t} else {\n\t\t\t\tmap.splice(pos, 1)\n\t\t\t}\n\t\t}\n\t}\n\n\tmap.splice(pos, 0, new Span(from, to, author))\n}\n\nexport default class TrackState {\n\n\tconstructor(blameMap) {\n\t\t// The blame map is a data structure that lists a sequence of\n\t\t// document ranges, along with the author that inserted them. This\n\t\t// can be used to, for example, highlight the part of the document\n\t\t// that was inserted by a author.\n\t\tthis.blameMap = blameMap\n\t}\n\n\t// Apply a transform to this state\n\tapplyTransform(transform) {\n\t\tconst clientID = transform.getMeta('clientID') ?? transform.steps.map(item => 'self')\n\t\tconst newBlame = updateBlameMap(this.blameMap, transform, clientID)\n\t\t// Create a new state—since these are part of the editor state, a\n\t\t// persistent data structure, they must not be mutated.\n\t\treturn new TrackState(newBlame)\n\t}\n\n}\n","/*\n * @copyright Copyright (c) 2020 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { Extension } from '@tiptap/core'\nimport { Plugin } from 'prosemirror-state'\nimport { Decoration, DecorationSet } from 'prosemirror-view'\nimport TrackState from './tracking/TrackState'\nimport { Span } from './tracking/models'\n\nconst UserColor = Extension.create({\n\n\tname: 'users',\n\n\taddOptions() {\n\t\treturn {\n\t\t\tclientID: 0,\n\t\t\tcolor: (clientID) => {\n\t\t\t\treturn '#' + Math.floor((Math.abs(Math.sin(clientID) * 16777215)) % 16777215).toString(16) + 'aa'\n\t\t\t},\n\t\t\tname: (clientID) => {\n\t\t\t\treturn 'Unknown user ' + clientID\n\t\t\t},\n\t\t}\n\t},\n\n\taddProseMirrorPlugins() {\n\t\treturn [\n\t\t\tnew Plugin({\n\t\t\t\tclientID: this.options.clientID,\n\t\t\t\tcolor: this.options.color,\n\t\t\t\tname: this.options.name,\n\t\t\t\tstate: {\n\t\t\t\t\tinit(_, instance) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttracked: new TrackState([new Span(0, instance.doc.content.size, null)], [], [], []),\n\t\t\t\t\t\t\tdeco: DecorationSet.empty,\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tapply(tr, instance, oldState, state) {\n\t\t\t\t\t\tlet { tracked, decos } = instance\n\t\t\t\t\t\tlet tState = this.getState(oldState).tracked\n\t\t\t\t\t\tif (tr.docChanged) {\n\t\t\t\t\t\t\tif (!tr.getMeta('clientID')) {\n\t\t\t\t\t\t\t\t// we have an undefined client id for own transactions\n\t\t\t\t\t\t\t\ttr.setMeta('clientID', tr.steps.map(i => this.spec.clientID))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttracked = tracked.applyTransform(tr)\n\t\t\t\t\t\t\ttState = tracked\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdecos = tState.blameMap\n\t\t\t\t\t\t\t.map(span => {\n\t\t\t\t\t\t\t\tconst clientID = span.author\n\t\t\t\t\t\t\t\treturn Decoration.inline(span.from, span.to, {\n\t\t\t\t\t\t\t\t\tclass: 'author-annotation',\n\t\t\t\t\t\t\t\t\tstyle: 'background-color: ' + this.spec.color(clientID) + '66;',\n\t\t\t\t\t\t\t\t\ttitle: this.spec.name(clientID),\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).filter(dec => dec !== null)\n\t\t\t\t\t\treturn { tracked, deco: DecorationSet.create(state.doc, decos) }\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tprops: {\n\t\t\t\t\tdecorations(state) {\n\t\t\t\t\t\treturn this.getState(state).deco\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}),\n\t\t]\n\t},\n\n})\n\nexport default UserColor\n","import { Extension } from '@tiptap/core'\nimport { Step } from 'prosemirror-transform'\nimport {\n\tcollab,\n\tsendableSteps,\n\tgetVersion,\n\treceiveTransaction,\n} from 'prosemirror-collab'\n\nlet timeout\nconst debounce = (fn, delay) => (...args) => {\n\tif (timeout) {\n\t\tclearTimeout(timeout)\n\t}\n\ttimeout = setTimeout(() => {\n\t\tfn(...args)\n\t\ttimeout = null\n\t}, delay)\n}\n\nconst Collaboration = Extension.create({\n\tname: 'collaboration',\n\tonCreate() {\n\t\tthis.getSendableSteps = debounce(state => {\n\t\t\tconst sendable = sendableSteps(state)\n\n\t\t\tif (sendable) {\n\t\t\t\tthis.options.onSendable({\n\t\t\t\t\teditor: this.editor,\n\t\t\t\t\tsendable: {\n\t\t\t\t\t\tversion: sendable.version,\n\t\t\t\t\t\tsteps: sendable.steps.map(step => step.toJSON()),\n\t\t\t\t\t\tclientID: sendable.clientID,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t}, this.options.debounce)\n\n\t\tthis.editor.on('transaction', ({ editor }) => {\n\t\t\tthis.getSendableSteps(editor.state)\n\t\t})\n\t},\n\n\taddOptions() {\n\t\treturn {\n\t\t\tversion: 0,\n\t\t\tclientID: Math.floor(Math.random() * 0xFFFFFFFF),\n\t\t\tdebounce: 250,\n\t\t\tonSendable: () => { },\n\t\t\tupdate: ({ steps, version }) => {\n\t\t\t\tconst { state, view, schema } = this.editor\n\n\t\t\t\tif (getVersion(state) > version) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tview.dispatch(receiveTransaction(\n\t\t\t\t\tstate,\n\t\t\t\t\tsteps.map(item => Step.fromJSON(schema, item.step)),\n\t\t\t\t\tsteps.map(item => item.clientID),\n\t\t\t\t))\n\t\t\t},\n\t\t}\n\t},\n\n\taddProseMirrorPlugins() {\n\t\treturn [\n\t\t\tcollab({\n\t\t\t\tversion: this.options.version,\n\t\t\t\tclientID: this.options.clientID,\n\t\t\t}),\n\t\t]\n\t},\n\n})\n\nexport default Collaboration\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/**\n * Callback that should be executed after the document is ready\n *\n * @param callback\n */\nimport { generateUrl } from '@nextcloud/router'\n\nconst documentReady = function(callback) {\n\tconst fn = () => setTimeout(callback, 0)\n\tif (document.attachEvent ? document.readyState === 'complete' : document.readyState !== 'loading') {\n\t\tfn()\n\t} else {\n\t\tdocument.addEventListener('DOMContentLoaded', callback)\n\t}\n}\n\nconst _baseUrl = generateUrl('/apps/text')\nconst endpointUrl = (endpoint, isPublic = false) => {\n\tif (isPublic) {\n\t\treturn `${_baseUrl}/public/${endpoint}`\n\t}\n\treturn `${_baseUrl}/${endpoint}`\n}\n\nconst randomGuestNames = ['Artichoke', 'Arugula', 'Asparagus', 'Avocado', 'Bamboo Shoot', 'Bean Sprout', 'Bean', 'Beet', 'Belgian Endive', 'Bell Pepper', 'Bitter Melon', 'Bitter Gourd', 'Bok Choy', 'Broccoli', 'Brussels Sprout', 'Burdock Root', 'Cabbage', 'Calabash', 'Caper', 'Carrot', 'Cassava', 'Cauliflower', 'Celery', 'Celery Root', 'Celtuce', 'Chayote', 'Chinese Broccoli', 'Corn', 'Baby Corn', 'Cucumber', 'English Cucumber', 'Gherkin', 'Pickling Cucumber', 'Daikon Radish', 'Edamame', 'Eggplant', 'Elephant Garlic', 'Endive', 'Curly', 'Escarole', 'Fennel', 'Fiddlehead', 'Galangal', 'Garlic', 'Ginger', 'Grape Leave', 'Green Bean', 'Wax Bean', 'Green', 'Amaranth Leave', 'Beet Green', 'Collard Green', 'Dandelion Green', 'Kale', 'Kohlrabi Green', 'Mustard Green', 'Rapini', 'Spinach', 'Swiss Chard', 'Turnip Green', 'Hearts of Palm', 'Horseradish', 'Jerusalem Artichoke', 'Jícama', 'Kale', 'Curly', 'Lacinato', 'Ornamental', 'Kohlrabi', 'Leeks', 'Lemongrass', 'Lettuce', 'Butterhead', 'Iceberg', 'Leaf', 'Romaine', 'Lotus Root', 'Lotus Seed', 'Mushroom', 'Napa Cabbage', 'Nopales', 'Okra', 'Olive', 'Onion', 'Green Onion', 'Parsley', 'Parsley Root', 'Parsnip', 'Pepper', 'Plantain', 'Potato', 'Pumpkin', 'Purslane', 'Radicchio', 'Radish', 'Rutabaga', 'Shallots', 'Spinach', 'Squash', 'Sweet Potato', 'Swiss Chard', 'Taro', 'Tomatillo', 'Tomato', 'Turnip', 'Water Chestnut', 'Water Spinach', 'Watercress', 'Winter Melon', 'Yams', 'Zucchini']\nconst getRandomGuestName = () => {\n\treturn randomGuestNames[Math.floor(Math.random() * randomGuestNames.length)]\n}\n\nexport {\n\tdocumentReady,\n\tendpointUrl,\n\tgetRandomGuestName,\n}\n","import MarkdownIt from 'markdown-it'\nimport taskLists from 'markdown-it-task-lists'\nimport underline from './underline'\n\nconst markdownit = MarkdownIt('commonmark', { html: false, breaks: false })\n\t.enable('strikethrough')\n\t.use(taskLists, { enable: true, labelAfter: true })\n\t.use(underline)\n\nexport default markdownit\n","/*\n * @copyright Copyright (c) 2022 Max <max@nextcloud.com>\n *\n * @author Max <max@nextcloud.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/**\n * @param {object} md Markdown object\n */\nexport default function markdownUnderlines(md) {\n\tmd.inline.ruler2.after('emphasis', 'underline', state => {\n\t\tconst tokens = state.tokens\n\n\t\tfor (let i = tokens.length - 1; i > 0; i--) {\n\t\t\tconst token = tokens[i]\n\n\t\t\tif (token.markup === '__') {\n\t\t\t\tif (token.type === 'strong_open') {\n\t\t\t\t\ttokens[i].tag = 'u'\n\t\t\t\t\ttokens[i].type = 'u_open'\n\t\t\t\t}\n\t\t\t\tif (token.type === 'strong_close') {\n\t\t\t\t\ttokens[i].tag = 'u'\n\t\t\t\t\ttokens[i].type = 'u_close'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\t})\n}\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tisMobile: this._isMobile(),\n\t\t}\n\t},\n\tbeforeMount() {\n\t\twindow.addEventListener('resize', this._onResize)\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener('resize', this._onResize)\n\t},\n\tmethods: {\n\t\t_onResize() {\n\t\t\t// Update mobile mode\n\t\t\tthis.isMobile = this._isMobile()\n\t\t},\n\t\t_isMobile() {\n\t\t\t// check if content width is under 768px\n\t\t\treturn document.documentElement.clientWidth < 768\n\t\t},\n\t},\n}\n","/*\n * @copyright Copyright (c) 2021 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport store from '../store'\n\n/**\n * This mixin is required since we cannot be sure that the root Vue instance has\n * registered the global store. This might be the case if the text app components\n * are mounted in other apps e.g. viewer\n */\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t$store: store,\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tif (typeof this.$store === 'undefined') {\n\t\t\tthis.$store = store\n\t\t}\n\t},\n}\n","/*\n * @copyright Copyright (c) 2020 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport { getBuilder } from '@nextcloud/browser-storage'\n\nconst persistentStorage = getBuilder('text').persist().build()\n\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n\tstate: {\n\t\tshowAuthorAnnotations: persistentStorage.getItem('showAuthorAnnotations') === 'true',\n\t\tcurrentSession: persistentStorage.getItem('currentSession'),\n\t},\n\tmutations: {\n\t\tSET_SHOW_AUTHOR_ANNOTATIONS(state, value) {\n\t\t\tstate.showAuthorAnnotations = value\n\t\t\tpersistentStorage.setItem('showAuthorAnnotations', '' + value)\n\t\t},\n\t\tSET_CURRENT_SESSION(state, value) {\n\t\t\tstate.currentSession = value\n\t\t\tpersistentStorage.setItem('currentSession', value)\n\t\t},\n\t},\n\tactions: {\n\t\tsetShowAuthorAnnotations({ commit }, value) {\n\t\t\tstore.commit('SET_SHOW_AUTHOR_ANNOTATIONS', value)\n\t\t},\n\t\tsetCurrentSession({ commit }, value) {\n\t\t\tstore.commit('SET_CURRENT_SESSION', value)\n\t\t},\n\t},\n})\n\nexport default store\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#resolve-conflicts[data-v-4a5d4c0f]{display:flex;position:fixed;z-index:10000;bottom:0;max-width:900px;width:100vw;margin:auto;padding:20px 0}#resolve-conflicts button[data-v-4a5d4c0f]{margin:auto;box-shadow:0 0 10px var(--color-box-shadow)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/CollisionResolveDialog.vue\"],\"names\":[],\"mappings\":\"AAwCA,oCACC,YAAA,CACA,cAAA,CACA,aAAA,CACA,QAAA,CACA,eAAA,CACA,WAAA,CACA,WAAA,CACA,cAAA,CAEA,2CACC,WAAA,CACA,2CAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n#resolve-conflicts {\\n\\tdisplay: flex;\\n\\tposition: fixed;\\n\\tz-index: 10000;\\n\\tbottom: 0;\\n\\tmax-width: 900px;\\n\\twidth: 100vw;\\n\\tmargin: auto;\\n\\tpadding: 20px 0;\\n\\n\\tbutton {\\n\\t\\tmargin: auto;\\n\\t\\tbox-shadow: 0 0 10px var(--color-box-shadow);\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#editor-container[data-v-79f22b78]{display:block;width:100%;max-width:100%;height:100%;left:0;top:50px;margin:0 auto;position:relative;background-color:var(--color-main-background)}#editor-wrapper[data-v-79f22b78]{display:flex;width:100%;height:100%;overflow:hidden;position:absolute}#editor-wrapper.show-color-annotations[data-v-79f22b78] .author-annotation{padding-top:2px;padding-bottom:2px}#editor-wrapper[data-v-79f22b78]:not(.show-color-annotations) .author-annotation,#editor-wrapper[data-v-79f22b78]:not(.show-color-annotations) .image{background-color:transparent !important;color:var(--color-main-text) !important}#editor-wrapper .ProseMirror[data-v-79f22b78]{margin-top:0 !important}#editor-wrapper.icon-loading #editor[data-v-79f22b78]{opacity:.3}#editor[data-v-79f22b78],.editor[data-v-79f22b78]{background:var(--color-main-background);color:var(--color-main-text);background-clip:padding-box;border-radius:var(--border-radius);padding:0;position:relative;overflow-y:auto;overflow-x:hidden;width:100%}.document-status[data-v-79f22b78]{position:relative;background-color:var(--color-main-background)}.document-status .msg[data-v-79f22b78]{padding:12px;background-position:8px center;color:var(--color-text-maxcontrast)}.document-status .msg.icon-error[data-v-79f22b78]{padding-left:30px}.document-status .msg .button[data-v-79f22b78]{margin-left:8px}.save-status[data-v-79f22b78]{display:inline-flex;padding:0;text-overflow:ellipsis;color:var(--color-text-lighter);position:relative;top:9px;min-width:85px;max-height:36px}.save-status.error[data-v-79f22b78]{background-color:var(--color-error);color:var(--color-main-background);border-radius:3px}#editor-container #editor-wrapper.has-conflicts[data-v-79f22b78]{height:calc(100% - 50px)}#editor-container #editor-wrapper.has-conflicts #editor[data-v-79f22b78],#editor-container #editor-wrapper.has-conflicts #read-only-editor[data-v-79f22b78]{width:50%;height:100%}#editor-session-list[data-v-79f22b78]{display:flex}#editor-session-list input[data-v-79f22b78],#editor-session-list div[data-v-79f22b78]{vertical-align:middle;margin-left:3px}.editor__content[data-v-79f22b78]{max-width:670px;margin:auto;position:relative}#body-public[data-v-79f22b78]{height:auto}#files-public-content #editor-container[data-v-79f22b78]{top:0;width:100%}#files-public-content #editor-container #editor[data-v-79f22b78] .menubar{position:sticky;top:0px;width:100%}#files-public-content #editor-container #editor[data-v-79f22b78]{overflow:auto;z-index:20}#files-public-content #editor-container .has-conflicts #editor[data-v-79f22b78]{padding-top:0}.ie #editor[data-v-79f22b78] .menubar{position:fixed;top:50px;width:100%}.ie .editor__content[data-v-79f22b78] .ProseMirror{padding-top:50px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/EditorWrapper.vue\"],\"names\":[],\"mappings\":\"AAoiBA,mCACC,aAAA,CACA,UAAA,CACA,cAAA,CACA,WAAA,CACA,MAAA,CACA,QAAA,CACA,aAAA,CACA,iBAAA,CACA,6CAAA,CAGD,iCACC,YAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,iBAAA,CAEA,2EACC,eAAA,CACA,kBAAA,CAGD,sJAEC,uCAAA,CACA,uCAAA,CAGD,8CACC,uBAAA,CAGA,sDACC,UAAA,CAKH,kDACC,uCAAA,CACA,4BAAA,CACA,2BAAA,CACA,kCAAA,CACA,SAAA,CACA,iBAAA,CACA,eAAA,CACA,iBAAA,CACA,UAAA,CAGD,kCACC,iBAAA,CACA,6CAAA,CAEA,uCACC,YAAA,CACA,8BAAA,CACA,mCAAA,CAEA,kDACC,iBAAA,CAGD,+CACC,eAAA,CAKH,8BACC,mBAAA,CACA,SAAA,CACA,sBAAA,CACA,+BAAA,CACA,iBAAA,CACA,OAAA,CACA,cAAA,CACA,eAAA,CAEA,oCACC,mCAAA,CACA,kCAAA,CACA,iBAAA,CAIF,iEACC,wBAAA,CAEA,4JACC,SAAA,CACA,WAAA,CAIF,sCACC,YAAA,CAEA,sFACC,qBAAA,CACA,eAAA,CAIF,kCACC,eAAA,CACA,WAAA,CACA,iBAAA,CAGD,8BACC,WAAA,CAIA,yDACC,KAAA,CACA,UAAA,CAEA,0EACC,eAAA,CACA,OAAA,CACA,UAAA,CAGD,iEACC,aAAA,CACA,UAAA,CAED,gFACC,aAAA,CAMF,sCAEC,cAAA,CACA,QAAA,CACA,UAAA,CAED,mDACC,gBAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n#editor-container {\\n\\tdisplay: block;\\n\\twidth: 100%;\\n\\tmax-width: 100%;\\n\\theight: 100%;\\n\\tleft: 0;\\n\\ttop: 50px;\\n\\tmargin: 0 auto;\\n\\tposition: relative;\\n\\tbackground-color: var(--color-main-background);\\n}\\n\\n#editor-wrapper {\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\toverflow: hidden;\\n\\tposition: absolute;\\n\\n\\t&.show-color-annotations::v-deep .author-annotation {\\n\\t\\tpadding-top: 2px;\\n\\t\\tpadding-bottom: 2px;\\n\\t}\\n\\n\\t&:not(.show-color-annotations)::v-deep .author-annotation,\\n\\t&:not(.show-color-annotations)::v-deep .image {\\n\\t\\tbackground-color: transparent !important;\\n\\t\\tcolor: var(--color-main-text) !important;\\n\\t}\\n\\n\\t.ProseMirror {\\n\\t\\tmargin-top: 0 !important;\\n\\t}\\n\\t&.icon-loading {\\n\\t\\t#editor {\\n\\t\\t\\topacity: 0.3;\\n\\t\\t}\\n\\t}\\n}\\n\\n#editor, .editor {\\n\\tbackground: var(--color-main-background);\\n\\tcolor: var(--color-main-text);\\n\\tbackground-clip: padding-box;\\n\\tborder-radius: var(--border-radius);\\n\\tpadding: 0;\\n\\tposition: relative;\\n\\toverflow-y: auto;\\n\\toverflow-x: hidden;\\n\\twidth: 100%;\\n}\\n\\n.document-status {\\n\\tposition: relative;\\n\\tbackground-color: var(--color-main-background);\\n\\n\\t.msg {\\n\\t\\tpadding: 12px;\\n\\t\\tbackground-position: 8px center;\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\n\\t\\t&.icon-error {\\n\\t\\t\\tpadding-left: 30px;\\n\\t\\t}\\n\\n\\t\\t.button {\\n\\t\\t\\tmargin-left: 8px;\\n\\t\\t}\\n\\t}\\n}\\n\\n.save-status {\\n\\tdisplay: inline-flex;\\n\\tpadding: 0;\\n\\ttext-overflow: ellipsis;\\n\\tcolor: var(--color-text-lighter);\\n\\tposition: relative;\\n\\ttop: 9px;\\n\\tmin-width: 85px;\\n\\tmax-height: 36px;\\n\\n\\t&.error {\\n\\t\\tbackground-color: var(--color-error);\\n\\t\\tcolor: var(--color-main-background);\\n\\t\\tborder-radius: 3px;\\n\\t}\\n}\\n\\n#editor-container #editor-wrapper.has-conflicts {\\n\\theight: calc(100% - 50px);\\n\\n\\t#editor, #read-only-editor {\\n\\t\\twidth: 50%;\\n\\t\\theight: 100%;\\n\\t}\\n}\\n\\n#editor-session-list {\\n\\tdisplay: flex;\\n\\n\\tinput, div {\\n\\t\\tvertical-align: middle;\\n\\t\\tmargin-left: 3px;\\n\\t}\\n}\\n\\n.editor__content {\\n\\tmax-width: 670px;\\n\\tmargin: auto;\\n\\tposition: relative;\\n}\\n\\n#body-public {\\n\\theight: auto;\\n}\\n\\n#files-public-content {\\n\\t#editor-container {\\n\\t\\ttop: 0;\\n\\t\\twidth: 100%;\\n\\n\\t\\t#editor::v-deep .menubar {\\n\\t\\t\\tposition: sticky;\\n\\t\\t\\ttop: 0px;\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\n\\t\\t#editor {\\n\\t\\t\\toverflow: auto;\\n\\t\\t\\tz-index: 20;\\n\\t\\t}\\n\\t\\t.has-conflicts #editor {\\n\\t\\t\\tpadding-top: 0;\\n\\t\\t}\\n\\t}\\n}\\n\\n.ie {\\n\\t#editor::v-deep .menubar {\\n\\t\\t// sticky position is not working as body is our scroll container\\n\\t\\tposition: fixed;\\n\\t\\ttop: 50px;\\n\\t\\twidth: 100%;\\n\\t}\\n\\t.editor__content::v-deep .ProseMirror {\\n\\t\\tpadding-top: 50px;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../../img/checkbox-mark.svg\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".modal-container #editor-container{position:absolute}.ProseMirror-hideselection *::selection{background:transparent;color:var(--color-main-text)}.ProseMirror-hideselection *::-moz-selection{background:transparent;color:var(--color-main-text)}.ProseMirror-hideselection{caret-color:transparent;color:var(--color-main-text)}.ProseMirror-selectednode{outline:2px solid #8cf}li.ProseMirror-selectednode{outline:none}li.ProseMirror-selectednode:after{content:\\\"\\\";position:absolute;left:-32px;right:-2px;top:-2px;bottom:-2px;border:2px solid #8cf;pointer-events:none}.has-conflicts .ProseMirror-menubar,#editor-wrapper.icon-loading .ProseMirror-menubar{display:none}.ProseMirror-gapcursor{display:none;pointer-events:none;position:absolute}.ProseMirror-gapcursor:after{content:\\\"\\\";display:block;position:absolute;top:-2px;width:20px;border-top:1px solid var(--color-main-text);animation:ProseMirror-cursor-blink 1.1s steps(2, start) infinite}@keyframes ProseMirror-cursor-blink{to{visibility:hidden}}#editor-wrapper div.ProseMirror{margin-top:44px;height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:14px;outline:none}#editor-wrapper div.ProseMirror[contenteditable=true],#editor-wrapper div.ProseMirror[contenteditable=false],#editor-wrapper div.ProseMirror [contenteditable=true],#editor-wrapper div.ProseMirror [contenteditable=false]{border:none !important;width:100%;background-color:transparent;color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:14px}#editor-wrapper div.ProseMirror .checkbox-item{display:flex;align-items:start;margin-left:-23px}#editor-wrapper div.ProseMirror .checkbox-item input[type=checkbox]{display:none}#editor-wrapper div.ProseMirror .checkbox-item:before{content:\\\"\\\";vertical-align:middle;margin:3px 6px 3px 2px;border:1px solid var(--color-text-maxcontrast);position:relative;display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer}#editor-wrapper div.ProseMirror .checkbox-item.checked:before{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");background-color:var(--color-primary-element);border-color:var(--color-primary-element)}#editor-wrapper div.ProseMirror .checkbox-item label{display:block;flex-grow:1;max-width:calc(100% - 28px)}#editor-wrapper div.ProseMirror>*:first-child{margin-top:10px}#editor-wrapper div.ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}#editor-wrapper div.ProseMirror p{margin-bottom:1em;line-height:150%}#editor-wrapper div.ProseMirror em{font-style:italic}#editor-wrapper div.ProseMirror h1,#editor-wrapper div.ProseMirror h2,#editor-wrapper div.ProseMirror h3,#editor-wrapper div.ProseMirror h4,#editor-wrapper div.ProseMirror h5,#editor-wrapper div.ProseMirror h6{font-weight:600;line-height:120%;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}#editor-wrapper div.ProseMirror h1{font-size:36px;margin-top:48px}#editor-wrapper div.ProseMirror h2{font-size:30px;margin-top:48px}#editor-wrapper div.ProseMirror h3{font-size:24px}#editor-wrapper div.ProseMirror h4{font-size:21px}#editor-wrapper div.ProseMirror h5{font-size:17px}#editor-wrapper div.ProseMirror h6{font-size:14px}#editor-wrapper div.ProseMirror img{cursor:default;max-width:100%}#editor-wrapper div.ProseMirror hr{padding:2px 0;border:none;margin:3em 0;width:100%}#editor-wrapper div.ProseMirror hr:after{content:\\\"\\\";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}#editor-wrapper div.ProseMirror pre{white-space:pre-wrap;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}#editor-wrapper div.ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}#editor-wrapper div.ProseMirror li{position:relative;padding-left:3px}#editor-wrapper div.ProseMirror li p{margin-bottom:.5em}#editor-wrapper div.ProseMirror ul,#editor-wrapper div.ProseMirror ol{padding-left:10px;margin-left:10px;margin-bottom:1em}#editor-wrapper div.ProseMirror ul li{list-style-type:disc}#editor-wrapper div.ProseMirror ul>li>ul>li{list-style-type:circle}#editor-wrapper div.ProseMirror ul>li>ul>li ul li{list-style-type:square}#editor-wrapper div.ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}#editor-wrapper .ProseMirror-focused .ProseMirror-gapcursor{display:block}#editor-wrapper .editor__content p.is-empty:first-child::before{content:attr(data-placeholder);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}#editor-wrapper .editor__content{tab-size:4}#editor-wrapper:not(.richEditor) .ProseMirror pre{background-color:var(--color-main-background)}#editor-wrapper:not(.richEditor) .ProseMirror pre::before{content:attr(data-language);text-transform:uppercase;display:block;text-align:right;font-weight:bold;font-size:.6rem}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-comment,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-quote{color:#999}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-variable,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-template-variable,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-attribute,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-tag,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-name,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-regexp,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-link,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-id,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-class{color:#f2777a}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-number,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-meta,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-built_in,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-builtin-name,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-literal,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-type,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-params{color:#f99157}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-string,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-symbol,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-bullet{color:#9c9}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-title,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-section{color:#fc6}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-keyword,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-tag{color:#69c}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-emphasis{font-style:italic}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-strong{font-weight:700}#editor-wrapper #editor .content-wrapper{position:relative}#files-public-content{height:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./css/style.scss\",\"webpack://./css/prosemirror.scss\",\"webpack://./src/components/EditorWrapper.vue\"],\"names\":[],\"mappings\":\"AAAA,mCACE,iBAAA,CAGF,wCAAA,sBAAA,CAAA,4BAAA,CACA,6CAAA,sBAAA,CAAA,4BAAA,CACA,2BAAA,uBAAA,CAAA,4BAAA,CAEA,0BACE,sBAAA,CAIF,4BACE,YAAA,CAGF,kCACE,UAAA,CACA,iBAAA,CACA,UAAA,CACA,UAAA,CAAA,QAAA,CAAA,WAAA,CACA,qBAAA,CACA,mBAAA,CAKA,sFACE,YAAA,CAIJ,uBACE,YAAA,CACA,mBAAA,CACA,iBAAA,CAGF,6BACE,UAAA,CACA,aAAA,CACA,iBAAA,CACA,QAAA,CACA,UAAA,CACA,2CAAA,CACA,gEAAA,CAGF,oCACE,GACE,iBAAA,CAAA,CClDJ,gCACC,eAAA,CACA,WAAA,CACA,iBAAA,CACA,oBAAA,CACA,oBAAA,CACA,mCAAA,CACA,2BAAA,CACA,0BAAA,CACA,gBAAA,CACA,cAAA,CACA,YAAA,CAEA,4NAIC,sBAAA,CACA,UAAA,CACA,4BAAA,CACA,4BAAA,CACA,SAAA,CACA,wBAAA,CACA,gBAAA,CACA,cAAA,CAGD,+CACC,YAAA,CACA,iBAAA,CAEA,iBAAA,CAEA,oEACC,YAAA,CAED,sDACC,UAAA,CACA,qBAAA,CACA,sBAAA,CACA,8CAAA,CACA,iBAAA,CACA,aAAA,CACA,kCAAA,CACA,WAAA,CACA,UAAA,CACA,0BAAA,CACA,0BAAA,CACA,cAAA,CAED,8DACC,wDAAA,CACA,6CAAA,CACA,yCAAA,CAED,qDACC,aAAA,CACA,WAAA,CACA,2BAAA,CAIF,8CACC,eAAA,CAGD,kCACC,kCAAA,CACA,yBAAA,CACA,cAAA,CAGD,kCACC,iBAAA,CACA,gBAAA,CAGD,mCACC,iBAAA,CAGD,kNAMC,eAAA,CACA,gBAAA,CACA,eAAA,CACA,kBAAA,CACA,4BAAA,CAGD,mCACC,cAAA,CACA,eAAA,CAGD,mCACC,cAAA,CACA,eAAA,CAGD,mCACC,cAAA,CAGD,mCACC,cAAA,CAGD,mCACC,cAAA,CAGD,mCACC,cAAA,CAGD,oCACC,cAAA,CACA,cAAA,CAGD,mCACC,aAAA,CACA,WAAA,CACA,YAAA,CACA,UAAA,CAGD,yCACC,UAAA,CACA,aAAA,CACA,UAAA,CACA,yCAAA,CACA,eAAA,CAGD,oCACC,oBAAA,CACA,6CAAA,CACA,kCAAA,CACA,iBAAA,CACA,iBAAA,CAGD,uCACC,6CAAA,CACA,kCAAA,CACA,iBAAA,CAGD,mCACC,iBAAA,CACA,gBAAA,CAEA,qCACC,kBAAA,CAIF,sEACC,iBAAA,CACA,gBAAA,CACA,iBAAA,CAGD,sCACC,oBAAA,CAID,4CACC,sBAAA,CAID,kDACC,sBAAA,CAGD,2CACC,gBAAA,CACA,kDAAA,CACA,mCAAA,CACA,aAAA,CACA,cAAA,CAKF,4DACC,aAAA,CAGD,gEACC,8BAAA,CACA,UAAA,CACA,mCAAA,CACA,mBAAA,CACA,QAAA,CAGD,iCACC,UAAA,CCifC,kDACC,6CAAA,CAEA,0DACC,2BAAA,CACA,wBAAA,CACA,aAAA,CACA,gBAAA,CACA,gBAAA,CACA,eAAA,CAGA,wIAEC,UAAA,CAED,0nBASC,aAAA,CAED,ieAOC,aAAA,CAED,4MAGC,UAAA,CAED,wIAEC,UAAA,CAED,+IAEC,UAAA,CAED,sEACC,iBAAA,CAED,oEACC,eAAA,CAQH,yCACC,iBAAA,CAOH,sBACC,WAAA\",\"sourcesContent\":[\".modal-container #editor-container {\\n  position: absolute;\\n}\\n\\n.ProseMirror-hideselection *::selection { background: transparent; color: var(--color-main-text); }\\n.ProseMirror-hideselection *::-moz-selection { background: transparent; color: var(--color-main-text); }\\n.ProseMirror-hideselection { caret-color: transparent; color: var(--color-main-text); }\\n\\n.ProseMirror-selectednode {\\n  outline: 2px solid #8cf;\\n}\\n\\n/* Make sure li selections wrap around markers */\\nli.ProseMirror-selectednode {\\n  outline: none;\\n}\\n\\nli.ProseMirror-selectednode:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  left: -32px;\\n  right: -2px; top: -2px; bottom: -2px;\\n  border: 2px solid #8cf;\\n  pointer-events: none;\\n}\\n\\n.has-conflicts,\\n#editor-wrapper.icon-loading {\\n  .ProseMirror-menubar {\\n    display: none;\\n  }\\n}\\n\\n.ProseMirror-gapcursor {\\n  display: none;\\n  pointer-events: none;\\n  position: absolute;\\n}\\n\\n.ProseMirror-gapcursor:after {\\n  content: \\\"\\\";\\n  display: block;\\n  position: absolute;\\n  top: -2px;\\n  width: 20px;\\n  border-top: 1px solid var(--color-main-text);\\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\\n}\\n\\n@keyframes ProseMirror-cursor-blink {\\n  to {\\n    visibility: hidden;\\n  }\\n}\\n\",\"/* Document rendering styles */\\ndiv.ProseMirror {\\n\\tmargin-top: 44px;\\n\\theight: 100%;\\n\\tposition: relative;\\n\\tword-wrap: break-word;\\n\\twhite-space: pre-wrap;\\n\\t-webkit-font-variant-ligatures: none;\\n\\tfont-variant-ligatures: none;\\n\\tpadding: 4px 8px 200px 14px;\\n\\tline-height: 150%;\\n\\tfont-size: 14px;\\n\\toutline: none;\\n\\n\\t&[contenteditable=true],\\n\\t&[contenteditable=false],\\n\\t[contenteditable=true],\\n\\t[contenteditable=false] {\\n\\t\\tborder: none !important;\\n\\t\\twidth: 100%;\\n\\t\\tbackground-color: transparent;\\n\\t\\tcolor: var(--color-main-text);\\n\\t\\topacity: 1;\\n\\t\\t-webkit-user-select: text;\\n\\t\\tuser-select: text;\\n\\t\\tfont-size: 14px;\\n\\t}\\n\\n\\t.checkbox-item {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: start;\\n\\t\\t// Left-align with list item text\\n\\t\\tmargin-left: -23px;\\n\\n\\t\\tinput[type=checkbox] {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t\\t&:before {\\n\\t\\t\\tcontent: '';\\n\\t\\t\\tvertical-align: middle;\\n\\t\\t\\tmargin: 3px 6px 3px 2px;\\n\\t\\t\\tborder: 1px solid var(--color-text-maxcontrast);\\n\\t\\t\\tposition: relative;\\n\\t\\t\\tdisplay: block;\\n\\t\\t\\tborder-radius: var(--border-radius);\\n\\t\\t\\theight: 14px;\\n\\t\\t\\twidth: 14px;\\n\\t\\t\\tbox-shadow: none !important;\\n\\t\\t\\tbackground-position: center;\\n\\t\\t\\tcursor: pointer;\\n\\t\\t}\\n\\t\\t&.checked:before {\\n\\t\\t\\tbackground-image: url('../../img/checkbox-mark.svg');\\n\\t\\t\\tbackground-color: var(--color-primary-element);\\n\\t\\t\\tborder-color: var(--color-primary-element);\\n\\t\\t}\\n\\t\\tlabel {\\n\\t\\t\\tdisplay: block;\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tmax-width: calc(100% - 28px);\\n\\t\\t}\\n\\t}\\n\\n\\t> *:first-child {\\n\\t\\tmargin-top: 10px;\\n\\t}\\n\\n\\ta {\\n\\t\\tcolor: var(--color-primary-element);\\n\\t\\ttext-decoration: underline;\\n\\t\\tpadding: .5em 0;\\n\\t}\\n\\n\\tp {\\n\\t\\tmargin-bottom: 1em;\\n\\t\\tline-height: 150%;\\n\\t}\\n\\n\\tem {\\n\\t\\tfont-style: italic;\\n\\t}\\n\\n\\th1,\\n\\th2,\\n\\th3,\\n\\th4,\\n\\th5,\\n\\th6 {\\n\\t\\tfont-weight: 600;\\n\\t\\tline-height: 120%;\\n\\t\\tmargin-top: 24px;\\n\\t\\tmargin-bottom: 12px;\\n\\t\\tcolor: var(--color-main-text);\\n\\t}\\n\\n\\th1 {\\n\\t\\tfont-size: 36px;\\n\\t\\tmargin-top: 48px;\\n\\t}\\n\\n\\th2 {\\n\\t\\tfont-size: 30px;\\n\\t\\tmargin-top: 48px;\\n\\t}\\n\\n\\th3 {\\n\\t\\tfont-size: 24px;\\n\\t}\\n\\n\\th4 {\\n\\t\\tfont-size: 21px;\\n\\t}\\n\\n\\th5 {\\n\\t\\tfont-size: 17px;\\n\\t}\\n\\n\\th6 {\\n\\t\\tfont-size: 14px;\\n\\t}\\n\\n\\timg {\\n\\t\\tcursor: default;\\n\\t\\tmax-width: 100%;\\n\\t}\\n\\n\\thr {\\n\\t\\tpadding: 2px 0;\\n\\t\\tborder: none;\\n\\t\\tmargin: 3em 0;\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\thr:after {\\n\\t\\tcontent: \\\"\\\";\\n\\t\\tdisplay: block;\\n\\t\\theight: 1px;\\n\\t\\tbackground-color: var(--color-border-dark);\\n\\t\\tline-height: 2px;\\n\\t}\\n\\n\\tpre {\\n\\t\\twhite-space: pre-wrap;\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t\\tborder-radius: var(--border-radius);\\n\\t\\tpadding: 1em 1.3em;\\n\\t\\tmargin-bottom: 1em;\\n\\t}\\n\\n\\tp code {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t\\tborder-radius: var(--border-radius);\\n\\t\\tpadding: .1em .3em;\\n\\t}\\n\\n\\tli {\\n\\t\\tposition: relative;\\n\\t\\tpadding-left: 3px;\\n\\n\\t\\tp {\\n\\t\\t\\tmargin-bottom: 0.5em;\\n\\t\\t}\\n\\t}\\n\\n\\tul, ol {\\n\\t\\tpadding-left: 10px;\\n\\t\\tmargin-left: 10px;\\n\\t\\tmargin-bottom: 1em;\\n\\t}\\n\\n\\tul li {\\n\\t\\tlist-style-type: disc;\\n\\t}\\n\\n\\t// Second-level list entries\\n\\tul > li > ul > li {\\n\\t\\tlist-style-type: circle;\\n\\t}\\n\\n\\t// Third-level and further down list entries\\n\\tul > li > ul > li ul li {\\n\\t\\tlist-style-type: square;\\n\\t}\\n\\n\\tblockquote {\\n\\t\\tpadding-left: 1em;\\n\\t\\tborder-left: 4px solid var(--color-primary-element);\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\tmargin-left: 0;\\n\\t\\tmargin-right: 0;\\n\\t}\\n\\n}\\n\\n.ProseMirror-focused .ProseMirror-gapcursor {\\n\\tdisplay: block;\\n}\\n\\n.editor__content p.is-empty:first-child::before {\\n\\tcontent: attr(data-placeholder);\\n\\tfloat: left;\\n\\tcolor: var(--color-text-maxcontrast);\\n\\tpointer-events: none;\\n\\theight: 0;\\n}\\n\\n.editor__content {\\n\\ttab-size: 4;\\n}\\n\",\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n@import './../../css/style';\\n\\n#editor-wrapper {\\n\\t@import './../../css/prosemirror';\\n\\n\\t&:not(.richEditor) .ProseMirror {\\n\\t\\tpre {\\n\\t\\t\\tbackground-color: var(--color-main-background);\\n\\n\\t\\t\\t&::before {\\n\\t\\t\\t\\tcontent: attr(data-language);\\n\\t\\t\\t\\ttext-transform: uppercase;\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\ttext-align: right;\\n\\t\\t\\t\\tfont-weight: bold;\\n\\t\\t\\t\\tfont-size: 0.6rem;\\n\\t\\t\\t}\\n\\t\\t\\tcode {\\n\\t\\t\\t\\t.hljs-comment,\\n\\t\\t\\t\\t.hljs-quote {\\n\\t\\t\\t\\t\\tcolor: #999999;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t.hljs-variable,\\n\\t\\t\\t\\t.hljs-template-variable,\\n\\t\\t\\t\\t.hljs-attribute,\\n\\t\\t\\t\\t.hljs-tag,\\n\\t\\t\\t\\t.hljs-name,\\n\\t\\t\\t\\t.hljs-regexp,\\n\\t\\t\\t\\t.hljs-link,\\n\\t\\t\\t\\t.hljs-selector-id,\\n\\t\\t\\t\\t.hljs-selector-class {\\n\\t\\t\\t\\t\\tcolor: #f2777a;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t.hljs-number,\\n\\t\\t\\t\\t.hljs-meta,\\n\\t\\t\\t\\t.hljs-built_in,\\n\\t\\t\\t\\t.hljs-builtin-name,\\n\\t\\t\\t\\t.hljs-literal,\\n\\t\\t\\t\\t.hljs-type,\\n\\t\\t\\t\\t.hljs-params {\\n\\t\\t\\t\\t\\tcolor: #f99157;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t.hljs-string,\\n\\t\\t\\t\\t.hljs-symbol,\\n\\t\\t\\t\\t.hljs-bullet {\\n\\t\\t\\t\\t\\tcolor: #99cc99;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t.hljs-title,\\n\\t\\t\\t\\t.hljs-section {\\n\\t\\t\\t\\t\\tcolor: #ffcc66;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t.hljs-keyword,\\n\\t\\t\\t\\t.hljs-selector-tag {\\n\\t\\t\\t\\t\\tcolor: #6699cc;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t.hljs-emphasis {\\n\\t\\t\\t\\t\\tfont-style: italic;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t.hljs-strong {\\n\\t\\t\\t\\t\\tfont-weight: 700;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t// relative position for the alignment of the menububble\\n\\t#editor {\\n\\t\\t.content-wrapper {\\n\\t\\t\\tposition: relative;\\n\\t\\t}\\n\\t}\\n}\\n\\n// Required in order to make the public pages behave the same if talk is enabled or not\\n// as Talk overwrites the public page styles and changes the DOM layout for the sidebar injection\\n#files-public-content {\\n\\theight: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../../img/checkbox-mark.svg\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#read-only-editor{overflow:scroll}#read-only-editor div.ProseMirror{margin-top:44px;height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:14px;outline:none}#read-only-editor div.ProseMirror[contenteditable=true],#read-only-editor div.ProseMirror[contenteditable=false],#read-only-editor div.ProseMirror [contenteditable=true],#read-only-editor div.ProseMirror [contenteditable=false]{border:none !important;width:100%;background-color:transparent;color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:14px}#read-only-editor div.ProseMirror .checkbox-item{display:flex;align-items:start;margin-left:-23px}#read-only-editor div.ProseMirror .checkbox-item input[type=checkbox]{display:none}#read-only-editor div.ProseMirror .checkbox-item:before{content:\\\"\\\";vertical-align:middle;margin:3px 6px 3px 2px;border:1px solid var(--color-text-maxcontrast);position:relative;display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer}#read-only-editor div.ProseMirror .checkbox-item.checked:before{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");background-color:var(--color-primary-element);border-color:var(--color-primary-element)}#read-only-editor div.ProseMirror .checkbox-item label{display:block;flex-grow:1;max-width:calc(100% - 28px)}#read-only-editor div.ProseMirror>*:first-child{margin-top:10px}#read-only-editor div.ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}#read-only-editor div.ProseMirror p{margin-bottom:1em;line-height:150%}#read-only-editor div.ProseMirror em{font-style:italic}#read-only-editor div.ProseMirror h1,#read-only-editor div.ProseMirror h2,#read-only-editor div.ProseMirror h3,#read-only-editor div.ProseMirror h4,#read-only-editor div.ProseMirror h5,#read-only-editor div.ProseMirror h6{font-weight:600;line-height:120%;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}#read-only-editor div.ProseMirror h1{font-size:36px;margin-top:48px}#read-only-editor div.ProseMirror h2{font-size:30px;margin-top:48px}#read-only-editor div.ProseMirror h3{font-size:24px}#read-only-editor div.ProseMirror h4{font-size:21px}#read-only-editor div.ProseMirror h5{font-size:17px}#read-only-editor div.ProseMirror h6{font-size:14px}#read-only-editor div.ProseMirror img{cursor:default;max-width:100%}#read-only-editor div.ProseMirror hr{padding:2px 0;border:none;margin:3em 0;width:100%}#read-only-editor div.ProseMirror hr:after{content:\\\"\\\";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}#read-only-editor div.ProseMirror pre{white-space:pre-wrap;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}#read-only-editor div.ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}#read-only-editor div.ProseMirror li{position:relative;padding-left:3px}#read-only-editor div.ProseMirror li p{margin-bottom:.5em}#read-only-editor div.ProseMirror ul,#read-only-editor div.ProseMirror ol{padding-left:10px;margin-left:10px;margin-bottom:1em}#read-only-editor div.ProseMirror ul li{list-style-type:disc}#read-only-editor div.ProseMirror ul>li>ul>li{list-style-type:circle}#read-only-editor div.ProseMirror ul>li>ul>li ul li{list-style-type:square}#read-only-editor div.ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}#read-only-editor .ProseMirror-focused .ProseMirror-gapcursor{display:block}#read-only-editor .editor__content p.is-empty:first-child::before{content:attr(data-placeholder);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}#read-only-editor .editor__content{tab-size:4}.thumbnailContainer #read-only-editor{width:100%}.thumbnailContainer #read-only-editor .ProseMirror{height:auto;margin:0 0 0 0;padding:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ReadOnlyEditor.vue\",\"webpack://./css/prosemirror.scss\"],\"names\":[],\"mappings\":\"AAiEA,kBAEC,eAAA,CClED,kCACC,eAAA,CACA,WAAA,CACA,iBAAA,CACA,oBAAA,CACA,oBAAA,CACA,mCAAA,CACA,2BAAA,CACA,0BAAA,CACA,gBAAA,CACA,cAAA,CACA,YAAA,CAEA,oOAIC,sBAAA,CACA,UAAA,CACA,4BAAA,CACA,4BAAA,CACA,SAAA,CACA,wBAAA,CACA,gBAAA,CACA,cAAA,CAGD,iDACC,YAAA,CACA,iBAAA,CAEA,iBAAA,CAEA,sEACC,YAAA,CAED,wDACC,UAAA,CACA,qBAAA,CACA,sBAAA,CACA,8CAAA,CACA,iBAAA,CACA,aAAA,CACA,kCAAA,CACA,WAAA,CACA,UAAA,CACA,0BAAA,CACA,0BAAA,CACA,cAAA,CAED,gEACC,wDAAA,CACA,6CAAA,CACA,yCAAA,CAED,uDACC,aAAA,CACA,WAAA,CACA,2BAAA,CAIF,gDACC,eAAA,CAGD,oCACC,kCAAA,CACA,yBAAA,CACA,cAAA,CAGD,oCACC,iBAAA,CACA,gBAAA,CAGD,qCACC,iBAAA,CAGD,8NAMC,eAAA,CACA,gBAAA,CACA,eAAA,CACA,kBAAA,CACA,4BAAA,CAGD,qCACC,cAAA,CACA,eAAA,CAGD,qCACC,cAAA,CACA,eAAA,CAGD,qCACC,cAAA,CAGD,qCACC,cAAA,CAGD,qCACC,cAAA,CAGD,qCACC,cAAA,CAGD,sCACC,cAAA,CACA,cAAA,CAGD,qCACC,aAAA,CACA,WAAA,CACA,YAAA,CACA,UAAA,CAGD,2CACC,UAAA,CACA,aAAA,CACA,UAAA,CACA,yCAAA,CACA,eAAA,CAGD,sCACC,oBAAA,CACA,6CAAA,CACA,kCAAA,CACA,iBAAA,CACA,iBAAA,CAGD,yCACC,6CAAA,CACA,kCAAA,CACA,iBAAA,CAGD,qCACC,iBAAA,CACA,gBAAA,CAEA,uCACC,kBAAA,CAIF,0EACC,iBAAA,CACA,gBAAA,CACA,iBAAA,CAGD,wCACC,oBAAA,CAID,8CACC,sBAAA,CAID,oDACC,sBAAA,CAGD,6CACC,gBAAA,CACA,kDAAA,CACA,mCAAA,CACA,aAAA,CACA,cAAA,CAKF,8DACC,aAAA,CAGD,kEACC,8BAAA,CACA,UAAA,CACA,mCAAA,CACA,mBAAA,CACA,QAAA,CAGD,mCACC,UAAA,CDzID,sCACC,UAAA,CAEA,mDACC,WAAA,CACA,cAAA,CACA,SAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n#read-only-editor {\\n\\t@import './../../css/prosemirror';\\n\\toverflow: scroll;\\n}\\n\\n.thumbnailContainer #read-only-editor  {\\n\\twidth: 100%;\\n\\n\\t.ProseMirror {\\n\\t\\theight: auto;\\n\\t\\tmargin: 0 0 0 0;\\n\\t\\tpadding: 0;\\n\\t}\\n}\\n\\n\",\"/* Document rendering styles */\\ndiv.ProseMirror {\\n\\tmargin-top: 44px;\\n\\theight: 100%;\\n\\tposition: relative;\\n\\tword-wrap: break-word;\\n\\twhite-space: pre-wrap;\\n\\t-webkit-font-variant-ligatures: none;\\n\\tfont-variant-ligatures: none;\\n\\tpadding: 4px 8px 200px 14px;\\n\\tline-height: 150%;\\n\\tfont-size: 14px;\\n\\toutline: none;\\n\\n\\t&[contenteditable=true],\\n\\t&[contenteditable=false],\\n\\t[contenteditable=true],\\n\\t[contenteditable=false] {\\n\\t\\tborder: none !important;\\n\\t\\twidth: 100%;\\n\\t\\tbackground-color: transparent;\\n\\t\\tcolor: var(--color-main-text);\\n\\t\\topacity: 1;\\n\\t\\t-webkit-user-select: text;\\n\\t\\tuser-select: text;\\n\\t\\tfont-size: 14px;\\n\\t}\\n\\n\\t.checkbox-item {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: start;\\n\\t\\t// Left-align with list item text\\n\\t\\tmargin-left: -23px;\\n\\n\\t\\tinput[type=checkbox] {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t\\t&:before {\\n\\t\\t\\tcontent: '';\\n\\t\\t\\tvertical-align: middle;\\n\\t\\t\\tmargin: 3px 6px 3px 2px;\\n\\t\\t\\tborder: 1px solid var(--color-text-maxcontrast);\\n\\t\\t\\tposition: relative;\\n\\t\\t\\tdisplay: block;\\n\\t\\t\\tborder-radius: var(--border-radius);\\n\\t\\t\\theight: 14px;\\n\\t\\t\\twidth: 14px;\\n\\t\\t\\tbox-shadow: none !important;\\n\\t\\t\\tbackground-position: center;\\n\\t\\t\\tcursor: pointer;\\n\\t\\t}\\n\\t\\t&.checked:before {\\n\\t\\t\\tbackground-image: url('../../img/checkbox-mark.svg');\\n\\t\\t\\tbackground-color: var(--color-primary-element);\\n\\t\\t\\tborder-color: var(--color-primary-element);\\n\\t\\t}\\n\\t\\tlabel {\\n\\t\\t\\tdisplay: block;\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tmax-width: calc(100% - 28px);\\n\\t\\t}\\n\\t}\\n\\n\\t> *:first-child {\\n\\t\\tmargin-top: 10px;\\n\\t}\\n\\n\\ta {\\n\\t\\tcolor: var(--color-primary-element);\\n\\t\\ttext-decoration: underline;\\n\\t\\tpadding: .5em 0;\\n\\t}\\n\\n\\tp {\\n\\t\\tmargin-bottom: 1em;\\n\\t\\tline-height: 150%;\\n\\t}\\n\\n\\tem {\\n\\t\\tfont-style: italic;\\n\\t}\\n\\n\\th1,\\n\\th2,\\n\\th3,\\n\\th4,\\n\\th5,\\n\\th6 {\\n\\t\\tfont-weight: 600;\\n\\t\\tline-height: 120%;\\n\\t\\tmargin-top: 24px;\\n\\t\\tmargin-bottom: 12px;\\n\\t\\tcolor: var(--color-main-text);\\n\\t}\\n\\n\\th1 {\\n\\t\\tfont-size: 36px;\\n\\t\\tmargin-top: 48px;\\n\\t}\\n\\n\\th2 {\\n\\t\\tfont-size: 30px;\\n\\t\\tmargin-top: 48px;\\n\\t}\\n\\n\\th3 {\\n\\t\\tfont-size: 24px;\\n\\t}\\n\\n\\th4 {\\n\\t\\tfont-size: 21px;\\n\\t}\\n\\n\\th5 {\\n\\t\\tfont-size: 17px;\\n\\t}\\n\\n\\th6 {\\n\\t\\tfont-size: 14px;\\n\\t}\\n\\n\\timg {\\n\\t\\tcursor: default;\\n\\t\\tmax-width: 100%;\\n\\t}\\n\\n\\thr {\\n\\t\\tpadding: 2px 0;\\n\\t\\tborder: none;\\n\\t\\tmargin: 3em 0;\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\thr:after {\\n\\t\\tcontent: \\\"\\\";\\n\\t\\tdisplay: block;\\n\\t\\theight: 1px;\\n\\t\\tbackground-color: var(--color-border-dark);\\n\\t\\tline-height: 2px;\\n\\t}\\n\\n\\tpre {\\n\\t\\twhite-space: pre-wrap;\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t\\tborder-radius: var(--border-radius);\\n\\t\\tpadding: 1em 1.3em;\\n\\t\\tmargin-bottom: 1em;\\n\\t}\\n\\n\\tp code {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t\\tborder-radius: var(--border-radius);\\n\\t\\tpadding: .1em .3em;\\n\\t}\\n\\n\\tli {\\n\\t\\tposition: relative;\\n\\t\\tpadding-left: 3px;\\n\\n\\t\\tp {\\n\\t\\t\\tmargin-bottom: 0.5em;\\n\\t\\t}\\n\\t}\\n\\n\\tul, ol {\\n\\t\\tpadding-left: 10px;\\n\\t\\tmargin-left: 10px;\\n\\t\\tmargin-bottom: 1em;\\n\\t}\\n\\n\\tul li {\\n\\t\\tlist-style-type: disc;\\n\\t}\\n\\n\\t// Second-level list entries\\n\\tul > li > ul > li {\\n\\t\\tlist-style-type: circle;\\n\\t}\\n\\n\\t// Third-level and further down list entries\\n\\tul > li > ul > li ul li {\\n\\t\\tlist-style-type: square;\\n\\t}\\n\\n\\tblockquote {\\n\\t\\tpadding-left: 1em;\\n\\t\\tborder-left: 4px solid var(--color-primary-element);\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\tmargin-left: 0;\\n\\t\\tmargin-right: 0;\\n\\t}\\n\\n}\\n\\n.ProseMirror-focused .ProseMirror-gapcursor {\\n\\tdisplay: block;\\n}\\n\\n.editor__content p.is-empty:first-child::before {\\n\\tcontent: attr(data-placeholder);\\n\\tfloat: left;\\n\\tcolor: var(--color-text-maxcontrast);\\n\\tpointer-events: none;\\n\\theight: 0;\\n}\\n\\n.editor__content {\\n\\ttab-size: 4;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../../img/checkbox-mark.svg\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"div.ProseMirror{margin-top:44px;height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:14px;outline:none}div.ProseMirror[contenteditable=true],div.ProseMirror[contenteditable=false],div.ProseMirror [contenteditable=true],div.ProseMirror [contenteditable=false]{border:none !important;width:100%;background-color:transparent;color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:14px}div.ProseMirror .checkbox-item{display:flex;align-items:start;margin-left:-23px}div.ProseMirror .checkbox-item input[type=checkbox]{display:none}div.ProseMirror .checkbox-item:before{content:\\\"\\\";vertical-align:middle;margin:3px 6px 3px 2px;border:1px solid var(--color-text-maxcontrast);position:relative;display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer}div.ProseMirror .checkbox-item.checked:before{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");background-color:var(--color-primary-element);border-color:var(--color-primary-element)}div.ProseMirror .checkbox-item label{display:block;flex-grow:1;max-width:calc(100% - 28px)}div.ProseMirror>*:first-child{margin-top:10px}div.ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}div.ProseMirror p{margin-bottom:1em;line-height:150%}div.ProseMirror em{font-style:italic}div.ProseMirror h1,div.ProseMirror h2,div.ProseMirror h3,div.ProseMirror h4,div.ProseMirror h5,div.ProseMirror h6{font-weight:600;line-height:120%;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}div.ProseMirror h1{font-size:36px;margin-top:48px}div.ProseMirror h2{font-size:30px;margin-top:48px}div.ProseMirror h3{font-size:24px}div.ProseMirror h4{font-size:21px}div.ProseMirror h5{font-size:17px}div.ProseMirror h6{font-size:14px}div.ProseMirror img{cursor:default;max-width:100%}div.ProseMirror hr{padding:2px 0;border:none;margin:3em 0;width:100%}div.ProseMirror hr:after{content:\\\"\\\";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}div.ProseMirror pre{white-space:pre-wrap;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}div.ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}div.ProseMirror li{position:relative;padding-left:3px}div.ProseMirror li p{margin-bottom:.5em}div.ProseMirror ul,div.ProseMirror ol{padding-left:10px;margin-left:10px;margin-bottom:1em}div.ProseMirror ul li{list-style-type:disc}div.ProseMirror ul>li>ul>li{list-style-type:circle}div.ProseMirror ul>li>ul>li ul li{list-style-type:square}div.ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}.ProseMirror-focused .ProseMirror-gapcursor{display:block}.editor__content p.is-empty:first-child::before{content:attr(data-placeholder);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}.editor__content{tab-size:4}\", \"\",{\"version\":3,\"sources\":[\"webpack://./css/prosemirror.scss\"],\"names\":[],\"mappings\":\"AACA,gBACC,eAAA,CACA,WAAA,CACA,iBAAA,CACA,oBAAA,CACA,oBAAA,CACA,mCAAA,CACA,2BAAA,CACA,0BAAA,CACA,gBAAA,CACA,cAAA,CACA,YAAA,CAEA,4JAIC,sBAAA,CACA,UAAA,CACA,4BAAA,CACA,4BAAA,CACA,SAAA,CACA,wBAAA,CACA,gBAAA,CACA,cAAA,CAGD,+BACC,YAAA,CACA,iBAAA,CAEA,iBAAA,CAEA,oDACC,YAAA,CAED,sCACC,UAAA,CACA,qBAAA,CACA,sBAAA,CACA,8CAAA,CACA,iBAAA,CACA,aAAA,CACA,kCAAA,CACA,WAAA,CACA,UAAA,CACA,0BAAA,CACA,0BAAA,CACA,cAAA,CAED,8CACC,wDAAA,CACA,6CAAA,CACA,yCAAA,CAED,qCACC,aAAA,CACA,WAAA,CACA,2BAAA,CAIF,8BACC,eAAA,CAGD,kBACC,kCAAA,CACA,yBAAA,CACA,cAAA,CAGD,kBACC,iBAAA,CACA,gBAAA,CAGD,mBACC,iBAAA,CAGD,kHAMC,eAAA,CACA,gBAAA,CACA,eAAA,CACA,kBAAA,CACA,4BAAA,CAGD,mBACC,cAAA,CACA,eAAA,CAGD,mBACC,cAAA,CACA,eAAA,CAGD,mBACC,cAAA,CAGD,mBACC,cAAA,CAGD,mBACC,cAAA,CAGD,mBACC,cAAA,CAGD,oBACC,cAAA,CACA,cAAA,CAGD,mBACC,aAAA,CACA,WAAA,CACA,YAAA,CACA,UAAA,CAGD,yBACC,UAAA,CACA,aAAA,CACA,UAAA,CACA,yCAAA,CACA,eAAA,CAGD,oBACC,oBAAA,CACA,6CAAA,CACA,kCAAA,CACA,iBAAA,CACA,iBAAA,CAGD,uBACC,6CAAA,CACA,kCAAA,CACA,iBAAA,CAGD,mBACC,iBAAA,CACA,gBAAA,CAEA,qBACC,kBAAA,CAIF,sCACC,iBAAA,CACA,gBAAA,CACA,iBAAA,CAGD,sBACC,oBAAA,CAID,4BACC,sBAAA,CAID,kCACC,sBAAA,CAGD,2BACC,gBAAA,CACA,kDAAA,CACA,mCAAA,CACA,aAAA,CACA,cAAA,CAKF,4CACC,aAAA,CAGD,gDACC,8BAAA,CACA,UAAA,CACA,mCAAA,CACA,mBAAA,CACA,QAAA,CAGD,iBACC,UAAA\",\"sourcesContent\":[\"/* Document rendering styles */\\ndiv.ProseMirror {\\n\\tmargin-top: 44px;\\n\\theight: 100%;\\n\\tposition: relative;\\n\\tword-wrap: break-word;\\n\\twhite-space: pre-wrap;\\n\\t-webkit-font-variant-ligatures: none;\\n\\tfont-variant-ligatures: none;\\n\\tpadding: 4px 8px 200px 14px;\\n\\tline-height: 150%;\\n\\tfont-size: 14px;\\n\\toutline: none;\\n\\n\\t&[contenteditable=true],\\n\\t&[contenteditable=false],\\n\\t[contenteditable=true],\\n\\t[contenteditable=false] {\\n\\t\\tborder: none !important;\\n\\t\\twidth: 100%;\\n\\t\\tbackground-color: transparent;\\n\\t\\tcolor: var(--color-main-text);\\n\\t\\topacity: 1;\\n\\t\\t-webkit-user-select: text;\\n\\t\\tuser-select: text;\\n\\t\\tfont-size: 14px;\\n\\t}\\n\\n\\t.checkbox-item {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: start;\\n\\t\\t// Left-align with list item text\\n\\t\\tmargin-left: -23px;\\n\\n\\t\\tinput[type=checkbox] {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t\\t&:before {\\n\\t\\t\\tcontent: '';\\n\\t\\t\\tvertical-align: middle;\\n\\t\\t\\tmargin: 3px 6px 3px 2px;\\n\\t\\t\\tborder: 1px solid var(--color-text-maxcontrast);\\n\\t\\t\\tposition: relative;\\n\\t\\t\\tdisplay: block;\\n\\t\\t\\tborder-radius: var(--border-radius);\\n\\t\\t\\theight: 14px;\\n\\t\\t\\twidth: 14px;\\n\\t\\t\\tbox-shadow: none !important;\\n\\t\\t\\tbackground-position: center;\\n\\t\\t\\tcursor: pointer;\\n\\t\\t}\\n\\t\\t&.checked:before {\\n\\t\\t\\tbackground-image: url('../../img/checkbox-mark.svg');\\n\\t\\t\\tbackground-color: var(--color-primary-element);\\n\\t\\t\\tborder-color: var(--color-primary-element);\\n\\t\\t}\\n\\t\\tlabel {\\n\\t\\t\\tdisplay: block;\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tmax-width: calc(100% - 28px);\\n\\t\\t}\\n\\t}\\n\\n\\t> *:first-child {\\n\\t\\tmargin-top: 10px;\\n\\t}\\n\\n\\ta {\\n\\t\\tcolor: var(--color-primary-element);\\n\\t\\ttext-decoration: underline;\\n\\t\\tpadding: .5em 0;\\n\\t}\\n\\n\\tp {\\n\\t\\tmargin-bottom: 1em;\\n\\t\\tline-height: 150%;\\n\\t}\\n\\n\\tem {\\n\\t\\tfont-style: italic;\\n\\t}\\n\\n\\th1,\\n\\th2,\\n\\th3,\\n\\th4,\\n\\th5,\\n\\th6 {\\n\\t\\tfont-weight: 600;\\n\\t\\tline-height: 120%;\\n\\t\\tmargin-top: 24px;\\n\\t\\tmargin-bottom: 12px;\\n\\t\\tcolor: var(--color-main-text);\\n\\t}\\n\\n\\th1 {\\n\\t\\tfont-size: 36px;\\n\\t\\tmargin-top: 48px;\\n\\t}\\n\\n\\th2 {\\n\\t\\tfont-size: 30px;\\n\\t\\tmargin-top: 48px;\\n\\t}\\n\\n\\th3 {\\n\\t\\tfont-size: 24px;\\n\\t}\\n\\n\\th4 {\\n\\t\\tfont-size: 21px;\\n\\t}\\n\\n\\th5 {\\n\\t\\tfont-size: 17px;\\n\\t}\\n\\n\\th6 {\\n\\t\\tfont-size: 14px;\\n\\t}\\n\\n\\timg {\\n\\t\\tcursor: default;\\n\\t\\tmax-width: 100%;\\n\\t}\\n\\n\\thr {\\n\\t\\tpadding: 2px 0;\\n\\t\\tborder: none;\\n\\t\\tmargin: 3em 0;\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\thr:after {\\n\\t\\tcontent: \\\"\\\";\\n\\t\\tdisplay: block;\\n\\t\\theight: 1px;\\n\\t\\tbackground-color: var(--color-border-dark);\\n\\t\\tline-height: 2px;\\n\\t}\\n\\n\\tpre {\\n\\t\\twhite-space: pre-wrap;\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t\\tborder-radius: var(--border-radius);\\n\\t\\tpadding: 1em 1.3em;\\n\\t\\tmargin-bottom: 1em;\\n\\t}\\n\\n\\tp code {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t\\tborder-radius: var(--border-radius);\\n\\t\\tpadding: .1em .3em;\\n\\t}\\n\\n\\tli {\\n\\t\\tposition: relative;\\n\\t\\tpadding-left: 3px;\\n\\n\\t\\tp {\\n\\t\\t\\tmargin-bottom: 0.5em;\\n\\t\\t}\\n\\t}\\n\\n\\tul, ol {\\n\\t\\tpadding-left: 10px;\\n\\t\\tmargin-left: 10px;\\n\\t\\tmargin-bottom: 1em;\\n\\t}\\n\\n\\tul li {\\n\\t\\tlist-style-type: disc;\\n\\t}\\n\\n\\t// Second-level list entries\\n\\tul > li > ul > li {\\n\\t\\tlist-style-type: circle;\\n\\t}\\n\\n\\t// Third-level and further down list entries\\n\\tul > li > ul > li ul li {\\n\\t\\tlist-style-type: square;\\n\\t}\\n\\n\\tblockquote {\\n\\t\\tpadding-left: 1em;\\n\\t\\tborder-left: 4px solid var(--color-primary-element);\\n\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\tmargin-left: 0;\\n\\t\\tmargin-right: 0;\\n\\t}\\n\\n}\\n\\n.ProseMirror-focused .ProseMirror-gapcursor {\\n\\tdisplay: block;\\n}\\n\\n.editor__content p.is-empty:first-child::before {\\n\\tcontent: attr(data-placeholder);\\n\\tfloat: left;\\n\\tcolor: var(--color-text-maxcontrast);\\n\\tpointer-events: none;\\n\\theight: 0;\\n}\\n\\n.editor__content {\\n\\ttab-size: 4;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".image[data-v-9d231158]{margin:0;padding:0}.image__caption[data-v-9d231158]{text-align:center;color:var(--color-text-lighter);display:flex;align-items:center;justify-content:center}.image__caption input[type=text][data-v-9d231158]{max-width:80%;border:none;text-align:center}.image__loading[data-v-9d231158]{height:100px}.image__view[data-v-9d231158]{text-align:center;position:relative}.image__view img[data-v-9d231158]{max-width:100%}.image__main[data-v-9d231158]{max-height:calc(100vh - 50px - 50px)}.fade-enter-active[data-v-9d231158]{transition:opacity .3s ease-in-out}.fade-enter-to[data-v-9d231158]{opacity:1}.fade-enter[data-v-9d231158]{opacity:0}.trash-icon[data-v-9d231158]{position:absolute;right:0;display:flex;justify-content:flex-end;align-items:center}.trash-icon svg[data-v-9d231158]{cursor:pointer}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/nodes/ImageView.vue\"],\"names\":[],\"mappings\":\"AAkTA,wBACC,QAAA,CACA,SAAA,CAGD,iCACC,iBAAA,CACA,+BAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,kDACC,aAAA,CACA,WAAA,CACA,iBAAA,CAIF,iCACC,YAAA,CAGD,8BACC,iBAAA,CACA,iBAAA,CAEA,kCACC,cAAA,CAIF,8BACC,oCAAA,CAGD,oCACC,kCAAA,CAGD,gCACC,SAAA,CAGD,6BACC,SAAA,CAGD,6BACC,iBAAA,CACA,OAAA,CACA,YAAA,CACA,wBAAA,CACA,kBAAA,CACA,iCACC,cAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.image {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n}\\n\\n.image__caption {\\n\\ttext-align: center;\\n\\tcolor: var(--color-text-lighter);\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tinput[type='text'] {\\n\\t\\tmax-width: 80%;\\n\\t\\tborder: none;\\n\\t\\ttext-align: center;\\n\\t}\\n}\\n\\n.image__loading {\\n\\theight: 100px;\\n}\\n\\n.image__view {\\n\\ttext-align: center;\\n\\tposition: relative;\\n\\n\\timg {\\n\\t\\tmax-width: 100%;\\n\\t}\\n}\\n\\n.image__main {\\n\\tmax-height: calc(100vh - 50px - 50px);\\n}\\n\\n.fade-enter-active {\\n\\ttransition: opacity .3s ease-in-out;\\n}\\n\\n.fade-enter-to {\\n\\topacity: 1;\\n}\\n\\n.fade-enter {\\n\\topacity: 0;\\n}\\n\\n.trash-icon {\\n\\tposition: absolute;\\n\\tright: 0;\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n\\talign-items: center;\\n\\tsvg {\\n\\t\\tcursor: pointer;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"body[data-v-8decc61c]{position:fixed}#direct-editor[data-v-8decc61c]{width:100%;height:100%;position:fixed;overflow:hidden}#direct-editor[data-v-8decc61c] #editor-container{height:100%;top:0}#direct-editor[data-v-8decc61c] #editor-wrapper div.ProseMirror{margin-top:0}pre[data-v-8decc61c]{width:100%;max-width:700px;margin:auto;background-color:var(--color-background-dark)}button[data-v-8decc61c]{width:44px;height:44px;margin:0;background-size:16px;border:0;background-color:transparent;opacity:.5;color:var(--color-main-text);background-position:center center;vertical-align:top}button[data-v-8decc61c]:hover,button[data-v-8decc61c]:focus,button[data-v-8decc61c]:active{background-color:var(--color-background-dark)}button.is-active[data-v-8decc61c],button[data-v-8decc61c]:hover,button[data-v-8decc61c]:focus{opacity:1}button.icon-undo[data-v-8decc61c],button.icon-redo[data-v-8decc61c]{opacity:.4}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/DirectEditing.vue\"],\"names\":[],\"mappings\":\"AAgIA,sBACC,cAAA,CAGD,gCACC,UAAA,CACA,WAAA,CACA,cAAA,CACA,eAAA,CAEA,kDACC,WAAA,CACA,KAAA,CAED,gEACC,YAAA,CAIF,qBACC,UAAA,CACA,eAAA,CACA,WAAA,CACA,6CAAA,CAGD,wBACC,UAAA,CACA,WAAA,CACA,QAAA,CACA,oBAAA,CACA,QAAA,CACA,4BAAA,CACA,UAAA,CACA,4BAAA,CACA,iCAAA,CACA,kBAAA,CACA,2FACC,6CAAA,CAED,8FAGC,SAAA,CAGD,oEACC,UAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nbody {\\n\\tposition: fixed;\\n}\\n\\n#direct-editor {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tposition: fixed;\\n\\toverflow: hidden;\\n\\n\\t&::v-deep #editor-container {\\n\\t\\theight: 100%;\\n\\t\\ttop: 0;\\n\\t}\\n\\t&::v-deep #editor-wrapper div.ProseMirror {\\n\\t\\tmargin-top: 0;\\n\\t}\\n}\\n\\npre {\\n\\twidth: 100%;\\n\\tmax-width: 700px;\\n\\tmargin: auto;\\n\\tbackground-color: var(--color-background-dark);\\n}\\n\\nbutton {\\n\\twidth: 44px;\\n\\theight: 44px;\\n\\tmargin: 0;\\n\\tbackground-size: 16px;\\n\\tborder: 0;\\n\\tbackground-color: transparent;\\n\\topacity: .5;\\n\\tcolor: var(--color-main-text);\\n\\tbackground-position: center center;\\n\\tvertical-align: top;\\n\\t&:hover, &:focus, &:active {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t}\\n\\t&.is-active,\\n\\t&:hover,\\n\\t&:focus {\\n\\t\\topacity: 1;\\n\\t}\\n\\n\\t&.icon-undo, &.icon-redo {\\n\\t\\topacity: .4;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var map = {\n\t\"./1c\": [\n\t\t73870,\n\t\t\"highlight/1c\"\n\t],\n\t\"./1c.js\": [\n\t\t73870,\n\t\t\"highlight/1c\"\n\t],\n\t\"./abnf\": [\n\t\t1122,\n\t\t\"highlight/abnf\"\n\t],\n\t\"./abnf.js\": [\n\t\t1122,\n\t\t\"highlight/abnf\"\n\t],\n\t\"./accesslog\": [\n\t\t63074,\n\t\t\"highlight/accesslog\"\n\t],\n\t\"./accesslog.js\": [\n\t\t63074,\n\t\t\"highlight/accesslog\"\n\t],\n\t\"./actionscript\": [\n\t\t39696,\n\t\t\"highlight/actionscript\"\n\t],\n\t\"./actionscript.js\": [\n\t\t39696,\n\t\t\"highlight/actionscript\"\n\t],\n\t\"./ada\": [\n\t\t19389,\n\t\t\"highlight/ada\"\n\t],\n\t\"./ada.js\": [\n\t\t19389,\n\t\t\"highlight/ada\"\n\t],\n\t\"./angelscript\": [\n\t\t46147,\n\t\t\"highlight/angelscript\"\n\t],\n\t\"./angelscript.js\": [\n\t\t46147,\n\t\t\"highlight/angelscript\"\n\t],\n\t\"./apache\": [\n\t\t96936,\n\t\t\"highlight/apache\"\n\t],\n\t\"./apache.js\": [\n\t\t96936,\n\t\t\"highlight/apache\"\n\t],\n\t\"./applescript\": [\n\t\t5460,\n\t\t\"highlight/applescript\"\n\t],\n\t\"./applescript.js\": [\n\t\t5460,\n\t\t\"highlight/applescript\"\n\t],\n\t\"./arcade\": [\n\t\t43178,\n\t\t\"highlight/arcade\"\n\t],\n\t\"./arcade.js\": [\n\t\t43178,\n\t\t\"highlight/arcade\"\n\t],\n\t\"./arduino\": [\n\t\t1232,\n\t\t\"highlight/arduino\"\n\t],\n\t\"./arduino.js\": [\n\t\t1232,\n\t\t\"highlight/arduino\"\n\t],\n\t\"./armasm\": [\n\t\t71196,\n\t\t\"highlight/armasm\"\n\t],\n\t\"./armasm.js\": [\n\t\t71196,\n\t\t\"highlight/armasm\"\n\t],\n\t\"./asciidoc\": [\n\t\t90630,\n\t\t\"highlight/asciidoc\"\n\t],\n\t\"./asciidoc.js\": [\n\t\t90630,\n\t\t\"highlight/asciidoc\"\n\t],\n\t\"./aspectj\": [\n\t\t25044,\n\t\t\"highlight/aspectj\"\n\t],\n\t\"./aspectj.js\": [\n\t\t25044,\n\t\t\"highlight/aspectj\"\n\t],\n\t\"./autohotkey\": [\n\t\t67130,\n\t\t\"highlight/autohotkey\"\n\t],\n\t\"./autohotkey.js\": [\n\t\t67130,\n\t\t\"highlight/autohotkey\"\n\t],\n\t\"./autoit\": [\n\t\t75039,\n\t\t\"highlight/autoit\"\n\t],\n\t\"./autoit.js\": [\n\t\t75039,\n\t\t\"highlight/autoit\"\n\t],\n\t\"./avrasm\": [\n\t\t18324,\n\t\t\"highlight/avrasm\"\n\t],\n\t\"./avrasm.js\": [\n\t\t18324,\n\t\t\"highlight/avrasm\"\n\t],\n\t\"./awk\": [\n\t\t40070,\n\t\t\"highlight/awk\"\n\t],\n\t\"./awk.js\": [\n\t\t40070,\n\t\t\"highlight/awk\"\n\t],\n\t\"./axapta\": [\n\t\t80149,\n\t\t\"highlight/axapta\"\n\t],\n\t\"./axapta.js\": [\n\t\t80149,\n\t\t\"highlight/axapta\"\n\t],\n\t\"./bash\": [\n\t\t61519,\n\t\t\"highlight/bash\"\n\t],\n\t\"./bash.js\": [\n\t\t61519,\n\t\t\"highlight/bash\"\n\t],\n\t\"./basic\": [\n\t\t56827,\n\t\t\"highlight/basic\"\n\t],\n\t\"./basic.js\": [\n\t\t56827,\n\t\t\"highlight/basic\"\n\t],\n\t\"./bnf\": [\n\t\t78349,\n\t\t\"highlight/bnf\"\n\t],\n\t\"./bnf.js\": [\n\t\t78349,\n\t\t\"highlight/bnf\"\n\t],\n\t\"./brainfuck\": [\n\t\t44536,\n\t\t\"highlight/brainfuck\"\n\t],\n\t\"./brainfuck.js\": [\n\t\t44536,\n\t\t\"highlight/brainfuck\"\n\t],\n\t\"./c\": [\n\t\t25745,\n\t\t\"highlight/c\"\n\t],\n\t\"./c-like\": [\n\t\t58212,\n\t\t\"highlight/c-like\"\n\t],\n\t\"./c-like.js\": [\n\t\t58212,\n\t\t\"highlight/c-like\"\n\t],\n\t\"./c.js\": [\n\t\t25745,\n\t\t\"highlight/c\"\n\t],\n\t\"./cal\": [\n\t\t45041,\n\t\t\"highlight/cal\"\n\t],\n\t\"./cal.js\": [\n\t\t45041,\n\t\t\"highlight/cal\"\n\t],\n\t\"./capnproto\": [\n\t\t51446,\n\t\t\"highlight/capnproto\"\n\t],\n\t\"./capnproto.js\": [\n\t\t51446,\n\t\t\"highlight/capnproto\"\n\t],\n\t\"./ceylon\": [\n\t\t1795,\n\t\t\"highlight/ceylon\"\n\t],\n\t\"./ceylon.js\": [\n\t\t1795,\n\t\t\"highlight/ceylon\"\n\t],\n\t\"./clean\": [\n\t\t82280,\n\t\t\"highlight/clean\"\n\t],\n\t\"./clean.js\": [\n\t\t82280,\n\t\t\"highlight/clean\"\n\t],\n\t\"./clojure\": [\n\t\t36134,\n\t\t\"highlight/clojure\"\n\t],\n\t\"./clojure-repl\": [\n\t\t36746,\n\t\t\"highlight/clojure-repl\"\n\t],\n\t\"./clojure-repl.js\": [\n\t\t36746,\n\t\t\"highlight/clojure-repl\"\n\t],\n\t\"./clojure.js\": [\n\t\t36134,\n\t\t\"highlight/clojure\"\n\t],\n\t\"./cmake\": [\n\t\t71422,\n\t\t\"highlight/cmake\"\n\t],\n\t\"./cmake.js\": [\n\t\t71422,\n\t\t\"highlight/cmake\"\n\t],\n\t\"./coffeescript\": [\n\t\t6691,\n\t\t\"highlight/coffeescript\"\n\t],\n\t\"./coffeescript.js\": [\n\t\t6691,\n\t\t\"highlight/coffeescript\"\n\t],\n\t\"./coq\": [\n\t\t73621,\n\t\t\"highlight/coq\"\n\t],\n\t\"./coq.js\": [\n\t\t73621,\n\t\t\"highlight/coq\"\n\t],\n\t\"./cos\": [\n\t\t69586,\n\t\t\"highlight/cos\"\n\t],\n\t\"./cos.js\": [\n\t\t69586,\n\t\t\"highlight/cos\"\n\t],\n\t\"./cpp\": [\n\t\t74006,\n\t\t\"highlight/cpp\"\n\t],\n\t\"./cpp.js\": [\n\t\t74006,\n\t\t\"highlight/cpp\"\n\t],\n\t\"./crmsh\": [\n\t\t37641,\n\t\t\"highlight/crmsh\"\n\t],\n\t\"./crmsh.js\": [\n\t\t37641,\n\t\t\"highlight/crmsh\"\n\t],\n\t\"./crystal\": [\n\t\t91139,\n\t\t\"highlight/crystal\"\n\t],\n\t\"./crystal.js\": [\n\t\t91139,\n\t\t\"highlight/crystal\"\n\t],\n\t\"./csharp\": [\n\t\t681,\n\t\t\"highlight/csharp\"\n\t],\n\t\"./csharp.js\": [\n\t\t681,\n\t\t\"highlight/csharp\"\n\t],\n\t\"./csp\": [\n\t\t60530,\n\t\t\"highlight/csp\"\n\t],\n\t\"./csp.js\": [\n\t\t60530,\n\t\t\"highlight/csp\"\n\t],\n\t\"./css\": [\n\t\t68914,\n\t\t\"highlight/css\"\n\t],\n\t\"./css.js\": [\n\t\t68914,\n\t\t\"highlight/css\"\n\t],\n\t\"./d\": [\n\t\t89968,\n\t\t\"highlight/d\"\n\t],\n\t\"./d.js\": [\n\t\t89968,\n\t\t\"highlight/d\"\n\t],\n\t\"./dart\": [\n\t\t65778,\n\t\t\"highlight/dart\"\n\t],\n\t\"./dart.js\": [\n\t\t65778,\n\t\t\"highlight/dart\"\n\t],\n\t\"./delphi\": [\n\t\t48008,\n\t\t\"highlight/delphi\"\n\t],\n\t\"./delphi.js\": [\n\t\t48008,\n\t\t\"highlight/delphi\"\n\t],\n\t\"./diff\": [\n\t\t91833,\n\t\t\"highlight/diff\"\n\t],\n\t\"./diff.js\": [\n\t\t91833,\n\t\t\"highlight/diff\"\n\t],\n\t\"./django\": [\n\t\t45253,\n\t\t\"highlight/django\"\n\t],\n\t\"./django.js\": [\n\t\t45253,\n\t\t\"highlight/django\"\n\t],\n\t\"./dns\": [\n\t\t65594,\n\t\t\"highlight/dns\"\n\t],\n\t\"./dns.js\": [\n\t\t65594,\n\t\t\"highlight/dns\"\n\t],\n\t\"./dockerfile\": [\n\t\t27055,\n\t\t\"highlight/dockerfile\"\n\t],\n\t\"./dockerfile.js\": [\n\t\t27055,\n\t\t\"highlight/dockerfile\"\n\t],\n\t\"./dos\": [\n\t\t85215,\n\t\t\"highlight/dos\"\n\t],\n\t\"./dos.js\": [\n\t\t85215,\n\t\t\"highlight/dos\"\n\t],\n\t\"./dsconfig\": [\n\t\t71524,\n\t\t\"highlight/dsconfig\"\n\t],\n\t\"./dsconfig.js\": [\n\t\t71524,\n\t\t\"highlight/dsconfig\"\n\t],\n\t\"./dts\": [\n\t\t29702,\n\t\t\"highlight/dts\"\n\t],\n\t\"./dts.js\": [\n\t\t29702,\n\t\t\"highlight/dts\"\n\t],\n\t\"./dust\": [\n\t\t27115,\n\t\t\"highlight/dust\"\n\t],\n\t\"./dust.js\": [\n\t\t27115,\n\t\t\"highlight/dust\"\n\t],\n\t\"./ebnf\": [\n\t\t26254,\n\t\t\"highlight/ebnf\"\n\t],\n\t\"./ebnf.js\": [\n\t\t26254,\n\t\t\"highlight/ebnf\"\n\t],\n\t\"./elixir\": [\n\t\t27204,\n\t\t\"highlight/elixir\"\n\t],\n\t\"./elixir.js\": [\n\t\t27204,\n\t\t\"highlight/elixir\"\n\t],\n\t\"./elm\": [\n\t\t58259,\n\t\t\"highlight/elm\"\n\t],\n\t\"./elm.js\": [\n\t\t58259,\n\t\t\"highlight/elm\"\n\t],\n\t\"./erb\": [\n\t\t328,\n\t\t\"highlight/erb\"\n\t],\n\t\"./erb.js\": [\n\t\t328,\n\t\t\"highlight/erb\"\n\t],\n\t\"./erlang\": [\n\t\t87489,\n\t\t\"highlight/erlang\"\n\t],\n\t\"./erlang-repl\": [\n\t\t27670,\n\t\t\"highlight/erlang-repl\"\n\t],\n\t\"./erlang-repl.js\": [\n\t\t27670,\n\t\t\"highlight/erlang-repl\"\n\t],\n\t\"./erlang.js\": [\n\t\t87489,\n\t\t\"highlight/erlang\"\n\t],\n\t\"./excel\": [\n\t\t94369,\n\t\t\"highlight/excel\"\n\t],\n\t\"./excel.js\": [\n\t\t94369,\n\t\t\"highlight/excel\"\n\t],\n\t\"./fix\": [\n\t\t51377,\n\t\t\"highlight/fix\"\n\t],\n\t\"./fix.js\": [\n\t\t51377,\n\t\t\"highlight/fix\"\n\t],\n\t\"./flix\": [\n\t\t72041,\n\t\t\"highlight/flix\"\n\t],\n\t\"./flix.js\": [\n\t\t72041,\n\t\t\"highlight/flix\"\n\t],\n\t\"./fortran\": [\n\t\t28362,\n\t\t\"highlight/fortran\"\n\t],\n\t\"./fortran.js\": [\n\t\t28362,\n\t\t\"highlight/fortran\"\n\t],\n\t\"./fsharp\": [\n\t\t34639,\n\t\t\"highlight/fsharp\"\n\t],\n\t\"./fsharp.js\": [\n\t\t34639,\n\t\t\"highlight/fsharp\"\n\t],\n\t\"./gams\": [\n\t\t9392,\n\t\t\"highlight/gams\"\n\t],\n\t\"./gams.js\": [\n\t\t9392,\n\t\t\"highlight/gams\"\n\t],\n\t\"./gauss\": [\n\t\t44859,\n\t\t\"highlight/gauss\"\n\t],\n\t\"./gauss.js\": [\n\t\t44859,\n\t\t\"highlight/gauss\"\n\t],\n\t\"./gcode\": [\n\t\t38036,\n\t\t\"highlight/gcode\"\n\t],\n\t\"./gcode.js\": [\n\t\t38036,\n\t\t\"highlight/gcode\"\n\t],\n\t\"./gherkin\": [\n\t\t65962,\n\t\t\"highlight/gherkin\"\n\t],\n\t\"./gherkin.js\": [\n\t\t65962,\n\t\t\"highlight/gherkin\"\n\t],\n\t\"./glsl\": [\n\t\t85243,\n\t\t\"highlight/glsl\"\n\t],\n\t\"./glsl.js\": [\n\t\t85243,\n\t\t\"highlight/glsl\"\n\t],\n\t\"./gml\": [\n\t\t94807,\n\t\t\"highlight/gml\"\n\t],\n\t\"./gml.js\": [\n\t\t94807,\n\t\t\"highlight/gml\"\n\t],\n\t\"./go\": [\n\t\t33048,\n\t\t\"highlight/go\"\n\t],\n\t\"./go.js\": [\n\t\t33048,\n\t\t\"highlight/go\"\n\t],\n\t\"./golo\": [\n\t\t87140,\n\t\t\"highlight/golo\"\n\t],\n\t\"./golo.js\": [\n\t\t87140,\n\t\t\"highlight/golo\"\n\t],\n\t\"./gradle\": [\n\t\t88267,\n\t\t\"highlight/gradle\"\n\t],\n\t\"./gradle.js\": [\n\t\t88267,\n\t\t\"highlight/gradle\"\n\t],\n\t\"./groovy\": [\n\t\t12175,\n\t\t\"highlight/groovy\"\n\t],\n\t\"./groovy.js\": [\n\t\t12175,\n\t\t\"highlight/groovy\"\n\t],\n\t\"./haml\": [\n\t\t25268,\n\t\t\"highlight/haml\"\n\t],\n\t\"./haml.js\": [\n\t\t25268,\n\t\t\"highlight/haml\"\n\t],\n\t\"./handlebars\": [\n\t\t83512,\n\t\t\"highlight/handlebars\"\n\t],\n\t\"./handlebars.js\": [\n\t\t83512,\n\t\t\"highlight/handlebars\"\n\t],\n\t\"./haskell\": [\n\t\t56703,\n\t\t\"highlight/haskell\"\n\t],\n\t\"./haskell.js\": [\n\t\t56703,\n\t\t\"highlight/haskell\"\n\t],\n\t\"./haxe\": [\n\t\t429,\n\t\t\"highlight/haxe\"\n\t],\n\t\"./haxe.js\": [\n\t\t429,\n\t\t\"highlight/haxe\"\n\t],\n\t\"./hsp\": [\n\t\t90793,\n\t\t\"highlight/hsp\"\n\t],\n\t\"./hsp.js\": [\n\t\t90793,\n\t\t\"highlight/hsp\"\n\t],\n\t\"./htmlbars\": [\n\t\t93202,\n\t\t\"highlight/htmlbars\"\n\t],\n\t\"./htmlbars.js\": [\n\t\t93202,\n\t\t\"highlight/htmlbars\"\n\t],\n\t\"./http\": [\n\t\t30786,\n\t\t\"highlight/http\"\n\t],\n\t\"./http.js\": [\n\t\t30786,\n\t\t\"highlight/http\"\n\t],\n\t\"./hy\": [\n\t\t35359,\n\t\t\"highlight/hy\"\n\t],\n\t\"./hy.js\": [\n\t\t35359,\n\t\t\"highlight/hy\"\n\t],\n\t\"./inform7\": [\n\t\t68968,\n\t\t\"highlight/inform7\"\n\t],\n\t\"./inform7.js\": [\n\t\t68968,\n\t\t\"highlight/inform7\"\n\t],\n\t\"./ini\": [\n\t\t29560,\n\t\t\"highlight/ini\"\n\t],\n\t\"./ini.js\": [\n\t\t29560,\n\t\t\"highlight/ini\"\n\t],\n\t\"./irpf90\": [\n\t\t10811,\n\t\t\"highlight/irpf90\"\n\t],\n\t\"./irpf90.js\": [\n\t\t10811,\n\t\t\"highlight/irpf90\"\n\t],\n\t\"./isbl\": [\n\t\t15044,\n\t\t\"highlight/isbl\"\n\t],\n\t\"./isbl.js\": [\n\t\t15044,\n\t\t\"highlight/isbl\"\n\t],\n\t\"./java\": [\n\t\t37721,\n\t\t\"highlight/java\"\n\t],\n\t\"./java.js\": [\n\t\t37721,\n\t\t\"highlight/java\"\n\t],\n\t\"./javascript\": [\n\t\t96344,\n\t\t\"highlight/javascript\"\n\t],\n\t\"./javascript.js\": [\n\t\t96344,\n\t\t\"highlight/javascript\"\n\t],\n\t\"./jboss-cli\": [\n\t\t40412,\n\t\t\"highlight/jboss-cli\"\n\t],\n\t\"./jboss-cli.js\": [\n\t\t40412,\n\t\t\"highlight/jboss-cli\"\n\t],\n\t\"./json\": [\n\t\t53271,\n\t\t\"highlight/json\"\n\t],\n\t\"./json.js\": [\n\t\t53271,\n\t\t\"highlight/json\"\n\t],\n\t\"./julia\": [\n\t\t47337,\n\t\t\"highlight/julia\"\n\t],\n\t\"./julia-repl\": [\n\t\t79989,\n\t\t\"highlight/julia-repl\"\n\t],\n\t\"./julia-repl.js\": [\n\t\t79989,\n\t\t\"highlight/julia-repl\"\n\t],\n\t\"./julia.js\": [\n\t\t47337,\n\t\t\"highlight/julia\"\n\t],\n\t\"./kotlin\": [\n\t\t48099,\n\t\t\"highlight/kotlin\"\n\t],\n\t\"./kotlin.js\": [\n\t\t48099,\n\t\t\"highlight/kotlin\"\n\t],\n\t\"./lasso\": [\n\t\t54082,\n\t\t\"highlight/lasso\"\n\t],\n\t\"./lasso.js\": [\n\t\t54082,\n\t\t\"highlight/lasso\"\n\t],\n\t\"./latex\": [\n\t\t850,\n\t\t\"highlight/latex\"\n\t],\n\t\"./latex.js\": [\n\t\t850,\n\t\t\"highlight/latex\"\n\t],\n\t\"./ldif\": [\n\t\t33310,\n\t\t\"highlight/ldif\"\n\t],\n\t\"./ldif.js\": [\n\t\t33310,\n\t\t\"highlight/ldif\"\n\t],\n\t\"./leaf\": [\n\t\t2774,\n\t\t\"highlight/leaf\"\n\t],\n\t\"./leaf.js\": [\n\t\t2774,\n\t\t\"highlight/leaf\"\n\t],\n\t\"./less\": [\n\t\t23874,\n\t\t\"highlight/less\"\n\t],\n\t\"./less.js\": [\n\t\t23874,\n\t\t\"highlight/less\"\n\t],\n\t\"./lisp\": [\n\t\t17169,\n\t\t\"highlight/lisp\"\n\t],\n\t\"./lisp.js\": [\n\t\t17169,\n\t\t\"highlight/lisp\"\n\t],\n\t\"./livecodeserver\": [\n\t\t63909,\n\t\t\"highlight/livecodeserver\"\n\t],\n\t\"./livecodeserver.js\": [\n\t\t63909,\n\t\t\"highlight/livecodeserver\"\n\t],\n\t\"./livescript\": [\n\t\t39563,\n\t\t\"highlight/livescript\"\n\t],\n\t\"./livescript.js\": [\n\t\t39563,\n\t\t\"highlight/livescript\"\n\t],\n\t\"./llvm\": [\n\t\t40119,\n\t\t\"highlight/llvm\"\n\t],\n\t\"./llvm.js\": [\n\t\t40119,\n\t\t\"highlight/llvm\"\n\t],\n\t\"./lsl\": [\n\t\t12130,\n\t\t\"highlight/lsl\"\n\t],\n\t\"./lsl.js\": [\n\t\t12130,\n\t\t\"highlight/lsl\"\n\t],\n\t\"./lua\": [\n\t\t31067,\n\t\t\"highlight/lua\"\n\t],\n\t\"./lua.js\": [\n\t\t31067,\n\t\t\"highlight/lua\"\n\t],\n\t\"./makefile\": [\n\t\t30465,\n\t\t\"highlight/makefile\"\n\t],\n\t\"./makefile.js\": [\n\t\t30465,\n\t\t\"highlight/makefile\"\n\t],\n\t\"./markdown\": [\n\t\t93839,\n\t\t\"highlight/markdown\"\n\t],\n\t\"./markdown.js\": [\n\t\t93839,\n\t\t\"highlight/markdown\"\n\t],\n\t\"./mathematica\": [\n\t\t61083,\n\t\t\"highlight/mathematica\"\n\t],\n\t\"./mathematica.js\": [\n\t\t61083,\n\t\t\"highlight/mathematica\"\n\t],\n\t\"./matlab\": [\n\t\t41304,\n\t\t\"highlight/matlab\"\n\t],\n\t\"./matlab.js\": [\n\t\t41304,\n\t\t\"highlight/matlab\"\n\t],\n\t\"./maxima\": [\n\t\t46747,\n\t\t\"highlight/maxima\"\n\t],\n\t\"./maxima.js\": [\n\t\t46747,\n\t\t\"highlight/maxima\"\n\t],\n\t\"./mel\": [\n\t\t70483,\n\t\t\"highlight/mel\"\n\t],\n\t\"./mel.js\": [\n\t\t70483,\n\t\t\"highlight/mel\"\n\t],\n\t\"./mercury\": [\n\t\t53038,\n\t\t\"highlight/mercury\"\n\t],\n\t\"./mercury.js\": [\n\t\t53038,\n\t\t\"highlight/mercury\"\n\t],\n\t\"./mipsasm\": [\n\t\t45802,\n\t\t\"highlight/mipsasm\"\n\t],\n\t\"./mipsasm.js\": [\n\t\t45802,\n\t\t\"highlight/mipsasm\"\n\t],\n\t\"./mizar\": [\n\t\t90918,\n\t\t\"highlight/mizar\"\n\t],\n\t\"./mizar.js\": [\n\t\t90918,\n\t\t\"highlight/mizar\"\n\t],\n\t\"./mojolicious\": [\n\t\t92210,\n\t\t\"highlight/mojolicious\"\n\t],\n\t\"./mojolicious.js\": [\n\t\t92210,\n\t\t\"highlight/mojolicious\"\n\t],\n\t\"./monkey\": [\n\t\t97350,\n\t\t\"highlight/monkey\"\n\t],\n\t\"./monkey.js\": [\n\t\t97350,\n\t\t\"highlight/monkey\"\n\t],\n\t\"./moonscript\": [\n\t\t27239,\n\t\t\"highlight/moonscript\"\n\t],\n\t\"./moonscript.js\": [\n\t\t27239,\n\t\t\"highlight/moonscript\"\n\t],\n\t\"./n1ql\": [\n\t\t77669,\n\t\t\"highlight/n1ql\"\n\t],\n\t\"./n1ql.js\": [\n\t\t77669,\n\t\t\"highlight/n1ql\"\n\t],\n\t\"./nginx\": [\n\t\t42387,\n\t\t\"highlight/nginx\"\n\t],\n\t\"./nginx.js\": [\n\t\t42387,\n\t\t\"highlight/nginx\"\n\t],\n\t\"./nim\": [\n\t\t35587,\n\t\t\"highlight/nim\"\n\t],\n\t\"./nim.js\": [\n\t\t35587,\n\t\t\"highlight/nim\"\n\t],\n\t\"./nix\": [\n\t\t88170,\n\t\t\"highlight/nix\"\n\t],\n\t\"./nix.js\": [\n\t\t88170,\n\t\t\"highlight/nix\"\n\t],\n\t\"./node-repl\": [\n\t\t93668,\n\t\t\"highlight/node-repl\"\n\t],\n\t\"./node-repl.js\": [\n\t\t93668,\n\t\t\"highlight/node-repl\"\n\t],\n\t\"./nsis\": [\n\t\t29269,\n\t\t\"highlight/nsis\"\n\t],\n\t\"./nsis.js\": [\n\t\t29269,\n\t\t\"highlight/nsis\"\n\t],\n\t\"./objectivec\": [\n\t\t61896,\n\t\t\"highlight/objectivec\"\n\t],\n\t\"./objectivec.js\": [\n\t\t61896,\n\t\t\"highlight/objectivec\"\n\t],\n\t\"./ocaml\": [\n\t\t78550,\n\t\t\"highlight/ocaml\"\n\t],\n\t\"./ocaml.js\": [\n\t\t78550,\n\t\t\"highlight/ocaml\"\n\t],\n\t\"./openscad\": [\n\t\t41078,\n\t\t\"highlight/openscad\"\n\t],\n\t\"./openscad.js\": [\n\t\t41078,\n\t\t\"highlight/openscad\"\n\t],\n\t\"./oxygene\": [\n\t\t89015,\n\t\t\"highlight/oxygene\"\n\t],\n\t\"./oxygene.js\": [\n\t\t89015,\n\t\t\"highlight/oxygene\"\n\t],\n\t\"./parser3\": [\n\t\t6247,\n\t\t\"highlight/parser3\"\n\t],\n\t\"./parser3.js\": [\n\t\t6247,\n\t\t\"highlight/parser3\"\n\t],\n\t\"./perl\": [\n\t\t78529,\n\t\t\"highlight/perl\"\n\t],\n\t\"./perl.js\": [\n\t\t78529,\n\t\t\"highlight/perl\"\n\t],\n\t\"./pf\": [\n\t\t15994,\n\t\t\"highlight/pf\"\n\t],\n\t\"./pf.js\": [\n\t\t15994,\n\t\t\"highlight/pf\"\n\t],\n\t\"./pgsql\": [\n\t\t86509,\n\t\t\"highlight/pgsql\"\n\t],\n\t\"./pgsql.js\": [\n\t\t86509,\n\t\t\"highlight/pgsql\"\n\t],\n\t\"./php\": [\n\t\t73306,\n\t\t\"highlight/php\"\n\t],\n\t\"./php-template\": [\n\t\t75377,\n\t\t\"highlight/php-template\"\n\t],\n\t\"./php-template.js\": [\n\t\t75377,\n\t\t\"highlight/php-template\"\n\t],\n\t\"./php.js\": [\n\t\t73306,\n\t\t\"highlight/php\"\n\t],\n\t\"./plaintext\": [\n\t\t76572,\n\t\t\"highlight/plaintext\"\n\t],\n\t\"./plaintext.js\": [\n\t\t76572,\n\t\t\"highlight/plaintext\"\n\t],\n\t\"./pony\": [\n\t\t28422,\n\t\t\"highlight/pony\"\n\t],\n\t\"./pony.js\": [\n\t\t28422,\n\t\t\"highlight/pony\"\n\t],\n\t\"./powershell\": [\n\t\t66336,\n\t\t\"highlight/powershell\"\n\t],\n\t\"./powershell.js\": [\n\t\t66336,\n\t\t\"highlight/powershell\"\n\t],\n\t\"./processing\": [\n\t\t44148,\n\t\t\"highlight/processing\"\n\t],\n\t\"./processing.js\": [\n\t\t44148,\n\t\t\"highlight/processing\"\n\t],\n\t\"./profile\": [\n\t\t9129,\n\t\t\"highlight/profile\"\n\t],\n\t\"./profile.js\": [\n\t\t9129,\n\t\t\"highlight/profile\"\n\t],\n\t\"./prolog\": [\n\t\t58074,\n\t\t\"highlight/prolog\"\n\t],\n\t\"./prolog.js\": [\n\t\t58074,\n\t\t\"highlight/prolog\"\n\t],\n\t\"./properties\": [\n\t\t81245,\n\t\t\"highlight/properties\"\n\t],\n\t\"./properties.js\": [\n\t\t81245,\n\t\t\"highlight/properties\"\n\t],\n\t\"./protobuf\": [\n\t\t3306,\n\t\t\"highlight/protobuf\"\n\t],\n\t\"./protobuf.js\": [\n\t\t3306,\n\t\t\"highlight/protobuf\"\n\t],\n\t\"./puppet\": [\n\t\t73736,\n\t\t\"highlight/puppet\"\n\t],\n\t\"./puppet.js\": [\n\t\t73736,\n\t\t\"highlight/puppet\"\n\t],\n\t\"./purebasic\": [\n\t\t34055,\n\t\t\"highlight/purebasic\"\n\t],\n\t\"./purebasic.js\": [\n\t\t34055,\n\t\t\"highlight/purebasic\"\n\t],\n\t\"./python\": [\n\t\t30308,\n\t\t\"highlight/python\"\n\t],\n\t\"./python-repl\": [\n\t\t93725,\n\t\t\"highlight/python-repl\"\n\t],\n\t\"./python-repl.js\": [\n\t\t93725,\n\t\t\"highlight/python-repl\"\n\t],\n\t\"./python.js\": [\n\t\t30308,\n\t\t\"highlight/python\"\n\t],\n\t\"./q\": [\n\t\t76891,\n\t\t\"highlight/q\"\n\t],\n\t\"./q.js\": [\n\t\t76891,\n\t\t\"highlight/q\"\n\t],\n\t\"./qml\": [\n\t\t63259,\n\t\t\"highlight/qml\"\n\t],\n\t\"./qml.js\": [\n\t\t63259,\n\t\t\"highlight/qml\"\n\t],\n\t\"./r\": [\n\t\t30806,\n\t\t\"highlight/r\"\n\t],\n\t\"./r.js\": [\n\t\t30806,\n\t\t\"highlight/r\"\n\t],\n\t\"./reasonml\": [\n\t\t82050,\n\t\t\"highlight/reasonml\"\n\t],\n\t\"./reasonml.js\": [\n\t\t82050,\n\t\t\"highlight/reasonml\"\n\t],\n\t\"./rib\": [\n\t\t44613,\n\t\t\"highlight/rib\"\n\t],\n\t\"./rib.js\": [\n\t\t44613,\n\t\t\"highlight/rib\"\n\t],\n\t\"./roboconf\": [\n\t\t33176,\n\t\t\"highlight/roboconf\"\n\t],\n\t\"./roboconf.js\": [\n\t\t33176,\n\t\t\"highlight/roboconf\"\n\t],\n\t\"./routeros\": [\n\t\t25096,\n\t\t\"highlight/routeros\"\n\t],\n\t\"./routeros.js\": [\n\t\t25096,\n\t\t\"highlight/routeros\"\n\t],\n\t\"./rsl\": [\n\t\t61025,\n\t\t\"highlight/rsl\"\n\t],\n\t\"./rsl.js\": [\n\t\t61025,\n\t\t\"highlight/rsl\"\n\t],\n\t\"./ruby\": [\n\t\t58473,\n\t\t\"highlight/ruby\"\n\t],\n\t\"./ruby.js\": [\n\t\t58473,\n\t\t\"highlight/ruby\"\n\t],\n\t\"./ruleslanguage\": [\n\t\t65506,\n\t\t\"highlight/ruleslanguage\"\n\t],\n\t\"./ruleslanguage.js\": [\n\t\t65506,\n\t\t\"highlight/ruleslanguage\"\n\t],\n\t\"./rust\": [\n\t\t11374,\n\t\t\"highlight/rust\"\n\t],\n\t\"./rust.js\": [\n\t\t11374,\n\t\t\"highlight/rust\"\n\t],\n\t\"./sas\": [\n\t\t35457,\n\t\t\"highlight/sas\"\n\t],\n\t\"./sas.js\": [\n\t\t35457,\n\t\t\"highlight/sas\"\n\t],\n\t\"./scala\": [\n\t\t5818,\n\t\t\"highlight/scala\"\n\t],\n\t\"./scala.js\": [\n\t\t5818,\n\t\t\"highlight/scala\"\n\t],\n\t\"./scheme\": [\n\t\t10336,\n\t\t\"highlight/scheme\"\n\t],\n\t\"./scheme.js\": [\n\t\t10336,\n\t\t\"highlight/scheme\"\n\t],\n\t\"./scilab\": [\n\t\t47691,\n\t\t\"highlight/scilab\"\n\t],\n\t\"./scilab.js\": [\n\t\t47691,\n\t\t\"highlight/scilab\"\n\t],\n\t\"./scss\": [\n\t\t36632,\n\t\t\"highlight/scss\"\n\t],\n\t\"./scss.js\": [\n\t\t36632,\n\t\t\"highlight/scss\"\n\t],\n\t\"./shell\": [\n\t\t19514,\n\t\t\"highlight/shell\"\n\t],\n\t\"./shell.js\": [\n\t\t19514,\n\t\t\"highlight/shell\"\n\t],\n\t\"./smali\": [\n\t\t60522,\n\t\t\"highlight/smali\"\n\t],\n\t\"./smali.js\": [\n\t\t60522,\n\t\t\"highlight/smali\"\n\t],\n\t\"./smalltalk\": [\n\t\t75030,\n\t\t\"highlight/smalltalk\"\n\t],\n\t\"./smalltalk.js\": [\n\t\t75030,\n\t\t\"highlight/smalltalk\"\n\t],\n\t\"./sml\": [\n\t\t79664,\n\t\t\"highlight/sml\"\n\t],\n\t\"./sml.js\": [\n\t\t79664,\n\t\t\"highlight/sml\"\n\t],\n\t\"./sqf\": [\n\t\t85168,\n\t\t\"highlight/sqf\"\n\t],\n\t\"./sqf.js\": [\n\t\t85168,\n\t\t\"highlight/sqf\"\n\t],\n\t\"./sql\": [\n\t\t97181,\n\t\t\"highlight/sql\"\n\t],\n\t\"./sql.js\": [\n\t\t97181,\n\t\t\"highlight/sql\"\n\t],\n\t\"./sql_more\": [\n\t\t83224,\n\t\t\"highlight/sql_more\"\n\t],\n\t\"./sql_more.js\": [\n\t\t83224,\n\t\t\"highlight/sql_more\"\n\t],\n\t\"./stan\": [\n\t\t53413,\n\t\t\"highlight/stan\"\n\t],\n\t\"./stan.js\": [\n\t\t53413,\n\t\t\"highlight/stan\"\n\t],\n\t\"./stata\": [\n\t\t92417,\n\t\t\"highlight/stata\"\n\t],\n\t\"./stata.js\": [\n\t\t92417,\n\t\t\"highlight/stata\"\n\t],\n\t\"./step21\": [\n\t\t52706,\n\t\t\"highlight/step21\"\n\t],\n\t\"./step21.js\": [\n\t\t52706,\n\t\t\"highlight/step21\"\n\t],\n\t\"./stylus\": [\n\t\t82054,\n\t\t\"highlight/stylus\"\n\t],\n\t\"./stylus.js\": [\n\t\t82054,\n\t\t\"highlight/stylus\"\n\t],\n\t\"./subunit\": [\n\t\t36886,\n\t\t\"highlight/subunit\"\n\t],\n\t\"./subunit.js\": [\n\t\t36886,\n\t\t\"highlight/subunit\"\n\t],\n\t\"./swift\": [\n\t\t26306,\n\t\t\"highlight/swift\"\n\t],\n\t\"./swift.js\": [\n\t\t26306,\n\t\t\"highlight/swift\"\n\t],\n\t\"./taggerscript\": [\n\t\t54858,\n\t\t\"highlight/taggerscript\"\n\t],\n\t\"./taggerscript.js\": [\n\t\t54858,\n\t\t\"highlight/taggerscript\"\n\t],\n\t\"./tap\": [\n\t\t49113,\n\t\t\"highlight/tap\"\n\t],\n\t\"./tap.js\": [\n\t\t49113,\n\t\t\"highlight/tap\"\n\t],\n\t\"./tcl\": [\n\t\t74562,\n\t\t\"highlight/tcl\"\n\t],\n\t\"./tcl.js\": [\n\t\t74562,\n\t\t\"highlight/tcl\"\n\t],\n\t\"./thrift\": [\n\t\t55063,\n\t\t\"highlight/thrift\"\n\t],\n\t\"./thrift.js\": [\n\t\t55063,\n\t\t\"highlight/thrift\"\n\t],\n\t\"./tp\": [\n\t\t27092,\n\t\t\"highlight/tp\"\n\t],\n\t\"./tp.js\": [\n\t\t27092,\n\t\t\"highlight/tp\"\n\t],\n\t\"./twig\": [\n\t\t35488,\n\t\t\"highlight/twig\"\n\t],\n\t\"./twig.js\": [\n\t\t35488,\n\t\t\"highlight/twig\"\n\t],\n\t\"./typescript\": [\n\t\t91533,\n\t\t\"highlight/typescript\"\n\t],\n\t\"./typescript.js\": [\n\t\t91533,\n\t\t\"highlight/typescript\"\n\t],\n\t\"./vala\": [\n\t\t65431,\n\t\t\"highlight/vala\"\n\t],\n\t\"./vala.js\": [\n\t\t65431,\n\t\t\"highlight/vala\"\n\t],\n\t\"./vbnet\": [\n\t\t86479,\n\t\t\"highlight/vbnet\"\n\t],\n\t\"./vbnet.js\": [\n\t\t86479,\n\t\t\"highlight/vbnet\"\n\t],\n\t\"./vbscript\": [\n\t\t80824,\n\t\t\"highlight/vbscript\"\n\t],\n\t\"./vbscript-html\": [\n\t\t3316,\n\t\t\"highlight/vbscript-html\"\n\t],\n\t\"./vbscript-html.js\": [\n\t\t3316,\n\t\t\"highlight/vbscript-html\"\n\t],\n\t\"./vbscript.js\": [\n\t\t80824,\n\t\t\"highlight/vbscript\"\n\t],\n\t\"./verilog\": [\n\t\t49115,\n\t\t\"highlight/verilog\"\n\t],\n\t\"./verilog.js\": [\n\t\t49115,\n\t\t\"highlight/verilog\"\n\t],\n\t\"./vhdl\": [\n\t\t53260,\n\t\t\"highlight/vhdl\"\n\t],\n\t\"./vhdl.js\": [\n\t\t53260,\n\t\t\"highlight/vhdl\"\n\t],\n\t\"./vim\": [\n\t\t5298,\n\t\t\"highlight/vim\"\n\t],\n\t\"./vim.js\": [\n\t\t5298,\n\t\t\"highlight/vim\"\n\t],\n\t\"./x86asm\": [\n\t\t43377,\n\t\t\"highlight/x86asm\"\n\t],\n\t\"./x86asm.js\": [\n\t\t43377,\n\t\t\"highlight/x86asm\"\n\t],\n\t\"./xl\": [\n\t\t731,\n\t\t\"highlight/xl\"\n\t],\n\t\"./xl.js\": [\n\t\t731,\n\t\t\"highlight/xl\"\n\t],\n\t\"./xml\": [\n\t\t42157,\n\t\t\"highlight/xml\"\n\t],\n\t\"./xml.js\": [\n\t\t42157,\n\t\t\"highlight/xml\"\n\t],\n\t\"./xquery\": [\n\t\t46629,\n\t\t\"highlight/xquery\"\n\t],\n\t\"./xquery.js\": [\n\t\t46629,\n\t\t\"highlight/xquery\"\n\t],\n\t\"./yaml\": [\n\t\t54587,\n\t\t\"highlight/yaml\"\n\t],\n\t\"./yaml.js\": [\n\t\t54587,\n\t\t\"highlight/yaml\"\n\t],\n\t\"./zephir\": [\n\t\t58737,\n\t\t\"highlight/zephir\"\n\t],\n\t\"./zephir.js\": [\n\t\t58737,\n\t\t\"highlight/zephir\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__.t(id, 7 | 16);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 63497;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./af\": 42786,\n\t\"./af.js\": 42786,\n\t\"./ar\": 30867,\n\t\"./ar-dz\": 14130,\n\t\"./ar-dz.js\": 14130,\n\t\"./ar-kw\": 96135,\n\t\"./ar-kw.js\": 96135,\n\t\"./ar-ly\": 56440,\n\t\"./ar-ly.js\": 56440,\n\t\"./ar-ma\": 47702,\n\t\"./ar-ma.js\": 47702,\n\t\"./ar-sa\": 16040,\n\t\"./ar-sa.js\": 16040,\n\t\"./ar-tn\": 37100,\n\t\"./ar-tn.js\": 37100,\n\t\"./ar.js\": 30867,\n\t\"./az\": 31083,\n\t\"./az.js\": 31083,\n\t\"./be\": 9808,\n\t\"./be.js\": 9808,\n\t\"./bg\": 68338,\n\t\"./bg.js\": 68338,\n\t\"./bm\": 67438,\n\t\"./bm.js\": 67438,\n\t\"./bn\": 8905,\n\t\"./bn.js\": 8905,\n\t\"./bo\": 11560,\n\t\"./bo.js\": 11560,\n\t\"./br\": 1278,\n\t\"./br.js\": 1278,\n\t\"./bs\": 80622,\n\t\"./bs.js\": 80622,\n\t\"./ca\": 2468,\n\t\"./ca.js\": 2468,\n\t\"./cs\": 5822,\n\t\"./cs.js\": 5822,\n\t\"./cv\": 50877,\n\t\"./cv.js\": 50877,\n\t\"./cy\": 47373,\n\t\"./cy.js\": 47373,\n\t\"./da\": 24780,\n\t\"./da.js\": 24780,\n\t\"./de\": 59740,\n\t\"./de-at\": 60217,\n\t\"./de-at.js\": 60217,\n\t\"./de-ch\": 60894,\n\t\"./de-ch.js\": 60894,\n\t\"./de.js\": 59740,\n\t\"./dv\": 5300,\n\t\"./dv.js\": 5300,\n\t\"./el\": 50837,\n\t\"./el.js\": 50837,\n\t\"./en-SG\": 85383,\n\t\"./en-SG.js\": 85383,\n\t\"./en-au\": 78348,\n\t\"./en-au.js\": 78348,\n\t\"./en-ca\": 77925,\n\t\"./en-ca.js\": 77925,\n\t\"./en-gb\": 22243,\n\t\"./en-gb.js\": 22243,\n\t\"./en-ie\": 46436,\n\t\"./en-ie.js\": 46436,\n\t\"./en-il\": 47207,\n\t\"./en-il.js\": 47207,\n\t\"./en-nz\": 76319,\n\t\"./en-nz.js\": 76319,\n\t\"./eo\": 92915,\n\t\"./eo.js\": 92915,\n\t\"./es\": 55655,\n\t\"./es-do\": 55251,\n\t\"./es-do.js\": 55251,\n\t\"./es-us\": 71146,\n\t\"./es-us.js\": 71146,\n\t\"./es.js\": 55655,\n\t\"./et\": 5603,\n\t\"./et.js\": 5603,\n\t\"./eu\": 77763,\n\t\"./eu.js\": 77763,\n\t\"./fa\": 76959,\n\t\"./fa.js\": 76959,\n\t\"./fi\": 11897,\n\t\"./fi.js\": 11897,\n\t\"./fo\": 94694,\n\t\"./fo.js\": 94694,\n\t\"./fr\": 94470,\n\t\"./fr-ca\": 63049,\n\t\"./fr-ca.js\": 63049,\n\t\"./fr-ch\": 52330,\n\t\"./fr-ch.js\": 52330,\n\t\"./fr.js\": 94470,\n\t\"./fy\": 5044,\n\t\"./fy.js\": 5044,\n\t\"./ga\": 29295,\n\t\"./ga.js\": 29295,\n\t\"./gd\": 2101,\n\t\"./gd.js\": 2101,\n\t\"./gl\": 38794,\n\t\"./gl.js\": 38794,\n\t\"./gom-latn\": 23168,\n\t\"./gom-latn.js\": 23168,\n\t\"./gu\": 95349,\n\t\"./gu.js\": 95349,\n\t\"./he\": 24206,\n\t\"./he.js\": 24206,\n\t\"./hi\": 30094,\n\t\"./hi.js\": 30094,\n\t\"./hr\": 30316,\n\t\"./hr.js\": 30316,\n\t\"./hu\": 22138,\n\t\"./hu.js\": 22138,\n\t\"./hy-am\": 11423,\n\t\"./hy-am.js\": 11423,\n\t\"./id\": 29218,\n\t\"./id.js\": 29218,\n\t\"./is\": 90135,\n\t\"./is.js\": 90135,\n\t\"./it\": 90626,\n\t\"./it-ch\": 10150,\n\t\"./it-ch.js\": 10150,\n\t\"./it.js\": 90626,\n\t\"./ja\": 39183,\n\t\"./ja.js\": 39183,\n\t\"./jv\": 24286,\n\t\"./jv.js\": 24286,\n\t\"./ka\": 12105,\n\t\"./ka.js\": 12105,\n\t\"./kk\": 47772,\n\t\"./kk.js\": 47772,\n\t\"./km\": 18758,\n\t\"./km.js\": 18758,\n\t\"./kn\": 79282,\n\t\"./kn.js\": 79282,\n\t\"./ko\": 33730,\n\t\"./ko.js\": 33730,\n\t\"./ku\": 1408,\n\t\"./ku.js\": 1408,\n\t\"./ky\": 33291,\n\t\"./ky.js\": 33291,\n\t\"./lb\": 36841,\n\t\"./lb.js\": 36841,\n\t\"./lo\": 55466,\n\t\"./lo.js\": 55466,\n\t\"./lt\": 57010,\n\t\"./lt.js\": 57010,\n\t\"./lv\": 37595,\n\t\"./lv.js\": 37595,\n\t\"./me\": 39861,\n\t\"./me.js\": 39861,\n\t\"./mi\": 35493,\n\t\"./mi.js\": 35493,\n\t\"./mk\": 95966,\n\t\"./mk.js\": 95966,\n\t\"./ml\": 87341,\n\t\"./ml.js\": 87341,\n\t\"./mn\": 5115,\n\t\"./mn.js\": 5115,\n\t\"./mr\": 10370,\n\t\"./mr.js\": 10370,\n\t\"./ms\": 9847,\n\t\"./ms-my\": 41237,\n\t\"./ms-my.js\": 41237,\n\t\"./ms.js\": 9847,\n\t\"./mt\": 72126,\n\t\"./mt.js\": 72126,\n\t\"./my\": 56165,\n\t\"./my.js\": 56165,\n\t\"./nb\": 64924,\n\t\"./nb.js\": 64924,\n\t\"./ne\": 16744,\n\t\"./ne.js\": 16744,\n\t\"./nl\": 93901,\n\t\"./nl-be\": 59814,\n\t\"./nl-be.js\": 59814,\n\t\"./nl.js\": 93901,\n\t\"./nn\": 83877,\n\t\"./nn.js\": 83877,\n\t\"./pa-in\": 15858,\n\t\"./pa-in.js\": 15858,\n\t\"./pl\": 64495,\n\t\"./pl.js\": 64495,\n\t\"./pt\": 89520,\n\t\"./pt-br\": 57971,\n\t\"./pt-br.js\": 57971,\n\t\"./pt.js\": 89520,\n\t\"./ro\": 96459,\n\t\"./ro.js\": 96459,\n\t\"./ru\": 21793,\n\t\"./ru.js\": 21793,\n\t\"./sd\": 40950,\n\t\"./sd.js\": 40950,\n\t\"./se\": 10490,\n\t\"./se.js\": 10490,\n\t\"./si\": 90124,\n\t\"./si.js\": 90124,\n\t\"./sk\": 64249,\n\t\"./sk.js\": 64249,\n\t\"./sl\": 14985,\n\t\"./sl.js\": 14985,\n\t\"./sq\": 51104,\n\t\"./sq.js\": 51104,\n\t\"./sr\": 49131,\n\t\"./sr-cyrl\": 79915,\n\t\"./sr-cyrl.js\": 79915,\n\t\"./sr.js\": 49131,\n\t\"./ss\": 85893,\n\t\"./ss.js\": 85893,\n\t\"./sv\": 98760,\n\t\"./sv.js\": 98760,\n\t\"./sw\": 91172,\n\t\"./sw.js\": 91172,\n\t\"./ta\": 27333,\n\t\"./ta.js\": 27333,\n\t\"./te\": 23110,\n\t\"./te.js\": 23110,\n\t\"./tet\": 52095,\n\t\"./tet.js\": 52095,\n\t\"./tg\": 27321,\n\t\"./tg.js\": 27321,\n\t\"./th\": 9041,\n\t\"./th.js\": 9041,\n\t\"./tl-ph\": 75768,\n\t\"./tl-ph.js\": 75768,\n\t\"./tlh\": 89444,\n\t\"./tlh.js\": 89444,\n\t\"./tr\": 72397,\n\t\"./tr.js\": 72397,\n\t\"./tzl\": 28254,\n\t\"./tzl.js\": 28254,\n\t\"./tzm\": 51106,\n\t\"./tzm-latn\": 30699,\n\t\"./tzm-latn.js\": 30699,\n\t\"./tzm.js\": 51106,\n\t\"./ug-cn\": 9288,\n\t\"./ug-cn.js\": 9288,\n\t\"./uk\": 67691,\n\t\"./uk.js\": 67691,\n\t\"./ur\": 13795,\n\t\"./ur.js\": 13795,\n\t\"./uz\": 6791,\n\t\"./uz-latn\": 60588,\n\t\"./uz-latn.js\": 60588,\n\t\"./uz.js\": 6791,\n\t\"./vi\": 65666,\n\t\"./vi.js\": 65666,\n\t\"./x-pseudo\": 14378,\n\t\"./x-pseudo.js\": 14378,\n\t\"./yo\": 75805,\n\t\"./yo.js\": 75805,\n\t\"./zh-cn\": 83839,\n\t\"./zh-cn.js\": 83839,\n\t\"./zh-hk\": 55726,\n\t\"./zh-hk.js\": 55726,\n\t\"./zh-tw\": 74152,\n\t\"./zh-tw.js\": 74152\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div id=\"resolve-conflicts\" class=\"collision-resolve-dialog\">\n\t\t<button @click=\"$emit('resolve-use-this-version')\">\n\t\t\t{{ t('text', 'Use current version') }}\n\t\t</button>\n\t\t<button @click=\"$emit('resolve-use-server-version')\">\n\t\t\t{{ t('text', 'Use the saved version') }}\n\t\t</button>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'CollisionResolveDialog',\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t#resolve-conflicts {\n\t\tdisplay: flex;\n\t\tposition: fixed;\n\t\tz-index: 10000;\n\t\tbottom: 0;\n\t\tmax-width: 900px;\n\t\twidth: 100vw;\n\t\tmargin: auto;\n\t\tpadding: 20px 0;\n\n\t\tbutton {\n\t\t\tmargin: auto;\n\t\t\tbox-shadow: 0 0 10px var(--color-box-shadow);\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollisionResolveDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollisionResolveDialog.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollisionResolveDialog.vue?vue&type=style&index=0&id=4a5d4c0f&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollisionResolveDialog.vue?vue&type=style&index=0&id=4a5d4c0f&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CollisionResolveDialog.vue?vue&type=template&id=4a5d4c0f&scoped=true&\"\nimport script from \"./CollisionResolveDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./CollisionResolveDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CollisionResolveDialog.vue?vue&type=style&index=0&id=4a5d4c0f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a5d4c0f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"collision-resolve-dialog\",attrs:{\"id\":\"resolve-conflicts\"}},[_c('button',{on:{\"click\":function($event){return _vm.$emit('resolve-use-this-version')}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('text', 'Use current version'))+\"\\n\\t\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.$emit('resolve-use-server-version')}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('text', 'Use the saved version'))+\"\\n\\t\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editor-container\"}},[(_vm.displayed)?_c('div',{staticClass:\"document-status\"},[(_vm.idle)?_c('p',{staticClass:\"msg\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('text', 'Document idle for {timeout} minutes, click to continue editing', { timeout: _vm.IDLE_TIMEOUT }))+\" \"),_c('a',{staticClass:\"button primary\",on:{\"click\":_vm.reconnect}},[_vm._v(_vm._s(_vm.t('text', 'Reconnect')))])]):(_vm.hasSyncCollission)?_c('p',{staticClass:\"msg icon-error\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('text', 'The document has been changed outside of the editor. The changes cannot be applied.'))+\"\\n\\t\\t\")]):(_vm.hasConnectionIssue)?_c('p',{staticClass:\"msg\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('text', 'File could not be loaded. Please check your internet connection.'))+\" \"),_c('a',{staticClass:\"button primary\",on:{\"click\":_vm.reconnect}},[_vm._v(_vm._s(_vm.t('text', 'Reconnect')))])]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.displayed)?_c('div',{class:{'has-conflicts': _vm.hasSyncCollission, 'icon-loading': !_vm.initialLoading && !_vm.hasConnectionIssue, 'richEditor': _vm.isRichEditor, 'show-color-annotations': _vm.showAuthorAnnotations},attrs:{\"id\":\"editor-wrapper\"}},[_c('div',{attrs:{\"id\":\"editor\"}},[(_vm.tiptap && !_vm.syncError && !_vm.readOnly)?_c('MenuBar',{ref:\"menubar\",attrs:{\"editor\":_vm.tiptap,\"sync-service\":_vm.syncService,\"file-path\":_vm.relativePath,\"file-id\":_vm.fileId,\"is-rich-editor\":_vm.isRichEditor,\"is-public\":_vm.isPublic,\"autohide\":_vm.autohide},on:{\"show-help\":_vm.showHelp}},[_c('div',{attrs:{\"id\":\"editor-session-list\"}},[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.lastSavedStatusTooltip),expression:\"lastSavedStatusTooltip\"}],staticClass:\"save-status\",class:_vm.lastSavedStatusClass},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.lastSavedStatus)+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('SessionList',{attrs:{\"sessions\":_vm.filteredSessions}},[(_vm.isPublic && _vm.currentSession.guestName)?_c('GuestNameDialog',{attrs:{\"sync-service\":_vm.syncService}}):_vm._e()],1)],1),_vm._v(\" \"),_vm._t(\"header\")],2):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"contentWrapper\",staticClass:\"content-wrapper\"},[(_vm.tiptap && !_vm.readOnly && _vm.isRichEditor)?_c('MenuBubble',{attrs:{\"editor\":_vm.tiptap,\"content-wrapper\":_vm.contentWrapper,\"file-path\":_vm.relativePath}}):_vm._e(),_vm._v(\" \"),_c('EditorContent',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.initialLoading),expression:\"initialLoading\"}],staticClass:\"editor__content\",attrs:{\"editor\":_vm.tiptap}})],1)],1),_vm._v(\" \"),(_vm.hasSyncCollission)?_c('ReadOnlyEditor',{attrs:{\"content\":_vm.syncError.data.outsideChange,\"is-rich-editor\":_vm.isRichEditor}}):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.hasSyncCollission && !_vm.readOnly)?_c('CollisionResolveDialog',{on:{\"resolve-use-this-version\":_vm.resolveUseThisVersion,\"resolve-use-server-version\":_vm.resolveUseServerVersion}}):_vm._e(),_vm._v(\" \"),(_vm.displayHelp)?_c('HelpModal',{on:{\"close\":_vm.hideHelp}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport axios from '@nextcloud/axios'\nimport { endpointUrl } from '../helpers'\nimport { SyncService, ERROR_TYPE } from './SyncService'\nimport { sendableSteps } from 'prosemirror-collab'\n\n/**\n * Minimum inverval to refetch the document changes\n *\n * @type {number} time in ms\n */\nconst FETCH_INTERVAL = 300\n\n/**\n * Maximum interval between refetches of document state if multiple users have joined\n *\n * @type {number} time in ms\n */\nconst FETCH_INTERVAL_MAX = 5000\n\n/**\n * Interval to check for changes when there is only one user joined\n *\n * @type {number} time in ms\n */\nconst FETCH_INTERVAL_SINGLE_EDITOR = 5000\n\n/**\n * Interval to fetch for changes when a browser window is considered invisible by the\n * page visibility API https://developer.mozilla.org/de/docs/Web/API/Page_Visibility_API\n *\n * @type {number} time in ms\n */\nconst FETCH_INTERVAL_INVISIBLE = 60000\n\nconst MIN_PUSH_RETRY = 500\nconst MAX_PUSH_RETRY = 10000\n\n/* Timeout after that a PUSH_FAILURE error is emitted */\nconst WARNING_PUSH_RETRY = 5000\n\n/* Maximum number of retries for fetching before emitting a connection error */\nconst MAX_RETRY_FETCH_COUNT = 5\n\n/**\n * Timeout for sessions to be marked as disconnected\n * Make sure that this is higher than any FETCH_INTERVAL_ values\n */\nconst COLLABORATOR_DISCONNECT_TIME = FETCH_INTERVAL_INVISIBLE * 1.5\n\nclass PollingBackend {\n\n\tconstructor(authority) {\n\t\t/** @type {SyncService} */\n\t\tthis._authority = authority\n\t\tthis.fetchInterval = FETCH_INTERVAL\n\t\tthis.retryTime = MIN_PUSH_RETRY\n\t\tthis.lock = false\n\t\tthis.fetchRetryCounter = 0\n\t}\n\n\tconnect() {\n\t\tthis.initialLoadingFinished = false\n\t\tthis.fetcher = setInterval(this._fetchSteps.bind(this), 50)\n\t\tdocument.addEventListener('visibilitychange', this.visibilitychange.bind(this))\n\t}\n\n\t_isPublic() {\n\t\treturn !!this._authority.options.shareToken\n\t}\n\n\tforceSave() {\n\t\tthis._forcedSave = true\n\t\tthis.fetchSteps()\n\t}\n\n\tsave() {\n\t\tthis._manualSave = true\n\t\tthis.fetchSteps()\n\t}\n\n\tfetchSteps() {\n\t\tthis._fetchSteps()\n\t}\n\n\t/**\n\t * This method is only called though the timer\n\t */\n\t_fetchSteps() {\n\t\tif (this.lock || !this.fetcher) {\n\t\t\treturn\n\t\t}\n\t\tthis.lock = true\n\t\tlet autosaveContent\n\t\tif (this._forcedSave || this._manualSave\n\t\t\t|| (!sendableSteps(this._authority.state)\n\t\t\t&& (this._authority._getVersion() !== this._authority.document.lastSavedVersion))\n\t\t) {\n\t\t\tautosaveContent = this._authority._getContent()\n\t\t}\n\t\taxios.post(endpointUrl('session/sync', this._isPublic()), {\n\t\t\tdocumentId: this._authority.document.id,\n\t\t\tsessionId: this._authority.session.id,\n\t\t\tsessionToken: this._authority.session.token,\n\t\t\tversion: this._authority._getVersion(),\n\t\t\tautosaveContent,\n\t\t\tforce: !!this._forcedSave,\n\t\t\tmanualSave: !!this._manualSave,\n\t\t\ttoken: this._authority.options.shareToken,\n\t\t\tfilePath: this._authority.options.filePath,\n\t\t}).then((response) => {\n\t\t\tthis.fetchRetryCounter = 0\n\n\t\t\tif (this._authority.document.lastSavedVersion < response.data.document.lastSavedVersion) {\n\t\t\t\tconsole.debug('Saved document', response.data.document)\n\t\t\t\tthis._authority.emit('save', { document: response.data.document, sessions: response.data.sessions })\n\t\t\t}\n\n\t\t\tthis._authority.emit('change', { document: response.data.document, sessions: response.data.sessions })\n\t\t\tthis._authority.document = response.data.document\n\t\t\tthis._authority.sessions = response.data.sessions\n\n\t\t\tif (response.data.steps.length === 0) {\n\t\t\t\tif (!this.initialLoadingFinished) {\n\t\t\t\t\tthis.initialLoadingFinished = true\n\t\t\t\t}\n\t\t\t\tif (this._authority.checkIdle()) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.lock = false\n\t\t\t\tif (response.data.sessions.filter((session) => session.lastContact > Date.now() / 1000 - COLLABORATOR_DISCONNECT_TIME).length < 2) {\n\t\t\t\t\tthis.maximumRefetchTimer()\n\t\t\t\t} else {\n\t\t\t\t\tthis.increaseRefetchTimer()\n\t\t\t\t}\n\t\t\t\tthis._authority.emit('stateChange', { dirty: false })\n\t\t\t\tthis._authority.emit('stateChange', { initialLoading: true })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis._authority._receiveSteps(response.data)\n\t\t\tthis.lock = false\n\t\t\tthis._forcedSave = false\n\t\t\tif (this.initialLoadingFinished) {\n\t\t\t\tthis.resetRefetchTimer()\n\t\t\t}\n\t\t}).catch((e) => {\n\t\t\tthis.lock = false\n\t\t\tif (!e.response || e.code === 'ECONNABORTED') {\n\t\t\t\tif (this.fetchRetryCounter++ >= MAX_RETRY_FETCH_COUNT) {\n\t\t\t\t\tconsole.error('[PollingBackend:fetchSteps] Network error when fetching steps, emitting CONNECTION_FAILED')\n\t\t\t\t\tthis._authority.emit('error', ERROR_TYPE.CONNECTION_FAILED, { retry: false })\n\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(`[PollingBackend:fetchSteps] Network error when fetching steps, retry ${this.fetchRetryCounter}`)\n\t\t\t\t}\n\t\t\t} else if (e.response.status === 409 && e.response.data.document.currentVersion === this._authority.document.currentVersion) {\n\t\t\t\t// Only emit conflict event if we have synced until the latest version\n\t\t\t\tconsole.error('Conflict during file save, please resolve')\n\t\t\t\tthis._authority.emit('error', ERROR_TYPE.SAVE_COLLISSION, {\n\t\t\t\t\toutsideChange: e.response.data.outsideChange,\n\t\t\t\t})\n\t\t\t} else if (e.response.status === 403) {\n\t\t\t\tthis._authority.emit('error', ERROR_TYPE.SOURCE_NOT_FOUND, {})\n\t\t\t\tthis.disconnect()\n\t\t\t} else if (e.response.status === 404) {\n\t\t\t\tthis._authority.emit('error', ERROR_TYPE.SOURCE_NOT_FOUND, {})\n\t\t\t\tthis.disconnect()\n\t\t\t} else if (e.response.status === 503) {\n\t\t\t\tthis.increaseRefetchTimer()\n\t\t\t\tthis._authority.emit('error', ERROR_TYPE.CONNECTION_FAILED, { retry: false })\n\t\t\t\tconsole.error('Failed to fetch steps due to unavailable service', e)\n\t\t\t} else {\n\t\t\t\tthis.disconnect()\n\t\t\t\tthis._authority.emit('error', ERROR_TYPE.CONNECTION_FAILED, { retry: false })\n\t\t\t\tconsole.error('Failed to fetch steps due to other reason', e)\n\t\t\t}\n\t\t})\n\t\tthis._manualSave = false\n\t\tthis._forcedSave = false\n\t}\n\n\tsendSteps(_sendable) {\n\t\tthis._authority.emit('stateChange', { dirty: true })\n\t\tif (this.lock) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._authority.sendSteps()\n\t\t\t}, 100)\n\t\t\treturn\n\t\t}\n\t\tthis.lock = true\n\t\tconst sendable = (typeof _sendable === 'function') ? _sendable() : _sendable\n\t\tconst steps = sendable.steps\n\t\taxios.post(endpointUrl('session/push', !!this._authority.options.shareToken), {\n\t\t\tdocumentId: this._authority.document.id,\n\t\t\tsessionId: this._authority.session.id,\n\t\t\tsessionToken: this._authority.session.token,\n\t\t\tsteps: steps.map(s => s.toJSON ? s.toJSON() : s) || [],\n\t\t\tversion: sendable.version,\n\t\t\ttoken: this._authority.options.shareToken,\n\t\t\tfilePath: this._authority.options.filePath,\n\t\t}).then((response) => {\n\t\t\tthis.carefulRetryReset()\n\t\t\tthis.lock = false\n\t\t\tthis.fetchSteps()\n\t\t}).catch((e) => {\n\t\t\tconsole.error('failed to apply steps due to collission, retrying')\n\t\t\tthis.lock = false\n\t\t\tif (!e.response || e.code === 'ECONNABORTED') {\n\t\t\t\tthis._authority.emit('error', ERROR_TYPE.CONNECTION_FAILED, {})\n\t\t\t\treturn\n\t\t\t} else if (e.response.status === 403 && e.response.data.document.currentVersion === this._authority.document.currentVersion) {\n\t\t\t\t// Only emit conflict event if we have synced until the latest version\n\t\t\t\tthis._authority.emit('error', ERROR_TYPE.PUSH_FAILURE, {})\n\t\t\t\tOC.Notification.showTemporary('Changes could not be sent yet')\n\t\t\t}\n\n\t\t\tthis.fetchSteps()\n\t\t\tthis.carefulRetry()\n\t\t})\n\t}\n\n\tdisconnect() {\n\t\tclearInterval(this.fetcher)\n\t\tthis.fetcher = 0\n\t\tdocument.removeEventListener('visibilitychange', this.visibilitychange.bind(this))\n\t}\n\n\tresetRefetchTimer() {\n\t\tif (this.fetcher === 0) {\n\t\t\treturn\n\t\t}\n\t\tthis.fetchInterval = FETCH_INTERVAL\n\t\tclearInterval(this.fetcher)\n\t\tthis.fetcher = setInterval(this._fetchSteps.bind(this), this.fetchInterval)\n\n\t}\n\n\tincreaseRefetchTimer() {\n\t\tif (this.fetcher === 0) {\n\t\t\treturn\n\t\t}\n\t\tthis.fetchInterval = Math.min(this.fetchInterval * 2, FETCH_INTERVAL_MAX)\n\t\tclearInterval(this.fetcher)\n\t\tthis.fetcher = setInterval(this._fetchSteps.bind(this), this.fetchInterval)\n\t}\n\n\tmaximumRefetchTimer() {\n\t\tif (this.fetcher === 0) {\n\t\t\treturn\n\t\t}\n\t\tthis.fetchInterval = FETCH_INTERVAL_SINGLE_EDITOR\n\t\tclearInterval(this.fetcher)\n\t\tthis.fetcher = setInterval(this._fetchSteps.bind(this), this.fetchInterval)\n\t}\n\n\tvisibilitychange() {\n\t\tif (this.fetcher === 0) {\n\t\t\treturn\n\t\t}\n\t\tif (document.visibilityState === 'hidden') {\n\t\t\tthis.fetchInterval = FETCH_INTERVAL_INVISIBLE\n\t\t\tclearInterval(this.fetcher)\n\t\t\tthis.fetcher = setInterval(this._fetchSteps.bind(this), this.fetchInterval)\n\t\t} else {\n\t\t\tthis.resetRefetchTimer()\n\t\t}\n\t}\n\n\tcarefulRetry() {\n\t\tconst newRetry = this.retryTime ? Math.min(this.retryTime * 2, MAX_PUSH_RETRY) : MIN_PUSH_RETRY\n\t\tif (newRetry > WARNING_PUSH_RETRY && this.retryTime < WARNING_PUSH_RETRY) {\n\t\t\tOC.Notification.showTemporary('Changes could not be sent yet')\n\t\t\tthis._authority.emit('error', ERROR_TYPE.PUSH_FAILURE, {})\n\t\t}\n\t\tthis.retryTime = newRetry\n\t}\n\n\tcarefulRetryReset() {\n\t\tthis.retryTime = MIN_PUSH_RETRY\n\t}\n\n}\n\nexport default PollingBackend\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport axios from '@nextcloud/axios'\n\nimport PollingBackend from './PollingBackend'\nimport { endpointUrl } from './../helpers'\nimport { getVersion, sendableSteps } from 'prosemirror-collab'\n\nconst defaultOptions = {\n\tshareToken: null,\n\tforceRecreate: false,\n\tserialize: (document) => document,\n}\n\n/**\n * Timeout after which the editor will consider a document without changes being synced as idle\n * The session will be terminated and the document will stay open in read-only mode with a button to reconnect if needed\n *\n * @type {number}\n */\nconst IDLE_TIMEOUT = 30\n\nconst ERROR_TYPE = {\n\t/**\n\t * Failed to save collaborative document due to external change\n\t * collission needs to be resolved manually\n\t */\n\tSAVE_COLLISSION: 0,\n\t/**\n\t * Failed to push changes for MAX_REBASE_RETRY times\n\t */\n\tPUSH_FAILURE: 1,\n\n\tLOAD_ERROR: 2,\n\n\tCONNECTION_FAILED: 3,\n\n\tSOURCE_NOT_FOUND: 4,\n}\n\nclass SyncService {\n\n\tconstructor(options) {\n\t\tthis.eventHandlers = {\n\t\t\t/* Document state */\n\t\t\topened: [],\n\t\t\tloaded: [],\n\t\t\t/* All initial steps fetched */\n\t\t\tfetched: [],\n\t\t\t/* received new steps */\n\t\t\tsync: [],\n\t\t\t/* state changed (dirty) */\n\t\t\tstateChange: [],\n\t\t\t/* error */\n\t\t\terror: [],\n\t\t\t/* Events for session and document meta data */\n\t\t\tchange: [],\n\t\t\t/* Emitted after successful save */\n\t\t\tsave: [],\n\t\t\t/* Emitted once a document becomes idle */\n\t\t\tidle: [],\n\t\t}\n\n\t\tthis.backend = new PollingBackend(this)\n\n\t\tthis.options = Object.assign({}, defaultOptions, options)\n\n\t\tthis.document = null\n\t\tthis.session = null\n\t\tthis.sessions = []\n\n\t\tthis.steps = []\n\t\tthis.stepClientIDs = []\n\n\t\tthis.lastStepPush = Date.now()\n\n\t\treturn this\n\t}\n\n\tasync open({ fileId, filePath, initialSession }) {\n\t\tlet connectionData = null\n\t\tif (typeof initialSession === 'undefined') {\n\t\t\ttry {\n\t\t\t\tconst response = await this._openDocument({ fileId, filePath })\n\t\t\t\tconnectionData = response.data\n\t\t\t} catch (error) {\n\t\t\t\tif (!error.response || error.code === 'ECONNABORTED') {\n\t\t\t\t\tthis.emit('error', ERROR_TYPE.CONNECTION_FAILED, {})\n\t\t\t\t} else {\n\t\t\t\t\tthis.emit('error', ERROR_TYPE.LOAD_ERROR, error.response.status)\n\t\t\t\t}\n\t\t\t\tthrow error\n\t\t\t}\n\t\t} else {\n\t\t\tconnectionData = initialSession\n\t\t}\n\n\t\tthis.document = connectionData.document\n\t\tthis.document.readOnly = connectionData.readOnly\n\t\tthis.session = connectionData.session\n\n\t\tthis.emit('opened', {\n\t\t\tdocument: this.document,\n\t\t\tsession: this.session,\n\t\t})\n\t\treturn this._fetchDocument().then(({ data }) => {\n\t\t\tthis.emit('loaded', {\n\t\t\t\tdocument: this.document,\n\t\t\t\tsession: this.session,\n\t\t\t\tdocumentSource: '' + data,\n\t\t\t})\n\t\t})\n\t}\n\n\tstartSync() {\n\t\tthis.backend.connect()\n\t}\n\n\t_openDocument({ fileId, filePath }) {\n\t\treturn axios.put(endpointUrl('session/create', !!this.options.shareToken), {\n\t\t\tfileId,\n\t\t\tfilePath,\n\t\t\ttoken: this.options.shareToken,\n\t\t\tguestName: this.options.guestName,\n\t\t\tforceRecreate: this.options.forceRecreate,\n\t\t})\n\t}\n\n\t_fetchDocument() {\n\t\treturn axios.post(\n\t\t\tendpointUrl('session/fetch', !!this.options.shareToken), {\n\t\t\t\tdocumentId: this.document.id,\n\t\t\t\tsessionId: this.session.id,\n\t\t\t\tsessionToken: this.session.token,\n\t\t\t\ttoken: this.options.shareToken,\n\t\t\t}, {\n\t\t\t\ttransformResponse: [(data) => data],\n\t\t\t}\n\t\t)\n\t}\n\n\tupdateSession(guestName) {\n\t\tif (!this.isPublic()) {\n\t\t\treturn\n\t\t}\n\t\treturn axios.post(\n\t\t\tendpointUrl('session', !!this.options.shareToken), {\n\t\t\t\tdocumentId: this.document.id,\n\t\t\t\tsessionId: this.session.id,\n\t\t\t\tsessionToken: this.session.token,\n\t\t\t\ttoken: this.options.shareToken,\n\t\t\t\tguestName,\n\t\t\t}\n\t\t).then(({ data }) => {\n\t\t\tthis.session = data\n\t\t\treturn data\n\t\t}).catch((error) => {\n\t\t\tconsole.error('Failed to update the session', error)\n\t\t\treturn Promise.reject(error)\n\t\t})\n\t}\n\n\tsendSteps(_sendable) {\n\t\tconst sendable = _sendable || sendableSteps(this.state)\n\t\tif (!sendable) {\n\t\t\treturn\n\t\t}\n\t\treturn this.backend.sendSteps(sendable)\n\t}\n\n\tstepsSince(version) {\n\t\treturn {\n\t\t\tsteps: this.steps.slice(version),\n\t\t\tclientIDs: this.stepClientIDs.slice(version),\n\t\t}\n\t}\n\n\t_receiveSteps({ steps, document }) {\n\t\tconst newSteps = []\n\t\tfor (let i = 0; i < steps.length; i++) {\n\t\t\tconst singleSteps = steps[i].data\n\t\t\tif (!Array.isArray(singleSteps)) {\n\t\t\t\tconsole.error('Invalid step data, skipping step', steps[i])\n\t\t\t\t// TODO: recover\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tsingleSteps.forEach(step => {\n\t\t\t\tthis.steps.push(step)\n\t\t\t\tnewSteps.push({\n\t\t\t\t\tstep,\n\t\t\t\t\tclientID: steps[i].sessionId,\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\tthis.lastStepPush = Date.now()\n\t\tthis.emit('sync', { steps: newSteps, document })\n\t\tconsole.debug('receivedSteps', 'newVersion', this._getVersion())\n\t}\n\n\tcheckIdle() {\n\t\tconst lastPushMinutesAgo = (Date.now() - this.lastStepPush) / 1000 / 60\n\t\tif (lastPushMinutesAgo > IDLE_TIMEOUT) {\n\t\t\tconsole.debug(`[SyncService] Document is idle for ${this.IDLE_TIMEOUT} minutes, suspending connection`)\n\t\t\tthis.emit('idle')\n\t\t}\n\t}\n\n\t_getVersion() {\n\t\tif (this.state) {\n\t\t\treturn getVersion(this.state)\n\t\t}\n\t\treturn 0\n\t}\n\n\t_getDocument() {\n\t\tif (this.state) {\n\t\t\treturn this.state.doc\n\t\t}\n\t}\n\n\t_getContent() {\n\t\treturn this.options.serialize(this._getDocument())\n\t}\n\n\tsave() {\n\t\tif (this.backend.save) {\n\t\t\tthis.backend.save()\n\t\t}\n\t}\n\n\tforceSave() {\n\t\tif (this.backend.forceSave) {\n\t\t\tthis.backend.forceSave()\n\t\t}\n\t}\n\n\tclose() {\n\t\tlet closed = false\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.on('save', () => {\n\t\t\t\tthis._close().then(() => {\n\t\t\t\t\tclosed = true\n\t\t\t\t\tresolve()\n\t\t\t\t}).catch(() => resolve())\n\t\t\t})\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!closed) {\n\t\t\t\t\tthis._close().then(() => {\n\t\t\t\t\t\tresolve()\n\t\t\t\t\t}).catch(() => resolve())\n\t\t\t\t}\n\t\t\t}, 2000)\n\t\t\tthis.save()\n\t\t})\n\t}\n\n\t_close() {\n\t\tif (this.document === null || this.session === null) {\n\t\t\treturn Promise.resolve()\n\t\t}\n\t\tthis.backend.disconnect()\n\t\treturn axios.post(\n\t\t\tendpointUrl('session/close', !!this.options.shareToken), {\n\t\t\t\tdocumentId: this.document.id,\n\t\t\t\tsessionId: this.session.id,\n\t\t\t\tsessionToken: this.session.token,\n\t\t\t\ttoken: this.options.shareToken,\n\t\t\t})\n\t}\n\n\tuploadImage(image) {\n\t\tconst formData = new FormData()\n\t\tformData.append('image', image)\n\t\tformData.append('documentId', this.document.id)\n\t\tformData.append('sessionId', this.session.id)\n\t\tformData.append('sessionToken', this.session.token)\n\t\tformData.append('shareToken', this.options.shareToken || '')\n\t\tconst url = endpointUrl('image/upload')\n\t\treturn axios.post(url, formData, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'multipart/form-data',\n\t\t\t},\n\t\t})\n\t}\n\n\tinsertImageLink(imageLink) {\n\t\tconst params = {\n\t\t\tdocumentId: this.document.id,\n\t\t\tsessionId: this.session.id,\n\t\t\tsessionToken: this.session.token,\n\t\t\tshareToken: this.options.shareToken || '',\n\t\t\tlink: imageLink,\n\t\t}\n\t\tconst url = endpointUrl('image/link')\n\t\treturn axios.post(url, params)\n\t}\n\n\tinsertImageFile(imagePath) {\n\t\tconst params = {\n\t\t\tdocumentId: this.document.id,\n\t\t\tsessionId: this.session.id,\n\t\t\tsessionToken: this.session.token,\n\t\t\timagePath,\n\t\t}\n\t\tconst url = endpointUrl('image/filepath')\n\t\treturn axios.post(url, params)\n\t}\n\n\ton(event, callback, _this) {\n\t\tthis.eventHandlers[event].push(callback.bind(_this))\n\t\treturn this\n\t}\n\n\temit(event, data, additionalData) {\n\t\tif (typeof this.eventHandlers[event] !== 'undefined') {\n\t\t\tthis.eventHandlers[event].forEach(function(callback) {\n\t\t\t\tcallback(data, additionalData)\n\t\t\t})\n\t\t} else {\n\t\t\tconsole.error('Event not found', event)\n\t\t}\n\t}\n\n\tisPublic() {\n\t\treturn !!this.options.shareToken\n\t}\n\n}\n\nexport default SyncService\nexport { SyncService, ERROR_TYPE, IDLE_TIMEOUT }\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nconst extensionHighlight = {\n\tpy: 'python',\n\tgyp: 'python',\n\twsgi: 'python',\n\thtm: 'html',\n\txhtml: 'html',\n\terl: 'erlang',\n\tjsp: 'java',\n\tpl: 'perl',\n\trss: 'xml',\n\tatom: 'xml',\n\txsl: 'xml',\n\tplist: 'xml',\n\trb: 'ruby',\n\tbuilder: 'ruby',\n\tgemspec: 'ruby',\n\tpodspec: 'ruby',\n\tthor: 'ruby',\n\tdiff: 'patch',\n\ths: 'haskell',\n\ticl: 'haskell',\n\tphp3: 'php',\n\tphp4: 'php',\n\tphp5: 'php',\n\tphp6: 'php',\n\tsh: 'bash',\n\tzsh: 'bash',\n\tst: 'smalltalk',\n\tas: 'actionscript',\n\tapacheconf: 'apache',\n\tosacript: 'applescript',\n\tb: 'brainfuck',\n\tbf: 'brainfuck',\n\tclj: 'clojure',\n\t'cmake.in': 'cmake',\n\tcoffee: 'coffeescript',\n\tcson: 'coffescript',\n\ticed: 'coffescript',\n\tc: 'cpp',\n\th: 'cpp',\n\t'c++': 'cpp',\n\t'h++': 'cpp',\n\thh: 'cpp',\n\tjinja: 'django',\n\tbat: 'dos',\n\tcmd: 'dos',\n\tfs: 'fsharp',\n\thbs: 'handlebars',\n\t'html.hbs': 'handlebars',\n\t'html.handlebars': 'handlebars',\n\tsublime_metrics: 'json',\n\tsublime_session: 'json',\n\t'sublime-keymap': 'json',\n\t'sublime-mousemap': 'json',\n\t'sublime-project': 'json',\n\t'sublime-settings': 'json',\n\t'sublime-workspace': 'json',\n\tmk: 'makefile',\n\tmak: 'makefile',\n\tmd: 'markdown',\n\tmkdown: 'markdown',\n\tmkd: 'markdown',\n\tnginxconf: 'nginx',\n\tm: 'objectivec',\n\tmm: 'objectivec',\n\tml: 'ocaml',\n\trs: 'rust',\n\tsci: 'scilab',\n\tvb: 'vbnet',\n\tvbs: 'vbscript',\n}\n\nexport default extensionHighlight\nexport {\n\textensionHighlight,\n}\n","<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div id=\"editor-container\">\n\t\t<div v-if=\"displayed\" class=\"document-status\">\n\t\t\t<p v-if=\"idle\" class=\"msg\">\n\t\t\t\t{{ t('text', 'Document idle for {timeout} minutes, click to continue editing', { timeout: IDLE_TIMEOUT }) }} <a class=\"button primary\" @click=\"reconnect\">{{ t('text', 'Reconnect') }}</a>\n\t\t\t</p>\n\t\t\t<p v-else-if=\"hasSyncCollission\" class=\"msg icon-error\">\n\t\t\t\t{{ t('text', 'The document has been changed outside of the editor. The changes cannot be applied.') }}\n\t\t\t</p>\n\t\t\t<p v-else-if=\"hasConnectionIssue\" class=\"msg\">\n\t\t\t\t{{ t('text', 'File could not be loaded. Please check your internet connection.') }} <a class=\"button primary\" @click=\"reconnect\">{{ t('text', 'Reconnect') }}</a>\n\t\t\t</p>\n\t\t</div>\n\t\t<div v-if=\"displayed\" id=\"editor-wrapper\" :class=\"{'has-conflicts': hasSyncCollission, 'icon-loading': !initialLoading && !hasConnectionIssue, 'richEditor': isRichEditor, 'show-color-annotations': showAuthorAnnotations}\">\n\t\t\t<div id=\"editor\">\n\t\t\t\t<MenuBar v-if=\"tiptap && !syncError && !readOnly\"\n\t\t\t\t\tref=\"menubar\"\n\t\t\t\t\t:editor=\"tiptap\"\n\t\t\t\t\t:sync-service=\"syncService\"\n\t\t\t\t\t:file-path=\"relativePath\"\n\t\t\t\t\t:file-id=\"fileId\"\n\t\t\t\t\t:is-rich-editor=\"isRichEditor\"\n\t\t\t\t\t:is-public=\"isPublic\"\n\t\t\t\t\t:autohide=\"autohide\"\n\t\t\t\t\t@show-help=\"showHelp\">\n\t\t\t\t\t<div id=\"editor-session-list\">\n\t\t\t\t\t\t<div v-tooltip=\"lastSavedStatusTooltip\" class=\"save-status\" :class=\"lastSavedStatusClass\">\n\t\t\t\t\t\t\t{{ lastSavedStatus }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<SessionList :sessions=\"filteredSessions\">\n\t\t\t\t\t\t\t<GuestNameDialog v-if=\"isPublic && currentSession.guestName\" :sync-service=\"syncService\" />\n\t\t\t\t\t\t</SessionList>\n\t\t\t\t\t</div>\n\t\t\t\t\t<slot name=\"header\" />\n\t\t\t\t</MenuBar>\n\t\t\t\t<div ref=\"contentWrapper\" class=\"content-wrapper\">\n\t\t\t\t\t<MenuBubble v-if=\"tiptap && !readOnly && isRichEditor\"\n\t\t\t\t\t\t:editor=\"tiptap\"\n\t\t\t\t\t\t:content-wrapper=\"contentWrapper\"\n\t\t\t\t\t\t:file-path=\"relativePath\" />\n\t\t\t\t\t<EditorContent v-show=\"initialLoading\"\n\t\t\t\t\t\tclass=\"editor__content\"\n\t\t\t\t\t\t:editor=\"tiptap\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ReadOnlyEditor v-if=\"hasSyncCollission\"\n\t\t\t\t:content=\"syncError.data.outsideChange\"\n\t\t\t\t:is-rich-editor=\"isRichEditor\" />\n\t\t</div>\n\n\t\t<CollisionResolveDialog v-if=\"hasSyncCollission && !readOnly\" @resolve-use-this-version=\"resolveUseThisVersion\" @resolve-use-server-version=\"resolveUseServerVersion\" />\n\t\t<HelpModal v-if=\"displayHelp\" @close=\"hideHelp\" />\n\t</div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport escapeHtml from 'escape-html'\nimport moment from '@nextcloud/moment'\n\nimport { SyncService, ERROR_TYPE, IDLE_TIMEOUT } from './../services/SyncService'\nimport { endpointUrl, getRandomGuestName } from './../helpers'\nimport { extensionHighlight } from '../helpers/mappings'\nimport { createEditor, serializePlainText, loadSyntaxHighlight } from './../EditorFactory'\nimport { createMarkdownSerializer } from './../extensions/Markdown'\nimport markdownit from './../markdownit'\n\nimport { EditorContent } from '@tiptap/vue-2'\nimport { Collaboration, Keymap, UserColor } from './../extensions'\nimport isMobile from './../mixins/isMobile'\nimport store from './../mixins/store'\nimport Tooltip from '@nextcloud/vue/dist/Directives/Tooltip'\nimport { getVersion, receiveTransaction } from 'prosemirror-collab'\nimport { Step } from 'prosemirror-transform'\n\nconst EDITOR_PUSH_DEBOUNCE = 200\n\nexport default {\n\tname: 'EditorWrapper',\n\tcomponents: {\n\t\tEditorContent,\n\t\tMenuBar: () => import(/* webpackChunkName: \"editor-rich\" */'./MenuBar'),\n\t\tMenuBubble: () => import(/* webpackChunkName: \"editor-rich\" */'./MenuBubble'),\n\t\tReadOnlyEditor: () => import(/* webpackChunkName: \"editor\" */'./ReadOnlyEditor'),\n\t\tCollisionResolveDialog: () => import(/* webpackChunkName: \"editor\" */'./CollisionResolveDialog'),\n\t\tGuestNameDialog: () => import(/* webpackChunkName: \"editor-guest\" */'./GuestNameDialog'),\n\t\tSessionList: () => import(/* webpackChunkName: \"editor-collab\" */'./SessionList'),\n\t\tHelpModal: () => import(/* webpackChunkName: \"editor-collab\" */'./HelpModal'),\n\t},\n\tdirectives: {\n\t\tTooltip,\n\t},\n\tmixins: [\n\t\tisMobile,\n\t\tstore,\n\t],\n\tprops: {\n\t\tinitialSession: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\trelativePath: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tfileId: {\n\t\t\ttype: Number,\n\t\t\tdefault: null,\n\t\t},\n\t\tactive: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tautofocus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tshareToken: {\n\t\t\ttype: String,\n\t\t\tdefault: null,\n\t\t},\n\t\tmime: {\n\t\t\ttype: String,\n\t\t\tdefault: null,\n\t\t},\n\t\tautohide: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisDirectEditing: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tIDLE_TIMEOUT,\n\n\t\t\ttiptap: null,\n\t\t\t/** @type {SyncService} */\n\t\t\tsyncService: null,\n\n\t\t\tdocument: null,\n\t\t\tsessions: [],\n\t\t\tcurrentSession: null,\n\n\t\t\tfilteredSessions: {},\n\n\t\t\tidle: false,\n\t\t\tdirty: false,\n\t\t\tinitialLoading: false,\n\t\t\tlastSavedString: '',\n\t\t\tsyncError: null,\n\t\t\thasConnectionIssue: false,\n\t\t\treadOnly: true,\n\t\t\tforceRecreate: false,\n\n\t\t\tsaveStatusPolling: null,\n\t\t\tdisplayHelp: false,\n\t\t\tcontentWrapper: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\tshowAuthorAnnotations() {\n\t\t\treturn this.$store.state.showAuthorAnnotations\n\t\t},\n\t\tlastSavedStatus() {\n\t\t\tif (this.hasConnectionIssue) {\n\t\t\t\treturn t('text', this.isMobile ? 'Offline' : 'Offline, changes will be saved when online')\n\t\t\t}\n\t\t\treturn this.dirtyStateIndicator ? t('text', 'Saving …') : t('text', 'Saved')\n\t\t},\n\t\tlastSavedStatusClass() {\n\t\t\treturn this.syncError && this.lastSavedString !== '' ? 'error' : ''\n\t\t},\n\t\tdirtyStateIndicator() {\n\t\t\treturn this.hasUnpushedChanges || this.hasUnsavedChanges\n\t\t},\n\t\tlastSavedStatusTooltip() {\n\t\t\tlet message = t('text', 'Last saved {lastSaved}', { lastSaved: this.lastSavedString })\n\t\t\tif (this.hasSyncCollission) {\n\t\t\t\tmessage = t('text', 'The document has been changed outside of the editor. The changes cannot be applied.')\n\t\t\t}\n\t\t\tif (this.hasUnpushedChanges || this.hasUnsavedChanges) {\n\t\t\t\tmessage += ' - ' + t('text', 'Unsaved changes')\n\t\t\t}\n\t\t\treturn { content: message, placement: 'bottom' }\n\t\t},\n\t\thasSyncCollission() {\n\t\t\treturn this.syncError && this.syncError.type === ERROR_TYPE.SAVE_COLLISSION\n\t\t},\n\t\thasUnpushedChanges() {\n\t\t\treturn this.dirty\n\t\t},\n\t\thasUnsavedChanges() {\n\t\t\treturn this.document && this.document.lastSavedVersion < this.document.currentVersion\n\t\t},\n\t\tbackendUrl() {\n\t\t\treturn (endpoint) => {\n\t\t\t\treturn endpointUrl(endpoint, !!this.shareToken)\n\t\t\t}\n\t\t},\n\t\thasDocumentParameters() {\n\t\t\treturn this.fileId || this.shareToken || this.initialSession\n\t\t},\n\t\tisPublic() {\n\t\t\treturn this.isDirectEditing || (document.getElementById('isPublic') && document.getElementById('isPublic').value === '1')\n\t\t},\n\t\tisRichEditor() {\n\t\t\treturn this.mime === 'text/markdown'\n\t\t},\n\t\tfileExtension() {\n\t\t\treturn this.relativePath ? this.relativePath.split('/').pop().split('.').pop() : 'txt'\n\t\t},\n\t\tcurrentDirectory() {\n\t\t\treturn this.relativePath\n\t\t\t\t? this.relativePath.split('/').slice(0, -1).join('/')\n\t\t\t\t: '/'\n\t\t},\n\t\tdisplayed() {\n\t\t\treturn this.currentSession && this.active\n\t\t},\n\t},\n\twatch: {\n\t\tlastSavedStatus() {\n\t\t\tthis.$refs.menubar && this.$refs.menubar.redrawMenuBar()\n\t\t},\n\t\tdisplayed() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.contentWrapper = this.$refs.contentWrapper\n\t\t\t})\n\t\t},\n\t},\n\tmounted() {\n\t\tif (this.active && (this.hasDocumentParameters)) {\n\t\t\tthis.initSession()\n\t\t}\n\t\tthis.$parent.$emit('update:loaded', true)\n\t},\n\tcreated() {\n\t\tthis.saveStatusPolling = setInterval(() => {\n\t\t\tthis.updateLastSavedStatus()\n\t\t}, 2000)\n\t},\n\tbeforeDestroy() {\n\t\tthis.close()\n\t},\n\tmethods: {\n\t\tasync close() {\n\t\t\tclearInterval(this.saveStatusPolling)\n\t\t\tif (this.currentSession && this.syncService) {\n\t\t\t\ttry {\n\t\t\t\t\tawait this.syncService.close()\n\t\t\t\t\tthis.currentSession = null\n\t\t\t\t\tthis.syncService = null\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Ignore issues closing the session since those might happen due to network issues\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\t\tupdateLastSavedStatus() {\n\t\t\tif (this.document) {\n\t\t\t\tthis.lastSavedString = moment(this.document.lastSavedVersionTime * 1000).fromNow()\n\t\t\t}\n\t\t},\n\t\tinitSession() {\n\t\t\tif (!this.hasDocumentParameters) {\n\t\t\t\tthis.$parent.$emit('error', 'No valid file provided')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst guestName = localStorage.getItem('nick') ? localStorage.getItem('nick') : getRandomGuestName()\n\t\t\tthis.syncService = new SyncService({\n\t\t\t\tshareToken: this.shareToken,\n\t\t\t\tfilePath: this.relativePath,\n\t\t\t\tguestName,\n\t\t\t\tforceRecreate: this.forceRecreate,\n\t\t\t\tserialize: (document) => {\n\t\t\t\t\tif (this.isRichEditor) {\n\t\t\t\t\t\treturn (createMarkdownSerializer(this.tiptap.schema)).serialize(document)\n\t\t\t\t\t}\n\t\t\t\t\treturn serializePlainText(this.tiptap)\n\n\t\t\t\t},\n\t\t\t})\n\t\t\t\t.on('opened', ({ document, session }) => {\n\t\t\t\t\tthis.currentSession = session\n\t\t\t\t\tthis.document = document\n\t\t\t\t\tthis.readOnly = document.readOnly\n\t\t\t\t\tlocalStorage.setItem('nick', this.currentSession.guestName)\n\t\t\t\t\tthis.$store.dispatch('setCurrentSession', this.currentSession)\n\t\t\t\t})\n\t\t\t\t.on('change', ({ document, sessions }) => {\n\t\t\t\t\tif (this.document.baseVersionEtag !== '' && document.baseVersionEtag !== this.document.baseVersionEtag) {\n\t\t\t\t\t\tthis.resolveUseServerVersion()\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthis.updateSessions.bind(this)(sessions)\n\t\t\t\t\tthis.document = document\n\n\t\t\t\t\tthis.syncError = null\n\t\t\t\t\tthis.tiptap.setOptions({ editable: !this.readOnly })\n\t\t\t\t})\n\t\t\t\t.on('loaded', ({ documentSource }) => {\n\t\t\t\t\tthis.hasConnectionIssue = false\n\t\t\t\t\tconst content = this.isRichEditor\n\t\t\t\t\t\t? markdownit.render(documentSource)\n\t\t\t\t\t\t: '<pre>' + escapeHtml(documentSource) + '</pre>'\n\t\t\t\t\tloadSyntaxHighlight(extensionHighlight[this.fileExtension] || this.fileExtension).then((languages) => {\n\t\t\t\t\t\tthis.tiptap = createEditor({\n\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\tonCreate: ({ editor }) => {\n\t\t\t\t\t\t\t\tthis.syncService.state = editor.state\n\t\t\t\t\t\t\t\tthis.syncService.startSync()\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonUpdate: ({ editor }) => {\n\t\t\t\t\t\t\t\tthis.syncService.state = editor.state\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\textensions: [\n\t\t\t\t\t\t\t\tCollaboration.configure({\n\t\t\t\t\t\t\t\t\t// the initial version we start with\n\t\t\t\t\t\t\t\t\t// version is an integer which is incremented with every change\n\t\t\t\t\t\t\t\t\tversion: this.document.initialVersion,\n\t\t\t\t\t\t\t\t\tclientID: this.currentSession.id,\n\t\t\t\t\t\t\t\t\t// debounce changes so we can save some bandwidth\n\t\t\t\t\t\t\t\t\tdebounce: EDITOR_PUSH_DEBOUNCE,\n\t\t\t\t\t\t\t\t\tonSendable: ({ sendable }) => {\n\t\t\t\t\t\t\t\t\t\tif (this.syncService) {\n\t\t\t\t\t\t\t\t\t\t\tthis.syncService.sendSteps()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tupdate: ({ steps, version, editor }) => {\n\t\t\t\t\t\t\t\t\t\tconst { state, view, schema } = editor\n\t\t\t\t\t\t\t\t\t\tif (getVersion(state) > version) {\n\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tconst tr = receiveTransaction(\n\t\t\t\t\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t\t\t\t\tsteps.map(item => Step.fromJSON(schema, item.step)),\n\t\t\t\t\t\t\t\t\t\t\tsteps.map(item => item.clientID),\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\ttr.setMeta('clientID', steps.map(item => item.clientID))\n\t\t\t\t\t\t\t\t\t\tview.dispatch(tr)\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tKeymap.configure({\n\t\t\t\t\t\t\t\t\t'Mod-s': () => {\n\t\t\t\t\t\t\t\t\t\tthis.syncService.save()\n\t\t\t\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tUserColor.configure({\n\t\t\t\t\t\t\t\t\tclientID: this.currentSession.id,\n\t\t\t\t\t\t\t\t\tcolor: (clientID) => {\n\t\t\t\t\t\t\t\t\t\tconst session = this.sessions.find(item => '' + item.id === '' + clientID)\n\t\t\t\t\t\t\t\t\t\treturn session?.color\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tname: (clientID) => {\n\t\t\t\t\t\t\t\t\t\tconst session = this.sessions.find(item => '' + item.id === '' + clientID)\n\t\t\t\t\t\t\t\t\t\treturn session?.userId ? session.userId : session?.guestName\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tenableRichEditing: this.isRichEditor,\n\t\t\t\t\t\t\tlanguages,\n\t\t\t\t\t\t\tcurrentDirectory: this.currentDirectory,\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.tiptap.on('focus', () => {\n\t\t\t\t\t\t\tthis.$emit('focus')\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.tiptap.on('blur', () => {\n\t\t\t\t\t\t\tthis.$emit('blur')\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.syncService.state = this.tiptap.state\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.on('sync', ({ steps, document }) => {\n\t\t\t\t\tthis.hasConnectionIssue = false\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst collaboration = this.tiptap.extensionManager.extensions.find(e => e.name === 'collaboration')\n\t\t\t\t\t\tcollaboration.options.update({\n\t\t\t\t\t\t\tversion: document.currentVersion,\n\t\t\t\t\t\t\tsteps,\n\t\t\t\t\t\t\teditor: this.tiptap,\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.syncService.state = this.tiptap.state\n\t\t\t\t\t\tthis.updateLastSavedStatus()\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error('Failed to update steps in collaboration plugin', e)\n\t\t\t\t\t\t// TODO: we should recreate the editing session when this happens\n\t\t\t\t\t}\n\t\t\t\t\tthis.document = document\n\t\t\t\t})\n\t\t\t\t.on('error', (error, data) => {\n\t\t\t\t\tthis.tiptap.setOptions({ editable: false })\n\t\t\t\t\tif (error === ERROR_TYPE.SAVE_COLLISSION && (!this.syncError || this.syncError.type !== ERROR_TYPE.SAVE_COLLISSION)) {\n\t\t\t\t\t\tthis.initialLoading = true\n\t\t\t\t\t\tthis.syncError = {\n\t\t\t\t\t\t\ttype: error,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (error === ERROR_TYPE.CONNECTION_FAILED && !this.hasConnectionIssue) {\n\t\t\t\t\t\tthis.hasConnectionIssue = true\n\t\t\t\t\t\t// FIXME: ideally we just try to reconnect in the service, so we don't loose steps\n\t\t\t\t\t\tOC.Notification.showTemporary('Connection failed, reconnecting')\n\t\t\t\t\t\tif (data.retry !== false) {\n\t\t\t\t\t\t\tsetTimeout(this.reconnect.bind(this), 5000)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (error === ERROR_TYPE.SOURCE_NOT_FOUND) {\n\t\t\t\t\t\tthis.hasConnectionIssue = true\n\t\t\t\t\t}\n\t\t\t\t\tthis.$emit('ready')\n\t\t\t\t})\n\t\t\t\t.on('stateChange', (state) => {\n\t\t\t\t\tif (state.initialLoading && !this.initialLoading) {\n\t\t\t\t\t\tthis.initialLoading = true\n\t\t\t\t\t\tif (this.autofocus) {\n\t\t\t\t\t\t\tthis.tiptap.focus(1, 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.$emit('ready')\n\t\t\t\t\t\tthis.$parent.$emit('ready', true)\n\t\t\t\t\t}\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(state, 'dirty')) {\n\t\t\t\t\t\tthis.dirty = state.dirty\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('idle', () => {\n\t\t\t\t\tthis.syncService.close()\n\t\t\t\t\tthis.idle = true\n\t\t\t\t\tthis.readOnly = true\n\t\t\t\t\tthis.tiptap.setOptions({ editable: !this.readOnly })\n\t\t\t\t})\n\t\t\tif (this.initialSession === null) {\n\t\t\t\tthis.syncService.open({\n\t\t\t\t\tfileId: this.fileId,\n\t\t\t\t\tfilePath: this.relativePath,\n\t\t\t\t}).catch((e) => {\n\t\t\t\t\tthis.hasConnectionIssue = true\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.syncService.open({\n\t\t\t\t\tinitialSession: this.initialSession,\n\t\t\t\t}).catch((e) => {\n\t\t\t\t\tthis.hasConnectionIssue = true\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.forceRecreate = false\n\t\t},\n\n\t\tresolveUseThisVersion() {\n\t\t\tthis.syncService.forceSave()\n\t\t\tthis.tiptap.setOptions({ editable: !this.readOnly })\n\t\t},\n\n\t\tresolveUseServerVersion() {\n\t\t\tthis.forceRecreate = true\n\t\t\tthis.reconnect()\n\t\t},\n\n\t\treconnect() {\n\t\t\tthis.initialLoading = false\n\t\t\tthis.hasConnectionIssue = false\n\t\t\tif (this.syncService) {\n\t\t\t\tthis.syncService.close().then(() => {\n\t\t\t\t\tthis.syncService = null\n\t\t\t\t\tthis.tiptap.destroy()\n\t\t\t\t\tthis.initSession()\n\t\t\t\t}).catch((e) => {\n\t\t\t\t\t// Ignore issues closing the session since those might happen due to network issues\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.syncService = null\n\t\t\t\tthis.tiptap.destroy()\n\t\t\t\tthis.initSession()\n\t\t\t}\n\t\t\tthis.idle = false\n\t\t},\n\n\t\tupdateSessions(sessions) {\n\t\t\tthis.sessions = sessions.sort((a, b) => b.lastContact - a.lastContact)\n\n\t\t\t// Make sure we get our own session updated\n\t\t\t// This should ideally be part of a global store where we can have that updated on the actual name change for guests\n\t\t\tconst currentUpdatedSession = this.sessions.find(session => session.id === this.currentSession.id)\n\t\t\tVue.set(this, 'currentSession', currentUpdatedSession)\n\n\t\t\tconst currentSessionIds = this.sessions.map((session) => session.userId)\n\t\t\tconst currentGuestIds = this.sessions.map((session) => session.guestId)\n\n\t\t\tconst removedSessions = Object.keys(this.filteredSessions)\n\t\t\t\t.filter(sessionId => !currentSessionIds.includes(sessionId) && !currentGuestIds.includes(sessionId))\n\n\t\t\tfor (const index in removedSessions) {\n\t\t\t\tVue.delete(this.filteredSessions, removedSessions[index])\n\t\t\t}\n\t\t\tfor (const index in this.sessions) {\n\t\t\t\tconst session = this.sessions[index]\n\t\t\t\tconst sessionKey = session.displayName ? session.userId : session.id\n\t\t\t\tif (this.filteredSessions[sessionKey]) {\n\t\t\t\t\t// update timestamp if relevant\n\t\t\t\t\tif (this.filteredSessions[sessionKey].lastContact < session.lastContact) {\n\t\t\t\t\t\tVue.set(this.filteredSessions[sessionKey], 'lastContact', session.lastContact)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tVue.set(this.filteredSessions, sessionKey, session)\n\t\t\t\t}\n\t\t\t\tif (session.id === this.currentSession.id) {\n\t\t\t\t\tVue.set(this.filteredSessions[sessionKey], 'isCurrent', true)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tshowHelp() {\n\t\t\tthis.displayHelp = true\n\t\t},\n\n\t\thideHelp() {\n\t\t\tthis.displayHelp = false\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t#editor-container {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\tmax-width: 100%;\n\t\theight: 100%;\n\t\tleft: 0;\n\t\ttop: 50px;\n\t\tmargin: 0 auto;\n\t\tposition: relative;\n\t\tbackground-color: var(--color-main-background);\n\t}\n\n\t#editor-wrapper {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t\tposition: absolute;\n\n\t\t&.show-color-annotations::v-deep .author-annotation {\n\t\t\tpadding-top: 2px;\n\t\t\tpadding-bottom: 2px;\n\t\t}\n\n\t\t&:not(.show-color-annotations)::v-deep .author-annotation,\n\t\t&:not(.show-color-annotations)::v-deep .image {\n\t\t\tbackground-color: transparent !important;\n\t\t\tcolor: var(--color-main-text) !important;\n\t\t}\n\n\t\t.ProseMirror {\n\t\t\tmargin-top: 0 !important;\n\t\t}\n\t\t&.icon-loading {\n\t\t\t#editor {\n\t\t\t\topacity: 0.3;\n\t\t\t}\n\t\t}\n\t}\n\n\t#editor, .editor {\n\t\tbackground: var(--color-main-background);\n\t\tcolor: var(--color-main-text);\n\t\tbackground-clip: padding-box;\n\t\tborder-radius: var(--border-radius);\n\t\tpadding: 0;\n\t\tposition: relative;\n\t\toverflow-y: auto;\n\t\toverflow-x: hidden;\n\t\twidth: 100%;\n\t}\n\n\t.document-status {\n\t\tposition: relative;\n\t\tbackground-color: var(--color-main-background);\n\n\t\t.msg {\n\t\t\tpadding: 12px;\n\t\t\tbackground-position: 8px center;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\n\t\t\t&.icon-error {\n\t\t\t\tpadding-left: 30px;\n\t\t\t}\n\n\t\t\t.button {\n\t\t\t\tmargin-left: 8px;\n\t\t\t}\n\t\t}\n\t}\n\n\t.save-status {\n\t\tdisplay: inline-flex;\n\t\tpadding: 0;\n\t\ttext-overflow: ellipsis;\n\t\tcolor: var(--color-text-lighter);\n\t\tposition: relative;\n\t\ttop: 9px;\n\t\tmin-width: 85px;\n\t\tmax-height: 36px;\n\n\t\t&.error {\n\t\t\tbackground-color: var(--color-error);\n\t\t\tcolor: var(--color-main-background);\n\t\t\tborder-radius: 3px;\n\t\t}\n\t}\n\n\t#editor-container #editor-wrapper.has-conflicts {\n\t\theight: calc(100% - 50px);\n\n\t\t#editor, #read-only-editor {\n\t\t\twidth: 50%;\n\t\t\theight: 100%;\n\t\t}\n\t}\n\n\t#editor-session-list {\n\t\tdisplay: flex;\n\n\t\tinput, div {\n\t\t\tvertical-align: middle;\n\t\t\tmargin-left: 3px;\n\t\t}\n\t}\n\n\t.editor__content {\n\t\tmax-width: 670px;\n\t\tmargin: auto;\n\t\tposition: relative;\n\t}\n\n\t#body-public {\n\t\theight: auto;\n\t}\n\n\t#files-public-content {\n\t\t#editor-container {\n\t\t\ttop: 0;\n\t\t\twidth: 100%;\n\n\t\t\t#editor::v-deep .menubar {\n\t\t\t\tposition: sticky;\n\t\t\t\ttop: 0px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t#editor {\n\t\t\t\toverflow: auto;\n\t\t\t\tz-index: 20;\n\t\t\t}\n\t\t\t.has-conflicts #editor {\n\t\t\t\tpadding-top: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t.ie {\n\t\t#editor::v-deep .menubar {\n\t\t\t// sticky position is not working as body is our scroll container\n\t\t\tposition: fixed;\n\t\t\ttop: 50px;\n\t\t\twidth: 100%;\n\t\t}\n\t\t.editor__content::v-deep .ProseMirror {\n\t\t\tpadding-top: 50px;\n\t\t}\n\t}\n</style>\n<style lang=\"scss\">\n\t@import './../../css/style';\n\n\t#editor-wrapper {\n\t\t@import './../../css/prosemirror';\n\n\t\t&:not(.richEditor) .ProseMirror {\n\t\t\tpre {\n\t\t\t\tbackground-color: var(--color-main-background);\n\n\t\t\t\t&::before {\n\t\t\t\t\tcontent: attr(data-language);\n\t\t\t\t\ttext-transform: uppercase;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\ttext-align: right;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tfont-size: 0.6rem;\n\t\t\t\t}\n\t\t\t\tcode {\n\t\t\t\t\t.hljs-comment,\n\t\t\t\t\t.hljs-quote {\n\t\t\t\t\t\tcolor: #999999;\n\t\t\t\t\t}\n\t\t\t\t\t.hljs-variable,\n\t\t\t\t\t.hljs-template-variable,\n\t\t\t\t\t.hljs-attribute,\n\t\t\t\t\t.hljs-tag,\n\t\t\t\t\t.hljs-name,\n\t\t\t\t\t.hljs-regexp,\n\t\t\t\t\t.hljs-link,\n\t\t\t\t\t.hljs-selector-id,\n\t\t\t\t\t.hljs-selector-class {\n\t\t\t\t\t\tcolor: #f2777a;\n\t\t\t\t\t}\n\t\t\t\t\t.hljs-number,\n\t\t\t\t\t.hljs-meta,\n\t\t\t\t\t.hljs-built_in,\n\t\t\t\t\t.hljs-builtin-name,\n\t\t\t\t\t.hljs-literal,\n\t\t\t\t\t.hljs-type,\n\t\t\t\t\t.hljs-params {\n\t\t\t\t\t\tcolor: #f99157;\n\t\t\t\t\t}\n\t\t\t\t\t.hljs-string,\n\t\t\t\t\t.hljs-symbol,\n\t\t\t\t\t.hljs-bullet {\n\t\t\t\t\t\tcolor: #99cc99;\n\t\t\t\t\t}\n\t\t\t\t\t.hljs-title,\n\t\t\t\t\t.hljs-section {\n\t\t\t\t\t\tcolor: #ffcc66;\n\t\t\t\t\t}\n\t\t\t\t\t.hljs-keyword,\n\t\t\t\t\t.hljs-selector-tag {\n\t\t\t\t\t\tcolor: #6699cc;\n\t\t\t\t\t}\n\t\t\t\t\t.hljs-emphasis {\n\t\t\t\t\t\tfont-style: italic;\n\t\t\t\t\t}\n\t\t\t\t\t.hljs-strong {\n\t\t\t\t\t\tfont-weight: 700;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// relative position for the alignment of the menububble\n\t\t#editor {\n\t\t\t.content-wrapper {\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Required in order to make the public pages behave the same if talk is enabled or not\n\t// as Talk overwrites the public page styles and changes the DOM layout for the sidebar injection\n\t#files-public-content {\n\t\theight: 100%;\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorWrapper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorWrapper.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorWrapper.vue?vue&type=style&index=0&id=79f22b78&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorWrapper.vue?vue&type=style&index=0&id=79f22b78&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorWrapper.vue?vue&type=style&index=1&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorWrapper.vue?vue&type=style&index=1&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./EditorWrapper.vue?vue&type=template&id=79f22b78&scoped=true&\"\nimport script from \"./EditorWrapper.vue?vue&type=script&lang=js&\"\nexport * from \"./EditorWrapper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditorWrapper.vue?vue&type=style&index=0&id=79f22b78&scoped=true&lang=scss&\"\nimport style1 from \"./EditorWrapper.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79f22b78\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.editor)?_c('EditorContent',{attrs:{\"id\":\"read-only-editor\",\"editor\":_vm.editor}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<EditorContent v-if=\"editor\" id=\"read-only-editor\" :editor=\"editor\" />\n</template>\n\n<script>\nimport { EditorContent } from '@tiptap/vue-2'\nimport escapeHtml from 'escape-html'\nimport { createEditor } from '../EditorFactory'\nimport markdownit from './../markdownit'\n\nexport default {\n\tname: 'ReadOnlyEditor',\n\tcomponents: { EditorContent },\n\tprops: {\n\t\tcontent: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tisRichEditor: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tdata: () => {\n\t\treturn {\n\t\t\teditor: null,\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.editor = createEditor({\n\t\t\tcontent: this.isRichEditor ? markdownit.render(this.content) : '<pre>' + escapeHtml(this.content) + '</pre>',\n\t\t\tenableRichEditing: this.isRichEditor,\n\t\t})\n\t\tthis.editor.setOptions({ editable: false })\n\t},\n\tbeforeDestroy() {\n\t\tthis.editor.destroy()\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n\n\t#read-only-editor {\n\t\t@import './../../css/prosemirror';\n\t\toverflow: scroll;\n\t}\n\n\t.thumbnailContainer #read-only-editor  {\n\t\twidth: 100%;\n\n\t\t.ProseMirror {\n\t\t\theight: auto;\n\t\t\tmargin: 0 0 0 0;\n\t\t\tpadding: 0;\n\t\t}\n\t}\n\n</style>\n<style lang=\"scss\">\n\t@import './../../css/prosemirror';\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadOnlyEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadOnlyEditor.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadOnlyEditor.vue?vue&type=style&index=0&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadOnlyEditor.vue?vue&type=style&index=0&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadOnlyEditor.vue?vue&type=style&index=1&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadOnlyEditor.vue?vue&type=style&index=1&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ReadOnlyEditor.vue?vue&type=template&id=50fe6c2c&\"\nimport script from \"./ReadOnlyEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ReadOnlyEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReadOnlyEditor.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./ReadOnlyEditor.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'icon-loading': _vm.saving},attrs:{\"id\":\"direct-editor\"}},[_c('EditorWrapper',{ref:\"editor\",attrs:{\"initial-session\":_vm.initialSession,\"active\":true,\"mime\":_vm.initial.mimetype,\"is-direct-editing\":true},on:{\"ready\":_vm.loaded},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('button',{staticClass:\"icon-share\",on:{\"click\":_vm.share}}),_vm._v(\" \"),_c('button',{staticClass:\"icon-close\",on:{\"click\":_vm.close}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div id=\"direct-editor\" :class=\"{'icon-loading': saving}\">\n\t\t<EditorWrapper ref=\"editor\"\n\t\t\t:initial-session=\"initialSession\"\n\t\t\t:active=\"true\"\n\t\t\t:mime=\"initial.mimetype\"\n\t\t\t:is-direct-editing=\"true\"\n\t\t\t@ready=\"loaded\">\n\t\t\t<template #header>\n\t\t\t\t<button class=\"icon-share\" @click=\"share\" />\n\t\t\t\t<button class=\"icon-close\" @click=\"close\" />\n\t\t\t</template>\n\t\t</EditorWrapper>\n\t</div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport EditorWrapper from '../components/EditorWrapper'\n\nconst log = Vue.observable({\n\tmessages: [],\n\tmtime: 0,\n})\n\nconst callMobileMessage = (messageName, attributes) => {\n\tconsole.debug('callMobileMessage ' + messageName, attributes)\n\tlet message = messageName\n\tif (typeof attributes !== 'undefined') {\n\t\tmessage = {\n\t\t\tMessageName: messageName,\n\t\t\tValues: attributes,\n\t\t}\n\t}\n\tlet attributesString = null\n\ttry {\n\t\tattributesString = JSON.stringify(attributes)\n\t} catch (e) {\n\t\tattributesString = null\n\t}\n\n\t// Forward to mobile handler\n\tif (window.DirectEditingMobileInterface && typeof window.DirectEditingMobileInterface[messageName] === 'function') {\n\t\tif (attributesString === null || typeof attributesString === 'undefined') {\n\t\t\twindow.DirectEditingMobileInterface[messageName]()\n\t\t} else {\n\t\t\twindow.DirectEditingMobileInterface[messageName](attributesString)\n\t\t}\n\t}\n\n\t// iOS webkit fallback\n\tif (window.webkit\n\t\t&& window.webkit.messageHandlers\n\t\t&& window.webkit.messageHandlers.DirectEditingMobileInterface) {\n\t\twindow.webkit.messageHandlers.DirectEditingMobileInterface.postMessage(message)\n\t}\n\n\twindow.postMessage(message)\n}\n\nwindow.addEventListener('message', function(message) {\n\tlog.messages.push(message.data)\n\tconsole.debug('postMessage', message)\n})\n\nexport default {\n\tname: 'DirectEditing',\n\tcomponents: { EditorWrapper },\n\tdata() {\n\t\treturn {\n\t\t\tinitial: OCP.InitialState.loadState('text', 'file'),\n\t\t\tmessages: log.messages,\n\t\t\tlog,\n\t\t\tsaving: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tinitialSession() {\n\t\t\treturn JSON.parse(this.initial.session) || null\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tcallMobileMessage('loading')\n\t},\n\tmounted() {\n\t\tdocument.querySelector('meta[name=\"viewport\"]').setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0')\n\t},\n\tmethods: {\n\t\tasync close() {\n\t\t\tthis.saving = true\n\t\t\tsetTimeout(async () => {\n\t\t\t\tawait this.$refs.editor.close()\n\t\t\t\tcallMobileMessage('close')\n\t\t\t}, 0)\n\t\t},\n\t\tshare() {\n\t\t\tcallMobileMessage('share')\n\t\t},\n\t\tloaded() {\n\t\t\tcallMobileMessage('loaded')\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\tbody {\n\t\tposition: fixed;\n\t}\n\n\t#direct-editor {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: fixed;\n\t\toverflow: hidden;\n\n\t\t&::v-deep #editor-container {\n\t\t\theight: 100%;\n\t\t\ttop: 0;\n\t\t}\n\t\t&::v-deep #editor-wrapper div.ProseMirror {\n\t\t\tmargin-top: 0;\n\t\t}\n\t}\n\n\tpre {\n\t\twidth: 100%;\n\t\tmax-width: 700px;\n\t\tmargin: auto;\n\t\tbackground-color: var(--color-background-dark);\n\t}\n\n\tbutton {\n\t\twidth: 44px;\n\t\theight: 44px;\n\t\tmargin: 0;\n\t\tbackground-size: 16px;\n\t\tborder: 0;\n\t\tbackground-color: transparent;\n\t\topacity: .5;\n\t\tcolor: var(--color-main-text);\n\t\tbackground-position: center center;\n\t\tvertical-align: top;\n\t\t&:hover, &:focus, &:active {\n\t\t\tbackground-color: var(--color-background-dark);\n\t\t}\n\t\t&.is-active,\n\t\t&:hover,\n\t\t&:focus {\n\t\t\topacity: 1;\n\t\t}\n\n\t\t&.icon-undo, &.icon-redo {\n\t\t\topacity: .4;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DirectEditing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DirectEditing.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DirectEditing.vue?vue&type=style&index=0&id=8decc61c&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DirectEditing.vue?vue&type=style&index=0&id=8decc61c&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./DirectEditing.vue?vue&type=template&id=8decc61c&scoped=true&\"\nimport script from \"./DirectEditing.vue?vue&type=script&lang=js&\"\nexport * from \"./DirectEditing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DirectEditing.vue?vue&type=style&index=0&id=8decc61c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8decc61c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["basedir","file","end","lastIndexOf","slice","domHref","node","ref","attrs","href","match","relPath","id","dir","base","rel","split","pop","shift","concat","join","absolutePath","OCA","Viewer","generateUrl","parseHref","dom","getAttribute","path","TipTapLink","default","inclusive","parseDOM","tag","getAttrs","toDOM","title","addProseMirrorPlugins","this","options","openOnClick","Plugin","props","handleClick","view","pos","event","editor","getAttributes","isLink","target","HTMLAnchorElement","parentElement","linkElement","stopPropagation","htmlHref","button","ctrlKey","startsWith","window","location","origin","query","OC","parseQueryString","fragment","filename","document","theme","pathname","open","markdownit","console","error","TipTapStrike","parseHTML","style","value","renderHTML","toMarkdown","close","mixable","expelEnclosingWhitespace","Bold","name","addInputRules","markInputRule","find","starInputRegex","type","addPasteRules","markPasteRule","starPasteRegex","TipTapUnderline","underscoreInputRegex","underscorePasteRegex","Italic","TipTapItalic","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","_vm","_h","$createElement","_c","_self","staticClass","class","loaded","src","imageLoaded","isSupportedImage","directives","rawName","showIcons","expression","on","$event","imageUrl","onLoaded","_v","domProps","alt","indexOf","_k","keyCode","key","updateAlt","deleteImage","_e","internalLinkOrImage","_s","TiptapImage","selectable","addOptions","parent","currentDirectory","undefined","addNodeView","VueNodeViewRenderer","ImageView","Node","content","addKeyboardShortcuts","Tab","commands","insertContent","TYPES","getParentList","schema","selection","findParentNode","nodes","listItem","TipTapListItem","nested","addAttributes","done","draggable","HTMLAttributes","listAttributes","checkboxAttributes","contenteditable","checked","mergeAttributes","priority","el","checkbox","querySelector","state","write","renderContent","addCommands","bulletListItem","toggleList","todo_item","chain","$from","$to","blockRange","parentList","command","tr","doc","nodesBetween","from","to","setNodeMarkup","scrollIntoView","run","wrappingInputRule","includes","length","_match","InputRule","handler","range","insertText","coordinates","posAtCoords","left","clientX","top","clientY","position","resolve","findParentNodeClosestToPos","isListClicked","tagName","toLowerCase","dispatch","TiptapBulletList","nodeEqualsType","types","Array","isArray","Extension","notAfter","plugin","PluginKey","disabledNodes","Object","entries","map","filter","appendTransaction","_","__","shouldInsertNodeAtEnd","getState","endPosition","size","create","init","lastChild","apply","docChanged","loadSyntaxHighlight","language","languages","modules","i","lang","keys","constructor","createEditor","onCreate","onUpdate","extensions","enableRichEditing","richEditingExtensions","Markdown","Document","Paragraph","Heading","Strong","Strike","Link","Blockquote","Codeblock","BulletList","OrderedList","ListItem","Underline","Image","inline","Emoji","Placeholder","emptyNodeClass","placeholder","t","showOnlyWhenEditable","TrailingNode","PlainTextDocument","Editor","Text","History","SerializeException","message","serializePlainText","tiptap","getJSON","codeBlock","text","extendMarkSchema","extension","context","storage","getExtensionField","extendNodeSchema","createMarkdownSerializer","marks","defaultNodes","convertNames","defaultMarkdownSerializer","defaultMarks","serializer","MarkdownSerializer","extractToMarkdown","serialize","tightLists","nodesOrMarks","spec","reduce","items","object","convert","replace","_m","letter","toUpperCase","fromEntries","emoji","handleKeyDown","metaKey","shiftKey","dispatchEvent","Span","author","updateBlameMap","transform","clientIDs","result","mapping","span","push","maps","after","forEach","start","next","splice","Math","min","max","insertIntoBlameMap","TrackState","blameMap","clientID","getMeta","steps","item","color","floor","abs","sin","toString","instance","tracked","deco","DecorationSet","oldState","decos","tState","setMeta","applyTransform","Decoration","dec","decorations","timeout","fn","delay","getSendableSteps","sendable","sendableSteps","onSendable","version","step","toJSON","debounce","args","clearTimeout","setTimeout","random","update","getVersion","receiveTransaction","Step","collab","documentReady","callback","attachEvent","readyState","addEventListener","_baseUrl","endpointUrl","endpoint","isPublic","randomGuestNames","getRandomGuestName","MarkdownIt","html","breaks","enable","use","taskLists","labelAfter","md","ruler2","tokens","token","markup","data","isMobile","_isMobile","beforeMount","_onResize","beforeDestroy","removeEventListener","methods","documentElement","clientWidth","$store","store","persistentStorage","getBuilder","persist","build","Vue","Vuex","showAuthorAnnotations","getItem","currentSession","mutations","SET_SHOW_AUTHOR_ANNOTATIONS","setItem","SET_CURRENT_SESSION","actions","setShowAuthorAnnotations","commit","setCurrentSession","___CSS_LOADER_EXPORT___","module","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_REPLACEMENT_0___","webpackAsyncContext","req","__webpack_require__","o","Promise","then","e","Error","code","ids","exports","webpackContext","webpackContextResolve","$emit","PollingBackend","authority","_authority","fetchInterval","retryTime","lock","fetchRetryCounter","initialLoadingFinished","fetcher","setInterval","_fetchSteps","bind","visibilitychange","shareToken","_forcedSave","fetchSteps","_manualSave","autosaveContent","_getVersion","lastSavedVersion","_getContent","axios","_isPublic","documentId","sessionId","session","sessionToken","force","manualSave","filePath","response","debug","emit","sessions","checkIdle","lastContact","Date","now","FETCH_INTERVAL_INVISIBLE","maximumRefetchTimer","increaseRefetchTimer","dirty","initialLoading","_receiveSteps","resetRefetchTimer","catch","status","currentVersion","ERROR_TYPE","SAVE_COLLISSION","outsideChange","SOURCE_NOT_FOUND","disconnect","CONNECTION_FAILED","retry","_sendable","sendSteps","s","carefulRetryReset","PUSH_FAILURE","Notification","showTemporary","carefulRetry","clearInterval","visibilityState","newRetry","defaultOptions","forceRecreate","LOAD_ERROR","SyncService","eventHandlers","opened","fetched","sync","stateChange","change","save","idle","backend","assign","stepClientIDs","lastStepPush","fileId","initialSession","connectionData","_openDocument","readOnly","_fetchDocument","documentSource","connect","guestName","transformResponse","reject","newSteps","singleSteps","IDLE_TIMEOUT","_getDocument","forceSave","closed","_close","image","formData","FormData","append","url","headers","imageLink","params","link","imagePath","_this","additionalData","extensionHighlight","py","gyp","wsgi","htm","xhtml","erl","jsp","pl","rss","atom","xsl","plist","rb","builder","gemspec","podspec","thor","diff","hs","icl","php3","php4","php5","php6","sh","zsh","st","as","apacheconf","osacript","b","bf","clj","coffee","cson","iced","c","h","hh","jinja","bat","cmd","fs","hbs","sublime_metrics","sublime_session","mk","mak","mkdown","mkd","nginxconf","m","mm","ml","rs","sci","vb","vbs","reconnect","hasSyncCollission","hasConnectionIssue","isRichEditor","syncError","syncService","relativePath","autohide","showHelp","lastSavedStatusClass","lastSavedStatus","filteredSessions","_t","contentWrapper","resolveUseThisVersion","resolveUseServerVersion","hideHelp","saving","initial","mimetype","scopedSlots","_u","share","proxy"],"sourceRoot":""}